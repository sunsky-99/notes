[ ca ]
default_ca = CA_default

[ CA_default ]
dir = ./myCA
database = $dir/index.txt
new_certs_dir = $dir/newcerts
certificate = $dir/rootCA.crt
private_key = $dir/rootCA.key
serial = $dir/serial
default_days = 3650
default_md = sha256
policy = policy_anything
email_in_dn = no
nameopt = default_ca
certopt = default_ca
copy_extensions = copy

[ policy_anything ]
countryName             = supplied
stateOrProvinceName     = optional
localityName            = optional
organizationName        = optional
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional

[ req ]
default_bits = 2048
distinguished_name = req_distinguished_name
prompt = no
x509_extensions = v3_ca

[ req_distinguished_name ]
# Adjust the following fields to your own values
countryName = US
stateOrProvinceName = SomeState
localityName = SomeCity
organizationName = MyOrganization
commonName = MyCommonName

[ v3_ca ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true
keyUsage = critical, keyCertSign, cRLSign

[ v3_intermediate_ca ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical, CA:true, pathlen:0
keyUsage = critical, keyCertSign, cRLSign

[ server_cert ]
authorityKeyIdentifier=keyid,issuer
basicConstraints = critical, CA:FALSE
keyUsage = critical, digitalSignature, keyEncipherment
subjectAltName = @alt_names

[ alt_names ]
DNS.1 = server.example.com
DNS.2 = www.example.com
