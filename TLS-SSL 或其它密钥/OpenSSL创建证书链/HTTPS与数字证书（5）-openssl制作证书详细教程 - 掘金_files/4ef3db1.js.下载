(window.webpackJsonp=window.webpackJsonp||[]).push([[52,1,5,11,31,32,34,151,163,164,165,166,167,168,214,327,329,330],{1006:function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.header="1",e.footer="2",e.feed="3",e.collect="4",e.comment="5",e.code="6"}(r||(r={})),function(e){e.auto="1",e.hover="2"}(o||(o={}))},1015:function(e,t,n){"use strict";var r={props:["user"],computed:{isVisible:function(){if(this.user){var e=this.user.isBindedPhone;return this.user&&!e}return!1}},methods:{bindPhone:function(){this.$requestBindPhoneNumber()}}},o=(n(1022),n(29)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth-card"},[n("transition",{attrs:{name:"fade"}},[e.isVisible?n("div",{staticClass:"auth-cover"},[n("span",{staticClass:"hint"}),e._v("\n      您需要\n      "),n("a",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.bindPhone(t)}}},[e._v("绑定手机号")]),e._v("\n      后才可在社区内发布内容。\n    ")]):e._e()]),e._v(" "),e._t("default")],2)}),[],!1,null,"54d0b292",null);t.a=component.exports},1016:function(e,t,n){"use strict";var r=n(9),o=n(1023),c=n.n(o),l=Object(r.d)({components:{EmotionIcon:c.a,Picker:function(){return n.e(43).then(n.bind(null,4407))}},emits:["selectEmoji"],setup:function(e,t){var n=t.root,o=t.emit,c=Object(r.r)(!1);var l=Object(r.r)(!1),d=Object(r.x)(c,(function(){l.value=!0,d()}));return{once:l,visible:c,toggleShow:function(){n.$validLoginAndBindPhone()&&(c.value=!c.value)},hide:function(){c.value=!1},handleChange:function(e){o("selectEmoji",e.source)}}}}),d=(n(1024),n(29)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:e.hide,expression:"hide"}],staticClass:"emoji-container"},[n("div",{staticClass:"emoji-box",class:e.visible&&"active",on:{click:e.toggleShow}},[n("EmotionIcon",{staticClass:"icon"}),e._v(" "),n("span",[e._v("表情")])],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.once?n("Picker",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],on:{change:e.handleChange}}):e._e()],1)],1)}),[],!1,null,"122e5658",null);t.a=component.exports},1017:function(e,t,n){"use strict";n(1125);var r=n(29),component=Object(r.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"container"},[t("em",{staticClass:"triangle"})])}],!1,null,"5ae2b6bc",null);t.a=component.exports},1019:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));n(43),n(65),n(75),n(26),n(27),n(7);function r(e,t){if(0===e)return 0;var n=function(e,t){var n,r,o=0,c=e.toString(),l=t.toString();try{o+=(null===(n=c.split(".")[1])||void 0===n?void 0:n.length)||0}catch(e){console.error(e)}try{o+=(null===(r=l.split(".")[1])||void 0===r?void 0:r.length)||0}catch(e){console.error(e)}c=Number(c.replace(".","")),l=Number(l.replace(".",""));var d=c*l/Math.pow(10,o),h=t>0?.01:0;return Math.max(h,d)}(e,isNaN(t)?1:t/10);return 0===n?0:n.toFixed(2)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startTime:0,endTime:0},t=e.startTime,n=e.endTime,time=(new Date).getTime();return time>t&&time<n}function c(e){if(e<0||!e)return"0秒";if(0<=e&&e<60)return e+"秒";var t=Math.floor(e/60),s=Math.floor(e%60);return s>0?t+"分"+s+"秒":t+"分"}},1022:function(e,t,n){"use strict";n(923)},1023:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"}})]))}}},1024:function(e,t,n){"use strict";n(924)},1025:function(e,t,n){},1026:function(e,t,n){},1028:function(e,t,n){"use strict";n(933)},1029:function(e,t,n){},1030:function(e,t,n){},1031:function(e,t,n){},1032:function(e,t,n){},1034:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));n(43),n(76);function r(e){return e>=1e4?"".concat((e/1e4).toFixed(1),"w"):e>=1e3?"".concat((e/1e3).toFixed(1),"k"):"".concat(e)}function o(e){return e>1e8?"".concat(parseInt("".concat(e/1e8)),"亿+"):e>1e4?"".concat(parseInt("".concat(e/1e4)),"w+"):"".concat(e)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e/100).toFixed(2)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0===e?0:e/100}},1035:function(e,t,n){"use strict";n(22);var r=n(4),o=(n(65),n(9)),c=n(82),l=n(1050),d=n(303),h=n(44),f=n(15),m=n(56),v=n(74),y=n(866),_=n(1049),C=Object(o.d)({components:{Entry:_.a,XituSkeleton:d.a,RecommendUsers:l.a,LoginItem:function(){return n.e(35).then(n.bind(null,4405))}},props:{list:Array,loading:Boolean,emptyText:String,noEmptyIndication:Boolean,user:Object,fromPage:String,enableDislikeButton:Boolean,enableTransferButton:Boolean,loginItemIndex:Number,recommendUserIndex:{type:Number,default:-1},enterMethod:String,isPostView:Boolean,teaFollowType:{type:Number,default:y.b.other},searchId:{type:String,default:""},searchWords:{type:String,default:""},hideDate:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideComment:{type:Boolean,default:!1}},emits:["transfer","collection-delete"],data:function(){return{dislikeWhiteListUserIds:void 0}},fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.enableDislikeButton){t.next=2;break}return t.abrupt("return");case 2:if(!e.dislikeWhiteListUserIds){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,c.a.GetDislikeWhiteList();case 7:r=t.sent,o=null!==(n=r.user_ids)&&void 0!==n?n:[],e.dislikeWhiteListUserIds=o.reduce((function(e,t){return e[t]=!0,e}),{}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),e.dislikeWhiteListUserIds={},console.warn("get dislike whitelist err:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})))()},computed:{nodata:function(){return!this.noEmptyIndication&&!this.loading&&this.list&&0===this.list.length},isLoading:function(){var e,t=null===(e=this.$store.state.env)||void 0===e?void 0:e.ua;return!Object(f.p)(t)&&this.loading}},mounted:function(){var e=this,t=this.$getBean("eventBus");t.onVmLife(this,t.eventType.ROOT_CONTAINER_SCROLL,(function(){e.fetchMoreIfConditionIsSatisfied()})),Object(h.l)(this.$refs.list.$el,(function(){e.fetchMoreIfConditionIsSatisfied()}))},methods:{entryIsWhiteListed:function(e){var t,n,r;if(!this.dislikeWhiteListUserIds)return!0;var o=null===(t=e.author_user_info)||void 0===t?void 0:t.user_id;return null!==(r=null===(n=this.dislikeWhiteListUserIds)||void 0===n?void 0:n[o])&&void 0!==r&&r},fetchMoreIfConditionIsSatisfied:function(){Object(h.b)(this.$refs.list.$el)>-200&&this.$emit("should-fetch-more")},onEntryDeleted:function(e){this.$emit("deleted",e)},handleTransfer:function(e){this.$emit("transfer",e)},handleCollectionDelete:function(e){this.$emit("collection-delete",e)},getTeaData:function(data){var e;return{search_id:this.searchId,search_keywords:this.searchWords,search_result_id:data.entry.article_id,enter_from:"personal_homepage",channel:"juejin_user",from_seo:Object(m.d)()===m.a.seo?"1":"0",item_type:"2",author_ids:null===(e=data.entry.author_user_info)||void 0===e?void 0:e.user_id,rank:data.index+1}},visibleChange:function(data){this.searchWords&&Object(v.g)("search_result_show_v2",this.getTeaData(data))},onItemClick:function(data){this.searchWords&&Object(v.g)("search_result_click_v2",this.getTeaData(data))}}}),w=(n(1066),n(29)),component=Object(w.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("XituSkeleton",{ref:"list",staticClass:"entry-list list",attrs:{"tag-name":"transition-group",name:"entry-list",tag:"div"},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[e._l(e.list,(function(t,r){return n("li",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:function(n){return e.visibleChange({visible:n,entry:t,index:r})},expression:"\n      (visible) => visibleChange({ visible, entry, index })\n    ",modifiers:{once:!0}}],key:t.id,staticClass:"item",attrs:{"data-growing-container":"true","data-growing-title":"entryList"},on:{click:function(n){return e.onItemClick({entry:t,index:r})}}},[n("Entry",{attrs:{"enter-method":e.enterMethod,"tea-follow-type":e.teaFollowType,entry:t,index:r,"from-page":e.fromPage,"is-post-view":e.isPostView,"is-last-one":r===e.list.length-1,"enable-dislike-button":e.enableDislikeButton&&!e.entryIsWhiteListed(t),"enable-transfer-button":e.enableTransferButton,"search-id":e.searchId,"hide-date":e.hideDate,"hide-user":e.hideUser,"hide-comment":e.hideComment},on:{deleted:e.onEntryDeleted,transfer:e.handleTransfer,"collection-delete":e.handleCollectionDelete}}),e._v(" "),r+1!==e.loginItemIndex||e.user?e._e():n("LoginItem",{attrs:{text:"可定制个人专属的推荐内容列表"}}),e._v(" "),r===e.recommendUserIndex?n("RecommendUsers",{staticStyle:{margin:"0 20px","border-bottom":"1px solid var(--juejin-gray-1-1)",padding:"12px 0"},attrs:{lazy:!0,title:"基于你的阅读偏好，推荐以下作者"}}):e._e()],1)})),e._v(" "),e.nodata?n("div",{staticClass:"empty text-muted"},[e._v("\n    "+e._s(e.emptyText||"列表为空")+"\n  ")]):e._e()],2)}),[],!1,null,"b8c5cd1e",null);t.a=component.exports},1039:function(e,t,n){},1040:function(e,t,n){},1041:function(e,t,n){},1042:function(e,t,n){},1043:function(e,t,n){},1044:function(e,t,n){},1046:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h}));n(16),n(14),n(7),n(441);var r=n(32),o=n(18),c=n(66);function l(){console.log(o.a.recommendUserInfo);var e=Object(c.f)(localStorage.getItem(o.a.recommendUserInfo),(function(e){return"object"===Object(r.a)(e)&&!Object.values(e).some((function(e){return!function(e,t){for(var i=0;i<t.length;i+=1)if(!(t[i]in e))return!1;return!0}(e,["expire","recommend_uid","recommend_order","recommend_reason","req_id"])}))}));return e=e||{},Object.keys(e).forEach((function(t){(null==e?void 0:e[t])&&e[t].expire<Date.now()&&delete e[t]})),f(o.a.recommendUserInfo,JSON.stringify(e)),e}function d(e){var t=l();t[e.recommend_uid]={expire:Date.now()+18e5,recommend_uid:e.recommend_uid,recommend_order:e.recommend_order,recommend_reason:e.recommend_reason,req_id:e.req_id},0===Object.keys(t).length?localStorage.removeItem(o.a.recommendUserInfo):f(o.a.recommendUserInfo,JSON.stringify(t))}function h(e){var t=l();delete t[e],0===Object.keys(t).length?localStorage.removeItem(o.a.recommendUserInfo):f(o.a.recommendUserInfo,JSON.stringify(t))}function f(e,t){try{localStorage.setItem(e,t)}catch(e){console.error(e)}}},1049:function(e,t,n){"use strict";n(65);var r=n(5),o=n(307),c=n.n(o),l=n(110),d=n(875),h=n(866),f=Object(r.b)({name:"AdEntry",components:{UserPopover:d.default,Thumb:l.a},props:{entry:Object,index:Number,showJscoreLevel:Boolean,teaFollowType:{type:Number,default:h.b.other},hideDate:{type:Boolean,default:!1}},computed:{visibleAdTag:function(){return this.entry.visibleAdTag},coverImage:function(){var e;return(null===(e=this.entry)||void 0===e?void 0:e.imageUrl)||""}},mounted:function(){this.recordAdvertisementShow(this.entry)},methods:{adEntryTeaClick:function(){this.$TEA("ad_web_timeline_click",{ad_timeline_position:this.index+1,ad_url:this.entry.url})},adEntryClick:function(){this.adEntryTeaClick(),window.open(this.entry.url,"_blank")},recordAdvertisementShow:function(e){this.$TEA("ad_web_timeline_show",{ad_timeline_position:this.index+1,ad_url:e.url})}}}),m=(n(1063),n(29)),v=Object(m.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"advertisement",attrs:{"st:name":"link"},on:{click:e.adEntryClick}},[n("div",{staticClass:"main"},[n("div",{staticClass:"info-box",on:{click:function(t){return t.stopPropagation(),e.adEntryTeaClick(t)}}},[n("a",{staticClass:"title",attrs:{href:e.entry.url,target:"_blank"}},[e._v(e._s(e.entry.title))]),e._v(" "),n("a",{staticClass:"description",attrs:{href:e.entry.url,target:"_blank"}},[e._v("\n        "+e._s(e.entry.briefing)+"\n      ")]),e._v(" "),n("div",{staticClass:"footer meta-container"},[e.entry.author_id&&"0"!==e.entry.author_id?n("div",{staticClass:"user-message",on:{click:function(t){return t.stopPropagation(),e.adEntryTeaClick(t)}}},[n("app-link",{staticClass:"userbox",attrs:{to:e.$userRoute("string"==typeof e.entry.author_id?e.entry.author_id:""+e.entry.author_id),blank:!0,"st:name":"user","st:state":e.entry.author_id}},[n("UserPopover",{attrs:{"user-id":""+e.entry.author_id,"show-jscore-level":e.showJscoreLevel,"tea-follow-type":e.teaFollowType}},[e._v("\n              "+e._s(e._f("username")({username:e.entry.author_name,is_logout:e.entry.author_is_logout}))+"\n            ")])],1)],1):e._e(),e._v(" "),e.hideDate?e._e():n("div",{staticClass:"date"},[e._v(e._s(e.entry.createTime))])])]),e._v(" "),n("div",{staticClass:"thumb-wrap"},[e.coverImage?n("thumb",{staticClass:"thumb",attrs:{url:e.coverImage,width:108,height:72,alt:"「"+e.entry.title+"」封面"}}):e._e(),e._v(" "),e.visibleAdTag?n("div",{staticClass:"tag"},[e._v("广告")]):e._e()],1)])])}),[],!1,null,"2e83457a",null).exports,y=(n(14),n(7),n(16),n(1019)),_=Object(r.b)({components:{UserPopover:d.default},props:{entry:Object,index:Number,showJscoreLevel:Boolean,teaFollowType:{type:Number,default:h.b.other}},data:function(){return{actionItem:{share:{active:!1}}}},computed:{courseType:function(){var e,t;return 2===(null===(t=null===(e=this.entry)||void 0===e?void 0:e.base_info)||void 0===t?void 0:t.course_type)?"video":"book"},hasDiscount:function(){return this.entry.discount_rate>0},salePrice:function(){var e=this.entry.price,t=this.entry.discount_rate;return this.hasDiscount&&(e=Object(y.a)(e,t)),e}},mounted:function(){var e=this;this.recordAdvertisementShow(this.entry);var t=this.$getBean("eventBus");t.onVmLife(this,t.eventType.ROOT_CONTAINER_CLICK,(function(){Object.keys(e.actionItem).forEach((function(t){e.actionItem[t].active=!1}))}))},methods:{recordAdvertisementClick:function(){var e;this.$TEA("ad_web_timeline_click",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/book/").concat(null===(e=this.entry)||void 0===e?void 0:e.item_id)})},recordAdvertisementShow:function(e){this.$TEA("ad_web_timeline_show",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/book/").concat(null==e?void 0:e.item_id)})}}}),C=(n(1064),Object(m.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.recordAdvertisementClick}},[n("app-link",{staticClass:"content-box",attrs:{to:e.$bookInfo(e.entry.bookId,e.courseType),blank:!0}},[n("div",{staticClass:"meta-container"},[e.entry.author_id&&"0"!==e.entry.author_id?n("div",{staticClass:"user-message",on:{click:function(t){return t.stopPropagation(),e.recordAdvertisementClick(t)}}},[n("app-link",{staticClass:"userbox",attrs:{to:e.$userRoute("string"==typeof e.entry.author_id?e.entry.author_id:""+e.entry.author_id),blank:!0,"st:name":"user","st:state":e.entry.author_id}},[n("UserPopover",{attrs:{"user-id":"string"==typeof e.entry.author_id?e.entry.author_id:""+e.entry.author_id,"show-jscore-level":e.showJscoreLevel,"tea-follow-type":e.teaFollowType}},[e._v("\n            "+e._s(e._f("username")({username:e.entry.author_name,is_logout:e.entry.author_is_logout}))+"\n          ")])],1)],1):e._e()]),e._v(" "),n("a",{staticClass:"tag",attrs:{href:"/course",target:"_blank"}},[e._v("小册")]),e._v(" "),n("div",{staticClass:"main-row"},[n("div",{staticClass:"main"},[n("div",{staticClass:"info-box"},[n("app-link",{staticClass:"title",attrs:{to:e.$bookInfo(e.entry.bookId,e.courseType),blank:!0}},[e._v("\n            "+e._s(e.entry.title)+"\n          ")]),e._v(" "),n("app-link",{staticClass:"description",attrs:{to:e.$bookInfo(e.entry.bookId,e.courseType),blank:!0}},[e._v("\n            "+e._s(e.entry.brief)+"\n          ")])],1)]),e._v(" "),n("div",{staticClass:"action-list"},[n("div",{staticClass:"item salecount"},[n("i"),e._v(" "),n("span",[e._v(e._s(e.entry.saleCount)+"人购买")])]),e._v(" "),n("div",{staticClass:"item price"},[n("i"),e._v(" "),0===e.entry.price?n("span",[e._v("免费")]):e.hasDiscount?n("span",[e._v("特价"+e._s(e.salePrice)+"元")]):n("span",[e._v("原价"+e._s(e.entry.price)+"元")])])])])])],1)}),[],!1,null,"08a36fcc",null).exports),w=n(9),O=Object(w.d)({components:{Thumb:l.a,UserPopover:d.default},props:{entry:Object,index:Number,showJscoreLevel:Boolean,teaFollowType:{type:Number,default:h.b.other}},computed:{title:function(){return this.entry.title},user:function(){var e=this.entry.user;return Object.assign({id:e.id},e)},date:function(){return this.entry.createTime},topic:function(){if(this.entry.topic){var e=Object.assign(this.entry.topic);return e.id=e.topicId,e}return!1},coverImage:function(){var e,t=(null===(e=this.entry)||void 0===e?void 0:e.imageUrl)||"";return this.$imgUrlTransform(t,{resize:{w:360,h:240}})}},mounted:function(){this.recordAdvertisementShow(this.entry)},methods:{pinRoute:function(e){if(null==e?void 0:e.item_id)return{name:"pin",params:{id:e.item_id}}},recordAdvertisementClick:function(){var e;this.$TEA("ad_web_timeline_click",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/pin/").concat(null===(e=this.entry)||void 0===e?void 0:e.item_id)})},recordAdvertisementShow:function(e){this.$TEA("ad_web_timeline_show",{ad_timeline_position:this.index+1,ad_url:"".concat(window.origin,"/pin/").concat(null==e?void 0:e.item_id)})}}}),j=(n(1065),Object(m.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.recordAdvertisementClick}},[n("app-link",{staticClass:"content-box",attrs:{to:e.pinRoute(e.entry),blank:!0}},[n("div",{staticClass:"meta-container"},[e.entry.author_id&&"0"!==e.entry.author_id?n("div",{staticClass:"user-message",on:{click:function(t){return t.stopPropagation(),e.recordAdvertisementClick(t)}}},[n("app-link",{staticClass:"userbox",attrs:{to:e.$userRoute(""+e.entry.author_id),blank:!0,"st:name":"user","st:state":e.entry.author_id}},[n("UserPopover",{attrs:{"user-id":""+e.entry.author_id,"show-jscore-level":e.showJscoreLevel,"tea-follow-type":e.teaFollowType}},[e._v("\n            "+e._s(e._f("username")({username:e.entry.author_name,is_logout:e.entry.author_is_logout}))+"\n          ")])],1)],1):e._e(),e._v(" "),n("div",{staticClass:"dividing"}),e._v(" "),n("div",{staticClass:"date"},[e._v(e._s(e.entry.createTime))])]),e._v(" "),n("a",{staticClass:"tag",attrs:{href:"/pins/explore",target:"_blank"}},[e._v("沸点")]),e._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"info-box"},[n("app-link",{staticClass:"title",attrs:{to:e.pinRoute(e.entry),blank:!0}},[e._v("\n          "+e._s(e.title)+"\n        ")]),e._v(" "),n("app-link",{staticClass:"description",attrs:{to:e.pinRoute(e.entry),blank:!0}},[e._v("\n          "+e._s(e.entry.brief)+"\n        ")])],1),e._v(" "),e.coverImage?n("thumb",{staticClass:"thumb",attrs:{url:e.coverImage,width:360,height:240}}):e._e()],1)])],1)}),[],!1,null,"462c24cf",null).exports),V=n(1074),k={article:"ArticleItem",advertisement:"AdEntry",book:"BookForTimeline",pin:"PinForTimeline"},x=Object(r.b)({components:{ArticleItem:V.a,AdEntry:v,BookForTimeline:C,PinForTimeline:j,ArticleItemOld:function(){return n.e(143).then(n.bind(null,4469))}},inject:{showJscoreLevel:{from:"showJscoreLevelInEntry",default:!1}},props:{entry:{type:Object,required:!0},index:{type:Number},isLastOne:{type:Boolean,default:!1},enableDislikeButton:{type:Boolean,default:!1},enableTransferButton:{type:Boolean,default:!1},fromPage:String,teaFollowType:{type:Number,default:h.b.other},enterMethod:{type:String},isPostView:{type:Boolean,default:!1},searchId:{type:String,default:""},hideDate:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideComment:{type:Boolean,default:!1}},data:function(){return{}},computed:{componentName:function(){var e=this.entry.itemType||"article";return"article"===e&&this.$device.isMobile&&!this.isPostView?"ArticleItemOld":k[e]||"ArticleItem"}},methods:{recordTea:function(){this.$TEA("article_timeline_click",{article_id:this.entry.id,article_type:this.entry.type,category_id:c()(this.entry,"article_info.category_id",""),author_user_id:c()(this.entry,"author_user_info.user_id","")})},onEntryDeleted:function(e){this.$emit("deleted",e)},handleTransfer:function(e){this.$emit("transfer",e)},handleCollectionDelete:function(e){this.$emit("collection-delete",e)}}}),T=Object(m.a)(x,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.componentName,{tag:"component",attrs:{"enter-method":e.enterMethod,entry:e.entry,index:e.index,"from-page":e.fromPage,"is-last-one":e.isLastOne,"enable-dislike-button":e.enableDislikeButton,"enable-transfer-button":e.enableTransferButton,"show-jscore-level":e.showJscoreLevel,"tea-follow-type":e.teaFollowType,"search-id":e.searchId,"hide-date":e.hideDate,"hide-user":e.hideUser,"hide-comment":e.hideComment},on:{deleted:e.onEntryDeleted,"collection-delete":e.handleCollectionDelete,transfer:e.handleTransfer},nativeOn:{click:function(t){return e.recordTea(t)}}})}),[],!1,null,null,null);t.a=T.exports},1050:function(e,t,n){"use strict";n(22);var r=n(4),o=n(5),c=n(73),l=n(13),d=n(44),h=n(74),f=n(306),m=n(1059),v=n.n(m),y=n(314),_=n(880),C=n(18),w=n(23),O=n(241),j=n(866),V=Object(o.b)({components:{Rank:y.a,CloseIcon:v.a,Icon:c.Icon},props:{user:{type:Object,default:null,required:!0},enableDarkMode:{type:Boolean,default:!0}},emits:["onClose","onClick","onFirstVisible","onFollow"],setup:function(e,t){var n,c=t.emit,l=Object(o.c)(),d=Object(_.a)({itemId:e.user.user_id,itemType:w.d.UserType,isFollow:!1,teaFollowType:j.b.followCommendCard,successText:"关注成功"}),h=d.isFollow,f=d.doFollow,m=d.followLoading,v=d.traceFollowShow;return{isFollow:h,followLoading:m,doFollow:(n=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h.value){t.next=3;break}return c("onClick",e.user),t.abrupt("return");case 3:return c("onFollow",e.user),t.next=6,null==l?void 0:l.proxy.$ensureAuthorized("login").then((function(){return!0})).catch((function(){return!1}));case 6:if(!t.sent){t.next=10;break}f(),t.next=11;break;case 10:try{localStorage.setItem(C.a.autoFollowUser,JSON.stringify({itemId:e.user.user_id,itemType:w.d.UserType,teaFollowType:j.b.followCommendCard,expire:Date.now()+6e5}))}catch(e){console.error(e)}case 11:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)}),onClose:function(){return c("onClose",e.user)},getTruncatedNumberString:O.c,onFollowBtnShow:function(e){e&&v()},onVisibleChange:function(t){t&&c("onFirstVisible",e.user)}}}}),k=(n(1060),n(29)),x=Object(k.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:e.onVisibleChange,expression:"onVisibleChange",modifiers:{once:!0}}],staticClass:"jj-recommend-users-card",on:{click:function(t){return e.$emit("onClick",e.user)}}},[n("div",{staticStyle:{position:"relative","margin-bottom":"8px"}},[n("Avatar",{staticClass:"avatar",attrs:{url:e.user.avatar_large,size:50,alt:e.user.user_name+"的头像"}}),e._v(" "),n("Rank",{staticClass:"level",attrs:{level:e.user.jpower_level,"enable-dark-mode":e.enableDarkMode}})],1),e._v(" "),n("div",{staticClass:"username"},[e._v(e._s(e.user.user_name))]),e._v(" "),n("div",{staticClass:"count"},[n("span",[e._v(e._s(e.getTruncatedNumberString(e.user.got_digg_count))+"点赞")]),e._v(" "),n("span",{staticClass:"split"},[e._v("·")]),e._v(" "),n("span",[e._v(e._s(e.getTruncatedNumberString(e.user.got_view_count))+"阅读")])]),e._v(" "),n("div",{staticClass:"reason"},[e._v(e._s(e.user.rec_reason||"你可能感兴趣"))]),e._v(" "),n("div",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:e.onFollowBtnShow,expression:"onFollowBtnShow",modifiers:{once:!0}}],staticClass:"follow-btn",class:{followed:e.isFollow},on:{click:function(t){return t.stopPropagation(),e.doFollow(t)}}},[e.followLoading?n("span",{staticClass:"busy-icon"},[n("Icon",{attrs:{type:"loading",spin:""}})],1):n("span",[e._v(e._s(e.isFollow?"查看主页":"关注"))])]),e._v(" "),n("div",{staticClass:"close-btn",on:{click:function(t){return t.stopPropagation(),e.onClose(t)}}},[n("CloseIcon")],1)])}),[],!1,null,"358d9a30",null).exports,T=n(1046),L=n(51),P=(n(94),n(188),n(194)),S=n(82),I=n(871),E=n(144);var A=Object(o.b)({components:{RecommendUserCard:x},props:{lazy:{type:Boolean,default:!1},title:{type:String,default:"可能感兴趣的人"},enableDarkMode:{type:Boolean,default:!0}},emits:["onInit","onClose"],setup:function(e,t){var n,m,v=t.emit,y=t.root,_=Object(o.x)(),C=Object(o.n)(),w=Object(o.n)(),O=Object(o.n)(!1),j=Object(o.n)(!1),V=Object(o.n)(y.$device.isMobile),k=function(e){var t=e.pageSize,n=Object(o.c)(),c=Object(I.a)(),l=(null==n?void 0:n.proxy.$device.isMobile)||!1,d=Object(o.n)(!1),h=Object(o.n)(!1),f=Object(o.n)(!0),cursor=Object(o.n)("0"),m=Object(o.n)(t),v=Object(o.n)([]),y=Object(o.n)(0),_=Object(o.a)((function(){for(var e=[],i=0;i<m.value&&v.value[i+y.value];i+=1)e.push(v.value[i+y.value]);return e})),C=!1,w=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,cursor){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(f.value){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,c.do(Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.value=!1,d.value=!0,e.prev=2,e.next=5,S.a.RecommendUserCard({limit:t,cursor:cursor},{showError:!1,ignore404:!0,ignoreRisk:!0});case 5:if((n=e.sent)&&n.err_no===P.a.ERROR_NO.OK){e.next=11;break}return h.value=!0,Object(E.a)({error:new Error(null==n?void 0:n.err_msg),errorName:"RecommendUserCard",extraOptions:{resp:JSON.stringify(n)}}),console.error("fetch RecommendUserCard error",n),e.abrupt("return");case 11:return f.value=n.has_more,h.value=!1,cursor=n.cursor,n.data=n.data||[],e.abrupt("return",n);case 18:e.prev=18,e.t0=e.catch(2),h.value=!0,Object(E.a)({error:e.t0,errorName:"RecommendUserCard"}),console.error("fetch RecommendUserCard error",e.t0);case 23:return e.prev=23,d.value=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[2,18,23,26]])}))));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cursor.value="0",f.value=!0,C=!1,e.next=5,w(m.value,cursor.value);case 5:if(t=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:if(!(t.data.length<m.value)){e.next=10;break}return e.abrupt("return",!1);case 10:return v.value=t.data,y.value=0,C=!0,e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C&&t){e.next=2;break}return e.abrupt("return",!1);case 2:if(!((n=v.value.findIndex((function(e){return e.user_id===t})))<0)){e.next=5;break}return e.abrupt("return",!1);case 5:if(S.a.MUpdateDislike({item_ids:[t],item_type:P.a.IdType.UserIdType,action:1,dis_type:window.location.pathname.startsWith("/user/")?P.a.IdType.RecUserGuidePersonalIdType:P.a.IdType.RecUserGuideDetailIdType},{showError:!1,ignore404:!0,ignoreRisk:!0}).catch((function(e){console.error("fetch MUpdateDislike error",e)})),!f.value){e.next=16;break}return e.next=9,w(1,cursor.value);case 9:if(!(null==(r=e.sent)?void 0:r.data[0])){e.next=15;break}return v.value.splice(n,1),v.value.push(r.data[0]),v.value=Object(L.a)(v.value),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:return v.value.splice(n,1),v.value=Object(L.a)(v.value),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,w(m.value,cursor.value);case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return v.value=[].concat(Object(L.a)(v.value),Object(L.a)(t.data)),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isMobile:l,loading:d,isError:h,hasMore:f,userList:v,currentPageUsers:_,initData:O,disLikeUser:j,doChange:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return",!1);case 2:if(!((t=y.value+m.value)>=v.value.length&&f.value)){e.next=6;break}return e.next=6,V();case 6:if(!(t>=v.value.length)){e.next=8;break}return e.abrupt("return",!1);case 8:return y.value=t,e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),doLoadMore:V}}({pageSize:4}),x=k.userList,A=k.currentPageUsers,D=k.initData,M=k.disLikeUser,R=k.doChange,B=k.doLoadMore,$=Object(o.a)((function(){var t;return e.enableDarkMode&&(null===(t=_.state.common)||void 0===t?void 0:t.theme)===l.f.dark}));Object(o.y)(A,(function(){0===A.value.length&&(j.value=!0,v("onClose"))})),Object(o.y)(x,(function(){0===x.value.length&&(j.value=!0,v("onClose"))}));var F,H=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:if(!e.sent){e.next=8;break}O.value=!0,v("onInit"),e.next=10;break;case 8:j.value=!0,v("onClose");case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),j.value=!0,v("onClose"),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(o.j)(Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.lazy){t.next=6;break}return t.next=4,H();case 4:t.next=13;break;case 6:if(C.value){t.next=8;break}throw new Error("recommend init error, container is undefined");case 8:return t.next=10,Object(d.e)();case 10:o=t.sent,null==(n=new o(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return e.isIntersecting}))){e.next=5;break}return e.next=4,H();case 4:null==n||n.disconnect();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{rootMargin:"200px 0px"}))||n.observe(C.value);case 13:w.value&&(m=Object(d.m)(w.value,(function(){w.value&&O.value&&(w.value.scrollWidth-(w.value.scrollLeft+w.value.offsetWidth)<50&&B())}))),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(0),j.value=!0,v("onClose"),console.error("RecommendUsers init",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,16]])})))),Object(o.k)((function(){null==n||n.disconnect(),null==m||m()})),{scrollList:w,isMobile:V,container:C,isInitSuccess:O,userList:x,currentPageUsers:A,isDarkTheme:$,isClose:j,disLikeUser:function(e,t){c.Message.info("将不再为你推荐该用户"),M(e.user_id),Object(h.g)("recommend_user_delete",{current_page:Object(f.e)(window.location.href),recommend_uid:e.user_id,recommend_order:t,recommend_reason:e.rec_reason||"",req_id:e.req_id})},doChange:(F=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:if(e.sent){e.next=4;break}c.Message.info("已经推荐完啦！");case 4:Object(h.g)("recommend_user_new",{});case 5:case"end":return e.stop()}}),e)}))),function(){return F.apply(this,arguments)}),onFirstVisible:function(e,t){Object(h.g)("recommend_user_show",{current_page:Object(f.e)(window.location.href),recommend_uid:e.user_id,recommend_order:t,recommend_reason:e.rec_reason||"",req_id:e.req_id})},openUser:function(e,t){Object(h.g)("recommend_user_click",{current_page:Object(f.e)(window.location.href),recommend_uid:e.user_id,recommend_order:t,recommend_reason:e.rec_reason||"",req_id:e.req_id}),Object(T.c)({recommend_uid:e.user_id,recommend_order:t,recommend_reason:e.rec_reason||"",req_id:e.req_id}),window.open("/user/".concat(e.user_id,"?from=recommend_user"),"_blank")},onFollow:function(e,t){Object(h.g)("recommend_user_follow",{current_page:Object(f.e)(window.location.href),recommend_uid:e.user_id,recommend_order:t,recommend_reason:e.rec_reason||"",req_id:e.req_id})}}}}),D=(n(1061),Object(k.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isClose?e._e():n("div",{ref:"container",staticClass:"jj-recommend-users",class:{"light-theme":!e.enableDarkMode,"un-init":!e.isInitSuccess}},[n("div",{staticClass:"recommend-users-header"},[n("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticStyle:{flex:"1"}}),e._v(" "),e.isMobile?e._e():n("div",{staticClass:"change-page-btn",on:{click:e.doChange}},[e._v("\n      换一换\n    ")])]),e._v(" "),e.isMobile?n("ul",{ref:"scrollList",staticClass:"user-list-scroll"},e._l(e.userList,(function(t,r){return n("li",{key:t.user_id,staticClass:"user-item"},[n("RecommendUserCard",{attrs:{user:t},on:{onClick:function(t){return e.openUser(t,r)},onClose:function(t){return e.disLikeUser(t,r)},onFirstVisible:function(t){return e.onFirstVisible(t,r)},onFollow:function(t){return e.onFollow(t,r)}}})],1)})),0):n("ul",{staticClass:"user-list"},e._l(e.currentPageUsers,(function(t,r){return n("li",{key:t.user_id,staticClass:"user-item"},[n("RecommendUserCard",{attrs:{user:t},on:{onClick:function(t){return e.openUser(t,r)},onClose:function(t){return e.disLikeUser(t,r)},onFirstVisible:function(t){return e.onFirstVisible(t,r)},onFollow:function(t){return e.onFollow(t,r)}}})],1)})),0)])}),[],!1,null,"8eb91672",null));t.a=D.exports},1054:function(e,t,n){!function(){function t(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function n(e,n){var r=function(e,n){var r=t(e)*t(n);if(0===r)return 0;var o=function(e,t){return e.x*t.x+e.y*t.y}(e,n)/r;return o>1&&(o=1),Math.acos(o)}(e,n);return function(e,t){return e.x*t.y-t.x*e.y}(e,n)>0&&(r*=-1),180*r/Math.PI}var r=function(e){this.handlers=[],this.el=e};function o(e,t){var n=new r(e);return n.add(t),n}r.prototype.add=function(e){this.handlers.push(e)},r.prototype.del=function(e){e||(this.handlers=[]);for(var i=this.handlers.length;i>=0;i--)this.handlers[i]===e&&this.handlers.splice(i,1)},r.prototype.dispatch=function(){for(var i=0,e=this.handlers.length;i<e;i++){var t=this.handlers[i];"function"==typeof t&&t.apply(this.el,arguments)}};var c=function(e,option){this.element="string"==typeof e?document.querySelector(e):e,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var t=function(){};this.rotate=o(this.element,option.rotate||t),this.touchStart=o(this.element,option.touchStart||t),this.multipointStart=o(this.element,option.multipointStart||t),this.multipointEnd=o(this.element,option.multipointEnd||t),this.pinch=o(this.element,option.pinch||t),this.swipe=o(this.element,option.swipe||t),this.tap=o(this.element,option.tap||t),this.doubleTap=o(this.element,option.doubleTap||t),this.longTap=o(this.element,option.longTap||t),this.singleTap=o(this.element,option.singleTap||t),this.pressMove=o(this.element,option.pressMove||t),this.twoFingerPressMove=o(this.element,option.twoFingerPressMove||t),this.touchMove=o(this.element,option.touchMove||t),this.touchEnd=o(this.element,option.touchEnd||t),this.touchCancel=o(this.element,option.touchCancel||t),this._cancelAllHandler=this.cancelAll.bind(this),window.removeEventListener("scroll",this._cancelAllHandler),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};c.prototype={start:function(e){if(e.touches){this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var n=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var r={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};n.x=r.x,n.y=r.y,this.pinchStartLen=t(n),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}},move:function(e){if(e.touches){var r=this.preV,o=e.touches.length,c=e.touches[0].pageX,l=e.touches[0].pageY;if(this.isDoubleTap=!1,o>1){var d=e.touches[1].pageX,h=e.touches[1].pageY,f={x:e.touches[1].pageX-c,y:e.touches[1].pageY-l};null!==r.x&&(this.pinchStartLen>0&&(e.zoom=t(f)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=n(f,r),this.rotate.dispatch(e,this.element)),r.x=f.x,r.y=f.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(c-this.x2+d-this.sx2)/2,e.deltaY=(l-this.y2+h-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=d,this.sy2=h}else null!==this.x2?(e.deltaX=c-this.x2,e.deltaY=l-this.y2):(e.deltaX=0,e.deltaY=0),this.pressMove.dispatch(e,this.element);this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=c,this.y2=l,o>1&&e.preventDefault()}},end:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),clearTimeout(t.singleTapTimeout),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"},on:function(e,t){this[e]&&this[e].add(t)},off:function(e,t){this[e]&&this[e].del(t)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,null}},e.exports=c}()},1059:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("g",{attrs:{id:"Close"}},[n("path",{attrs:{id:"Union","fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.9547 2.8895C10.189 2.65518 10.189 2.27529 9.9547 2.04097C9.72039 1.80666 9.34049 1.80666 9.10617 2.04097L5.99491 5.15223L2.88364 2.04097C2.64932 1.80666 2.26942 1.80666 2.03511 2.04097C1.8008 2.27529 1.8008 2.65518 2.03511 2.8895L5.14638 6.00076L2.03511 9.11204C1.8008 9.34636 1.8008 9.72626 2.03511 9.96057C2.26943 10.1949 2.64933 10.1949 2.88364 9.96057L5.99491 6.84929L9.10617 9.96057C9.34048 10.1949 9.72038 10.1949 9.9547 9.96057C10.189 9.72626 10.189 9.34636 9.9547 9.11204L6.84344 6.00076L9.9547 2.8895Z"}})])]))}}},1060:function(e,t,n){"use strict";n(963)},1061:function(e,t,n){"use strict";n(964)},1063:function(e,t,n){"use strict";n(965)},1064:function(e,t,n){"use strict";n(966)},1065:function(e,t,n){"use strict";n(967)},1066:function(e,t,n){"use strict";n(968)},1074:function(e,t,n){"use strict";n(19),n(17),n(22);var r=n(4),o=(n(441),n(51)),c=(n(14),n(7),n(16),n(75),n(39),n(46),n(38),n(0)),l=(n(65),n(5)),d=n(307),h=n.n(d),f=n(89),m=n(8),v=n(167),y=n(310),_=n(1131),C=n.n(_),w=n(1115),O=n.n(w),j=n(1116),V=n.n(j),k=n(1117),x=n.n(k),T=n(1108),L=n.n(T),P=n(941),S=n(888),I=n(110),E=n(875),A=n(165),D=n(23),M=n(3),R=n(31),B=n(871),$=n(56),F=n(866),H=n(306),U=n(9),N=n(1132),Z=n.n(N),W=n(1133),J=n.n(W),z=Object(U.d)({emits:["transfer","delete"],components:{TransferIcon:Z.a,DeleteIcon:J.a},setup:function(e,t){var n=t.emit;return{TransferIcon:Z.a,DeleteIcon:J.a,onClickTransfer:function(){n("transfer")},onClickDelete:function(){n("delete")}}}}),G=(n(1134),n(29)),K=Object(G.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collection-button-wrap"},[n("div",{staticClass:"common-button transfer-button",on:{click:function(t){return t.stopPropagation(),e.onClickTransfer(t)}}},[n("TransferIcon",{staticClass:"icon"}),e._v(" "),n("div",{staticClass:"text"},[e._v("转移")])],1),e._v(" "),n("div",{staticClass:"common-button delete-button",on:{click:function(t){return t.stopPropagation(),e.onClickDelete(t)}}},[n("DeleteIcon",{staticClass:"icon"}),e._v(" "),n("div",{staticClass:"text"},[e._v("删除")])],1)])}),[],!1,null,"67a1ea44",null).exports,Y=n(1119),X=n(1120);function Q(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ee(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Q(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Q(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var te=Object(l.b)({components:{Thumb:I.a,UserPopover:E.default,AuditTag:P.a,DislikeButton:Y.a,DislikeMenu:X.a,CollectionButtons:K,CommentIcon:C.a,LikedIcon:O.a,LikedIconActive:V.a,ViewIcon:L.a,MoreIcon:x.a},props:{entry:Object,index:Number,fromPage:String,isLastOne:Boolean,enableDislikeButton:Boolean,enableTransferButton:Boolean,showJscoreLevel:Boolean,teaFollowType:{type:Number,default:F.b.other},searchId:{type:String,default:""},hideDate:{type:Boolean,default:!1},hideUser:{type:Boolean,default:!1},hideComment:{type:Boolean,default:!1}},emits:["collection-delete","transfer","deleted"],data:function(){return{likeLock:Object(B.a)(),wechatDataUrl:"",actionItem:{share:{active:!1},more:{active:!1}},loginUserId:void 0,toogleSyncTeamBusy:!1,localSyncToTeamValue:null,showDislikeMenu:!1,cursorFlag:!1,isFirstVisit:!0}},computed:ee(ee({},Object(f.mapGetters)({user:M.USER})),{},{search_result_type:function(){var e,t,n,r,o=0,c=0,l=0;return(null===(e=this.entry.author_interact)||void 0===e?void 0:e.is_digg)&&(c=1),(null===(t=this.entry.author_interact)||void 0===t?void 0:t.is_collect)&&(l=1),String(null===(n=this.entry.author_interact)||void 0===n?void 0:n.user_id)===(null===(r=this.entry.article_info)||void 0===r?void 0:r.user_id)&&(o=1),{profile_search_is_post:o,profile_search_is_like:c,profile_search_is_collection:l}},viewsCount:function(){return this.entry.viewsCount>=1e4?(this.entry.viewsCount/1e4).toFixed(1)+"w":this.entry.viewsCount},searchWord:function(){var e;return null===(e=this.$route.params)||void 0===e?void 0:e.keyword},shouldHighlight:function(){return!!this.searchWord},isAudit:function(){var e,t;return(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.audit_status)===y.a.AUDITING&&this.isMine},isAuditFail:function(){var e,t;return(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.audit_status)===y.a.FAIL&&this.isMine},auditSuccess:function(){var e,t;return(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.audit_status)===y.a.PASS},isSelfVisible:function(){var e,t;return this.isMine&&(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.status)===D.h.Normal},userId:function(){return this.entry.author_user_info&&this.entry.author_user_info.user_id},isPost:function(){return"post"===this.entry.type},route:function(){return this.isPost?this.isAudit||this.isAuditFail||this.isSelfVisible?this.$selfPostRoute(this.entry,void 0,this.searchId?{searchId:this.searchId}:void 0):this.$postRoute(this.entry,void 0,this.searchId?{searchId:this.searchId}:void 0):this.$entryPublicRoute(this.entry)},commentRoute:function(){return this.$entryPublicRoute(this.entry,"#comment")},isEntry:function(){return"entry"===this.entry.type},isVote:function(){return"vote"===this.entry.type},isMine:function(){var e=this.entry.user;return e&&this.user&&e.id===this.user.id},isDeletable:function(){return this.isMine&&(this.isPost||this.isEntry)},isAdmin:function(){return this.user&&"admin"===this.user.role},previewable:function(){return!1},original:function(){return!!this.entry.original},external:function(){return!(this.isPost||this.isVote)},unparsed:function(){return!1},date:function(){var e;return Object(R.l)(null===(e=this.entry)||void 0===e?void 0:e.createdAt)},liked:function(){return!!this.entry.liked},tagList:function(){return(this.entry.tags||[]).slice(0,3)},isActionListActive:function(){return this.actionItem.share.active||this.actionItem.more.active},coverImage:function(){var e,t;return(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.cover_image)||""},userTeamId:function(){var e,t;return null===(t=null===(e=this.user)||void 0===e?void 0:e.tech_team)||void 0===t?void 0:t.org_id},userTeamAdmin:function(){var e;return(null===(e=this.user)||void 0===e?void 0:e.tech_team.role)===y.b.Admin},showSyncTeamBtn:function(){var e="0"!==this.userTeamId;return(e&&this.userTeamId===this.articleTeamId&&this.userTeamAdmin||this.isMine&&e||this.isMine&&this.hasSyncToTeam)&&this.auditSuccess},articleTeamId:function(){var e,t,n;return null===(n=null===(t=null===(e=this.entry)||void 0===e?void 0:e.org)||void 0===t?void 0:t.org_info)||void 0===n?void 0:n.org_id},hasSyncToTeam:function(){return null!==this.localSyncToTeamValue?this.localSyncToTeamValue:Boolean(this.articleTeamId&&"0"!==this.articleTeamId)},isMainPage:function(){return"timelineIndex"===this.$route.name},isNewIcon:function(){return this.$route.path.split("/").includes("collection")},visibleChangeNumber:function(){return"timelineIndex"===this.$route.name?6.7:void 0}}),watch:{showDislikeMenu:function(e){e&&this.$TEA("item_option_hover",this.getRecoTeaContent())}},mounted:function(){var e=this;this.visibleChangeTimer=null,this.teaStatus="";var t=this.$getBean("eventBus");t.onVmLife(this,t.eventType.ROOT_CONTAINER_CLICK,(function(){Object.keys(e.actionItem).forEach((function(t){e.actionItem[t].active=!1}))})),this.recordShow(),t.onVmLife(this,t.eventType.ROOT_CONTAINER_SCROLL,this.recordShow)},beforeDestroy:function(){this.visibleChangeTimer&&clearTimeout(this.visibleChangeTimer)},methods:{handleTransfer:function(){this.$emit("transfer",this.entry)},handleDelete:function(){this.$emit("collection-delete",this.entry.article_id)},toggleDislikeMenu:function(e){this.showDislikeMenu=void 0!==e?e:!this.showDislikeMenu},onDislike:function(){this.showDislikeMenu=!1;var e=this.$getBean("eventBus");e.emit(e.eventType.HIDE_ENTRY_ITEM,this.entry),this.$TEA("item_dislike_click",this.getRecoTeaContent())},onBlockUser:function(){this.showDislikeMenu=!1;var e=this.$getBean("eventBus");e.emit(e.eventType.CONFIRM_BLOCK_USER,this.entry)},onBlockTags:function(e){this.showDislikeMenu=!1;var t=this.$getBean("eventBus");t.emit(t.eventType.BLOCK_ENTRY_TAGS,this.entry,e),this.$TEA("item_ban_tag_submit",{item_id:this.entry.article_id,item_tag_ids:e.map((function(e){return e.tag_id}))})},eventPage:function(){var e;switch(this.$route.name){case"timelineIndex":return $.a.home;case"tag":return $.a.tagDetail;case"column":return $.a.articleDetailBottom;case"user":var t=null===(e=this.$route.params)||void 0===e?void 0:e.type;return"search"===t?$.a.userHomeSearch:"likes"===t?$.a.userHomePageLike:"posts"===t?$.a.userHomePage:"collections"===t?$.a.userHomePageCollection:$.a.userHomePageDynamic;case"collection":return $.a.collectionDetail;case"columnDetail":return $.a.columnDetailPage;case"themeDetail":return $.a.themePageDetail;default:return $.a.others}},getRecoTeaContent:function(){var e,t,n,data=Object(H.b)(this.$route,this.eventPage(),this.entry,this.index+1,this.fromPage);return"collection"===this.$route.name?Object.assign(data,{catagory_id:null===(t=null===(e=this.entry)||void 0===e?void 0:e.category)||void 0===t?void 0:t.category_id,collection_list_id:this.$route.params.id}):"search"===(null===(n=this.$route.params)||void 0===n?void 0:n.type)?Object.assign(data,this.search_result_type):data},handleVisibleChange:function(e){var t=this;"done"!==this.teaStatus&&(e&&(""===this.teaStatus&&(H.g.apply(void 0,[e,this.$TEA,this.$route,this.eventPage(),this.entry,this.index+1].concat(Object(o.a)(Object.values(this.search_result_type)))),this.teaStatus="50%"),"done"!==this.teaStatus&&this.visibleChangeTimer&&clearTimeout(this.visibleChangeTimer)),this.isMainPage?e?this.visibleChangeTimer=setTimeout((function(){t.$TEA("item_display",t.getRecoTeaContent()),t.teaStatus="done",clearTimeout(t.visibleChangeTimer)}),500):""!==this.teaStatus&&(this.visibleChangeTimer&&clearTimeout(this.visibleChangeTimer),this.teaStatus="50%"):e&&(this.$TEA("item_display",this.getRecoTeaContent()),this.teaStatus="done"))},handleRoute:function(){this.recordClick(),window.open(this.$router.resolve(this.route).href,"_blank")},toggleActivateActionItem:function(e){var t=this;Object.keys(this.actionItem).forEach((function(n){t.actionItem[n].active=e===n&&!t.actionItem[n].active}))},toggleLike:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$ensureAuthorized("login");case 3:return t.next=5,e.$ensureBindPhone({bindLabel:A.b.interact});case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return");case 10:e.recordLike(),e.likeLock.do((function(){return e.$ensureAuthorized().then((function(){return e.$store.dispatch(M.TOGGLE_LIKE_ENTRY,e.entry)})).catch((function(e){return console.warn("error toggle like err:",e)}))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},toCommentRoute:function(){this.recordClick(),window.open(this.$router.resolve(this.commentRoute).href,"_blank")},gotoEditView:function(){if(this.isPost){var e=this.$getBean("editorBusiness").getColumnEntryEditUrl(this.entry);window.open(e,"_blank")}},gotoHideTimeline:function(){window.open("http://admin.juejin.id/content/timeline/hide?entryId=".concat(this.entry.id))},deleteEntry:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("删除文章后不可恢复，确定删除吗？")){t.next=3;break}return t.abrupt("return");case 3:return n=e.entry.id,t.prev=4,t.next=7,e.$store.dispatch(M.DELETE_ENTRY,n);case 7:return t.next=9,e.$store.commit("@/view/user/detailList/postList/DELETE",n);case 9:e.$alertMsg("删除成功"),e.$emit("deleted",n),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),e.$error("删除失败, 请稍后重试"),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[4,13]])})))()},toogleSyncTeam:function(){var e=this,label=this.hasSyncToTeam?"取消":"";this.$ensureAuthorized("login").then(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.toogleSyncTeamBusy){t.next=2;break}return t.abrupt("return");case 2:if(window.confirm(e.hasSyncToTeam?"确定".concat(label,"同步文章到团队空间吗？"):"确定".concat(label,"同步文章吗？"))){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,e.toogleSyncTeamBusy=!0,t.next=9,Object(v.c)({item_id:e.entry.id,item_type:D.d.ArticleIdType,status:e.hasSyncToTeam?D.h.Delete:D.h.Normal});case 9:e.$alertMsg("文章".concat(label,"同步成功！")),e.localSyncToTeamValue=!e.hasSyncToTeam,t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),e.$error("同步失败, 请稍后重试"),console.error(t.t0);case 17:return t.prev=17,e.toogleSyncTeamBusy=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,13,17,20]])}))))},recordShow:function(){if(this.isMainPage){var e=this.$getBean("eventBus"),rect=this.$refs.title.getBoundingClientRect();if(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)){var t={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id,display_homefeed_teamID:this.articleTeamId};this.$TEA("Homepage_display_article",t),e.off(e.eventType.ROOT_CONTAINER_SCROLL,this.recordShow)}}},recordClick:function(){if(Object(H.n)(this.entry),this.isFirstVisit=!1,this.isMainPage&&(localStorage.setItem("fromPage","mainPage"),localStorage.removeItem("juejin_recommend_id"),"newest"!==this.$route.query.sort&&"following"!==this.$route.params.category&&localStorage.setItem("juejin_recommend_id",this.entry.req_id)),"column"===this.$route.name&&localStorage.setItem("fromPage","bottomRecommend"),this.$TEA("item_click",this.getRecoTeaContent()),this.isMainPage){var e={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id,display_homefeed_teamID:this.articleTeamId};this.$TEA("Homepage_click_article",e)}},recordLike:function(){this.entry.liked||this.$TEA("like_action",{like_type:"post",like_parent_id:h()(this.entry,"article_info.category_id",""),author_user_id:h()(this.entry,"author_user_info.user_id",""),author_user_level:h()(this.entry,"author_user_info.level",""),like_status:1});var content=this.getRecoTeaContent();if(content.action=this.entry.liked?2:1,this.$TEA("item_like_click",content),this.isMainPage){var e={display_homefeed_liketype:this.entry.liked?"nolike":"like",display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id};this.$TEA("Homepage_like_article",e)}},recordUser:function(){if(this.isMainPage){var e={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id};this.$TEA("Homepage_click_PHP",e)}},recordTagClick:function(e){if(this.isMainPage&&(localStorage.setItem("fromPage","mainPage"),"a"===e.target.tagName.toLowerCase())){var t={display_homefeed_type:this.$route.params.category||"recommended",display_homefeed_rank:this.$route.query.sort||"popular",display_homefeed_authorID:this.userId,display_homefeed_articleID:this.entry.article_id};this.$TEA("Homepage_click_tag",t)}},handleMouseEnter:function(){this.cursorFlag=!0},handleMouseLeave:function(){this.cursorFlag=!1}},setup:function(e){var t=Object(S.a)().openReportModal,n=Object(l.n)(!1);return{onlyShowDislike:n,handleOnlyShowDislike:function(e){n.value=e,console.log("onlyshow",n.value)},onReportArticle:function(){return t(e.entry.article_id,m.IdType.ArticleIdType)}}}}),ne=(n(1141),Object(G.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change:[visibleChangeNumber]",value:e.handleVisibleChange,expression:"handleVisibleChange",arg:e.visibleChangeNumber}],staticClass:"entry",class:{"entry-last-one":e.isLastOne},attrs:{"data-entry-id":e.entry.id,"data-original-type":e.entry.article_info&&e.entry.article_info.original_type,"data-draft-id":e.entry.article_info&&e.entry.article_info.draft_id},on:{click:e.handleRoute,mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-main"},[n("div",{ref:"title",staticClass:"title-row",on:{click:function(t){return t.stopPropagation(),e.recordClick(t)}}},[e._t("top"),e._v(" "),e.isAudit||e.isAuditFail?n("AuditTag",{attrs:{type:e.isAudit?"wait":"fail"}}):e._e(),e._v(" "),e.external?n("a",{directives:[{name:"link",rawName:"v-link.external.blank",value:e.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,blank:!0}}],staticClass:"title",class:e.isNewIcon&&e.isFirstVisit?"title-collection":"",attrs:{title:e.entry.title}},[e.entry.author_interact?[n("div",{domProps:{innerHTML:e._s(e.entry.title)}})]:e.searchWord?[n("TextHighlight",{attrs:{"enable-highlight":e.shouldHighlight,text:e.entry.title,keyword:e.searchWord,"highlight-class":"keyword"}})]:[e._v(e._s(e.entry.title))]],2):e._e(),e._v(" "),e.external?e._e():n("app-link",{staticClass:"title",class:e.isNewIcon&&e.isFirstVisit?"title-collection":"",attrs:{to:e.route,blank:!0,title:e.entry.title}},[e.entry.author_interact?[n("div",{domProps:{innerHTML:e._s(e.entry.title)}})]:e.searchWord?[n("TextHighlight",{attrs:{"enable-highlight":e.shouldHighlight,text:e.entry.title,keyword:e.searchWord,"highlight-class":"keyword"}})]:[e._v(e._s(e.entry.title))]],2)],2),e._v(" "),n("div",{staticClass:"abstract",on:{click:function(t){return t.stopPropagation(),e.recordClick(t)}}},[n("app-link",{attrs:{to:e.route,blank:!0}},[e.entry.author_interact?n("div",{domProps:{innerHTML:e._s(e.entry.abstract)}}):n("div",[e._v(e._s(e.entry.abstract))])])],1),e._v(" "),n("div",{staticClass:"entry-footer"},[n("ul",{staticClass:"action-list jh-timeline-action-area",class:{active:e.isActionListActive}},[e.entry.user&&!e.hideUser?n("li",{staticClass:"item meta-container"},[n("app-link",{staticClass:"user-message",attrs:{to:e.$userRoute(e.entry.user),blank:!0},nativeOn:{click:function(t){return t.stopPropagation(),e.recordUser(t)}}},[n("UserPopover",{attrs:{"user-id":e.entry.user.user_id,"show-jscore-level":e.showJscoreLevel,"tea-follow-type":e.teaFollowType}},[e._v("\n                "+e._s(e._f("username")(e.entry.user))+"\n              ")])],1),e._v(" "),n("div",{staticClass:"footer-divider"})],1):e._e(),e._v(" "),e.hideDate?e._e():n("li",{staticClass:"item date"},[e._v("\n            "+e._s(e.date)+"\n            "),n("div",{staticClass:"footer-divider"})]),e._v(" "),n("li",{staticClass:"item view"},[n("ViewIcon",{staticClass:"view-icon"}),e._v(" "),n("span",[e._v(e._s(e.viewsCount))])],1),e._v(" "),n("li",{staticClass:"item like",class:{active:e.liked},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleLike(t)}}},[n("div",{staticClass:"liked-wrap"},[e.liked?n("LikedIconActive",{staticClass:"liked-icon"}):n("LikedIcon",{staticClass:"liked-icon"})],1),e._v(" "),n("span",[e._v("\n              "+e._s(e.entry.likedCount||"点赞")+"\n            ")])]),e._v(" "),e.hideComment?e._e():n("li",{staticClass:"item comment",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toCommentRoute(t)}}},[n("CommentIcon",{staticClass:"comment-icon"}),e._v(" "),n("span",[e._v("\n              "+e._s(e.entry.commentsCount||"评论")+"\n            ")])],1),e._v(" "),n("li",{staticClass:"item dislike-item"},[e.enableDislikeButton&&!e.isMine?n("DislikeButton",{on:{"toggle-menu":function(t){e.showDislikeMenu=t},dislike:e.onDislike,handleOnlyShowDislike:e.handleOnlyShowDislike}},[n("Transition",{attrs:{name:"fade"}},[e.showDislikeMenu?n("DislikeMenu",{attrs:{entry:e.entry,"only-show-dislike":e.onlyShowDislike},on:{dislike:e.onDislike,report:e.onReportArticle,"block-user":e.onBlockUser,"block-tags":e.onBlockTags}}):e._e()],1)],1):e._e()],1),e._v(" "),e._t("more",[e.isDeletable||e.showSyncTeamBtn?n("li",{staticClass:"item more",class:{active:e.actionItem.more.active},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleActivateActionItem("more")}}},[n("MoreIcon"),e._v(" "),n("ul",{staticClass:"more-list",style:{left:e.showSyncTeamBtn?e.hasSyncToTeam?"-53px":"-39px":"-19px"}},[e.isDeletable?[e.isPost?n("li",{staticClass:"item",on:{click:e.gotoEditView}},[e._v("\n                    编辑\n                  ")]):e._e(),e._v(" "),n("li",{staticClass:"item",on:{click:e.deleteEntry}},[e._v("删除")])]:e._e(),e._v(" "),e.showSyncTeamBtn?n("li",{staticClass:"item",style:{width:e.showSyncTeamBtn?e.hasSyncToTeam?"126px":"96px":"auto"},on:{click:e.toogleSyncTeam}},[e._v("\n                  "+e._s(e.hasSyncToTeam?"取消":"")+"同步到团队\n                ")]):e._e()],2)],1):e._e()])],2),e._v(" "),e.tagList.length?n("div",{staticClass:"entry-footer-tags",on:{click:function(t){return t.stopPropagation(),e.recordTagClick(t)}}},e._l(e.tagList,(function(t){return n("app-link",{key:t.tag_id,staticClass:"footer-tag",class:{"footer-tag-only":1===e.tagList.length},attrs:{to:e.$tagRoute(t.title),blank:!0,title:t.title}},[e._v("\n            "+e._s(t.tag_name)+"\n          ")])})),1):e._e()])]),e._v(" "),e.coverImage?n("thumb",{staticClass:"thumb",attrs:{url:e.coverImage,width:108,height:72,alt:e.entry.title}}):e._e()],1),e._v(" "),e.enableTransferButton&&e.cursorFlag?n("CollectionButtons",{on:{transfer:e.handleTransfer,delete:e.handleDelete}}):e._e()],1)}),[],!1,null,"090b50ff",null));t.a=ne.exports},1075:function(e,t,n){"use strict";n(65);var r=n(5),o=n(110),c=(n(1162),n(29)),l=Object(c.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"video-label"},[this._v("视频")])}),[],!1,null,"2f5eaa22",null).exports,d=n(67),h=n(8),f=Object(r.b)({components:{Thumb:o.a,VideoBookLabel:l},props:{book:{type:Object,default:function(){return{}}},width:{type:Number,default:0},height:{type:Number,default:0}},setup:function(e,t){var n=t.root.$device.isMobile,o=n?100:150,c=n?140:210,l=Object(r.a)((function(){var t;return(null===(t=e.book)||void 0===t?void 0:t.base_info)||{}}));return{isVideoBook:Object(r.a)((function(){var e;return(null===(e=l.value)||void 0===e?void 0:e.course_type)===h.BookletCourseType.Video})),defaultBookThumbUrl:d.d,coverSize:{width:e.width?e.width:o,height:e.height?e.height:c},bookBaseInfo:l}}}),m=(n(1163),Object(c.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"book-thumb"},[n("thumb",{staticClass:"book-thumb-img",attrs:{alt:"「"+e.bookBaseInfo.title+"」封面",url:e.bookBaseInfo.cover_img,default:e.defaultBookThumbUrl,quality:95,width:e.coverSize.width,height:e.coverSize.height}}),e._v(" "),e.isVideoBook?n("VideoBookLabel"):e._e()],1)}),[],!1,null,"077cd020",null));t.a=m.exports},1078:function(e,t,n){e.exports=n.p+"img/loading-placeholder.9112506.png"},1079:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAq4AAAMMAQMAAACokrcUAAAABlBMVEUTGiQYIS3+UMXuAAAAgElEQVR42uzMMQ0AAAwCsPnXTMJU8LUCel2IVqvVarVarVar1Wq1Wq1Wq9VqtVqtVqvVttqFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDtwSEBAAAAgKD/r11hAwAAAAAAAGATjapzHPFOaqgAAAAASUVORK5CYII="},1108:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z",stroke:"currentColor"}}),n("circle",{attrs:{cx:"7.89922",cy:"8.00078",r:"2.2",stroke:"currentColor"}})]))}}},1115:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.56162 1.16952C7.66569 1.09661 7.78195 1.06124 7.88247 1.0912C7.97653 1.11923 8.23851 1.25916 8.50988 1.96799C8.64419 2.31881 8.9356 3.2424 8.42155 5.05431C8.29751 5.49152 8.61394 5.95303 9.09259 5.95971L12.492 6.00716L12.492 6.00721H12.4991C12.6049 6.00721 12.7228 6.01986 12.8134 6.05898C12.8544 6.07671 12.8815 6.09639 12.8999 6.116C12.9166 6.13375 12.9368 6.16247 12.9515 6.21636C12.9848 6.33784 13.0228 6.74712 12.9473 7.42262C12.874 8.07857 12.698 8.94479 12.341 9.9598C12.0424 10.8088 11.6601 11.5292 11.0684 12.4879C11.0558 12.5052 11.0462 12.5197 11.0418 12.5265L11.0404 12.5285C11.0292 12.5454 11.0242 12.5531 11.018 12.5618C11.0076 12.5764 11.0018 12.582 10.9983 12.585C10.996 12.587 10.9908 12.5912 10.9777 12.5959C10.9638 12.6009 10.9311 12.61 10.8706 12.61H4.56278L4.56373 5.58489C4.87126 5.41901 5.19881 5.20128 5.54112 4.84059C5.93883 4.42152 6.33789 3.8294 6.76254 2.94183C6.84974 2.75957 6.91745 2.55962 6.97574 2.37762C6.99264 2.32486 7.0087 2.27379 7.02438 2.22393L7.02439 2.22389C7.066 2.09158 7.10495 1.96776 7.14985 1.84312C7.2758 1.49352 7.40247 1.28101 7.56162 1.16952ZM9.45205 1.60729C9.13229 0.772086 8.70208 0.282772 8.17063 0.124374C7.64564 -0.0320981 7.20308 0.188912 6.98278 0.343248C6.55169 0.64525 6.33837 1.11908 6.20071 1.5012C6.14817 1.64705 6.10002 1.80016 6.05661 1.93824C6.0422 1.98405 6.02832 2.02821 6.01496 2.0699C5.95791 2.24804 5.90763 2.39115 5.85248 2.50643C5.45683 3.3334 5.1121 3.8271 4.80935 4.14611C4.51322 4.45815 4.23983 4.6219 3.9473 4.76821C3.71095 4.88641 3.55494 5.12906 3.55491 5.40159L3.55388 12.9125C3.55383 13.3026 3.87002 13.6188 4.26008 13.6188H10.8706C11.2097 13.6188 11.4663 13.5113 11.6519 13.3535C11.7387 13.2797 11.7988 13.2043 11.8387 13.1484C11.8556 13.1248 11.8704 13.1025 11.8786 13.09L11.8813 13.0859L11.8826 13.0839L11.8955 13.0685L11.9142 13.0382C12.5304 12.0414 12.9578 11.247 13.2927 10.2945C13.6745 9.20895 13.8679 8.26811 13.9499 7.5347C14.0297 6.82084 14.009 6.25845 13.9246 5.95014C13.805 5.51285 13.5104 5.26112 13.2134 5.13284C12.9385 5.01407 12.661 4.99859 12.5028 4.99836L9.49071 4.95631C9.92962 3.15791 9.64796 2.11902 9.45205 1.60729ZM0.000800636 5.46783C-0.0181914 5.0652 0.303128 4.72836 0.706212 4.72836H1.75264C2.14266 4.72836 2.45883 5.04454 2.45883 5.43456V12.9442C2.45883 13.3342 2.14266 13.6504 1.75264 13.6504H1.06044C0.68335 13.6504 0.372791 13.3541 0.355024 12.9775L0.000800636 5.46783Z",fill:"currentColor"}})]))}}},1116:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.45205 1.60729C9.13229 0.772086 8.70208 0.282772 8.17063 0.124374C7.64564 -0.0320981 7.20308 0.188912 6.98278 0.343248C6.55169 0.64525 6.33837 1.11908 6.20071 1.5012C6.14817 1.64704 6.10002 1.80016 6.05661 1.93823L6.05661 1.93824L6.05657 1.93835L6.05648 1.93865C6.04212 1.98432 6.02828 2.02834 6.01496 2.0699C5.95791 2.24804 5.90763 2.39115 5.85248 2.50643C5.45683 3.3334 5.1121 3.8271 4.80935 4.14611C4.51322 4.45815 4.23983 4.6219 3.9473 4.76821C3.71095 4.88641 3.55494 5.12906 3.55491 5.40159L3.55388 12.9125C3.55383 13.3026 3.87002 13.6188 4.26008 13.6188H10.8706C11.2097 13.6188 11.4663 13.5113 11.6519 13.3535C11.7388 13.2797 11.7988 13.2043 11.8387 13.1484C11.8556 13.1248 11.8704 13.1025 11.8786 13.09L11.8813 13.0859L11.8826 13.0839L11.8955 13.0685L11.9142 13.0382C12.5304 12.0414 12.9578 11.247 13.2927 10.2945C13.6745 9.20895 13.8679 8.26811 13.9499 7.5347C14.0297 6.82084 14.009 6.25845 13.9246 5.95014C13.805 5.51285 13.5104 5.26112 13.2134 5.13284C12.9385 5.01407 12.661 4.99859 12.5028 4.99836L9.49071 4.95631C9.92962 3.15791 9.64796 2.11902 9.45205 1.60729ZM0.000800636 5.46783C-0.0181914 5.0652 0.303128 4.72836 0.706212 4.72836H1.75264C2.14266 4.72836 2.45883 5.04454 2.45883 5.43456V12.9442C2.45883 13.3342 2.14266 13.6504 1.75264 13.6504H1.06044C0.68335 13.6504 0.372791 13.3541 0.355024 12.9775L0.000800636 5.46783Z",fill:"#1E80FF"}})]))}}},1117:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("circle",{attrs:{cx:"2.33301",cy:"8",r:"1.0625",fill:"currentColor"}}),n("circle",{attrs:{cx:"8",cy:"8",r:"1.0625",fill:"currentColor"}}),n("circle",{attrs:{cx:"13.667",cy:"8",r:"1.0625",fill:"currentColor"}})]))}}},1118:function(e,t,n){"use strict";n(22);var r=n(4),o=n(5),c=n(74),l=n(20),d=Object(o.b)({props:{userId:{type:String,default:""},type:{type:String,default:"default"},teaType:{type:String,default:""}},setup:function(e){var t=Object(o.w)(),n=Object(o.a)((function(){return Object(l.h)(t.currentRoute.fullPath)})),d=Object(o.c)();return{handleLinkJump:function(){var o=Object(r.a)(regeneratorRuntime.mark((function r(){var path;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,null==d?void 0:d.proxy.$ensureAuthorized("login");case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r.catch(0),r.abrupt("return",!1);case 8:Object(c.g)("private_msg_page_show",{visit_source:e.teaType}),path="/notification/im?participantId=".concat(e.userId),n.value?window.location.href=path:t.push(path);case 11:case"end":return r.stop()}}),r,null,[[0,5]])})));return function(){return o.apply(this,arguments)}}()}}}),h=(n(1166),n(29)),component=Object(h.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"im-button",class:{"has-icon":"hasIcon"===e.type},attrs:{href:"/notification/im?participantId="+e.userId},on:{click:function(t){return t.preventDefault(),e.handleLinkJump(t)}}},["hasIcon"===e.type?r("img",{staticClass:"im-icon",attrs:{src:n(1165),alt:"私信"}}):e._e(),e._v(" "),r("div",[e._v("私信")])])}),[],!1,null,"4f04ff62",null);t.a=component.exports},1119:function(e,t,n){"use strict";var r=n(9),o=n(974),c=n.n(o),l=Object(r.d)({emits:["dislike","toggle-menu","handleOnlyShowDislike"],components:{Icon:c.a},setup:function(e,t){var n,o=t.root,c=t.emit,l=Object(r.a)((function(){return o.$device.isMobile})),d=Object(r.a)((function(){var e;return!!(null===(e=o.$store.state.auth.user)||void 0===e?void 0:e.user_id)}));return{onClickDislike:function(){d.value||c("handleOnlyShowDislike",!0),c("toggle-menu",!0)},onMouseEnter:function(){l.value||d.value&&(n=window.setTimeout((function(){return c("toggle-menu",!0)}),300))},onMouseLeave:function(){clearTimeout(n),c("toggle-menu",!1)}}}}),d=(n(1135),n(29)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dislike-button",on:{click:function(t){return t.stopPropagation(),e.onClickDislike(t)},mouseenter:e.onMouseEnter,mouseleave:e.onMouseLeave}},[n("span",{staticClass:"icon-close"},[n("Icon")],1),e._v(" "),e._t("default")],2)}),[],!1,null,"30fd6c37",null);t.a=component.exports},1120:function(e,t,n){"use strict";n(19),n(17),n(14),n(7),n(16);var r=n(0),o=n(9),c=n(73),l=n(10),d=n(1136),h=n.n(d),f=n(1137),m=n.n(f),v=n(1138),y=n.n(v),_=n(1139),C=n.n(_);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j=Object(o.d)({components:{BTooltip:c.Tooltip,DislikeIcon:y.a,BlockUserIcon:m.a,BlockTagIcon:h.a,ReportIcon:C.a},props:{entry:{type:Object,required:!0},onlyShowDislike:{type:Boolean}},emits:["dislike","block-user","block-tags","report"],setup:function(e,t){var n,r,c=t.emit,d=t.root,h=Object(o.a)((function(){return d.$device.isMobile})),f=Object(o.a)((function(){var t,n;return null===(n=null===(t=e.entry)||void 0===t?void 0:t.author_user_info)||void 0===n?void 0:n.user_name})),m=Object(o.r)(null!==(r=null===(n=e.entry.tags)||void 0===n?void 0:n.map((function(e){return O(O({},e),{},{selected:!1})})))&&void 0!==r?r:[]),v=Object(o.r)(!1),y=Object(o.a)((function(){return m.value.every((function(e){return!e.selected}))}));return{tags:m,showTagList:v,username:f,isMobile:h,onClickDislike:function(){c("dislike")},onClickBlockUser:function(){c("block-user")},onClickBlockTags:function(){c("block-tags",m.value.filter((function(e){return e.selected})))},onClickReport:function(){c("report")},toggleTagSelected:function(e,t){l.default.set(m.value,t,O(O({},e),{},{selected:!e.selected}))},disableBtnBlockTag:y}}}),V=(n(1140),n(29)),component=Object(V.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dislike-menu",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"menu-item",on:{click:e.onClickDislike}},[n("DislikeIcon",{staticClass:"menu-icon icon-dislike"}),e._v(" "),n("span",{staticClass:"menu-text"},[e._v("不感兴趣")])],1),e._v(" "),e.onlyShowDislike?e._e():[n("div",{staticClass:"menu-item",on:{click:e.onClickBlockUser}},[n("BlockUserIcon",{staticClass:"menu-icon icon-block-user"}),e._v(" "),n("BTooltip",{staticClass:"tooltip",attrs:{placement:"top",disabled:e.isMobile||(e.username||"").length<=6,content:"屏蔽作者："+e.username,"append-to-body":!1}},[n("span",{staticClass:"menu-text"},[e._v("屏蔽作者："+e._s(e.username))])])],1),e._v(" "),n("div",{staticClass:"menu-item",class:{active:e.showTagList},on:{click:function(t){e.showTagList=!e.showTagList}}},[n("BlockTagIcon",{staticClass:"menu-icon icon-block-tag"}),e._v(" "),n("span",{staticClass:"menu-text"},[e._v("屏蔽标签")]),e._v(" "),n("span",{staticClass:"menu-icon icon-arrow",class:{active:e.showTagList}})],1),e._v(" "),e.showTagList?n("div",{staticClass:"tags-row"},[n("div",{staticClass:"tag-list"},e._l(e.tags,(function(t,r){return n("span",{key:t.tag_id,staticClass:"tag-item",class:{active:t.selected},on:{click:function(n){return e.toggleTagSelected(t,r)}}},[e._v("\n          "+e._s(t.tag_name)+"\n        ")])})),0),e._v(" "),n("button",{staticClass:"btn-block-tag",attrs:{disabled:e.disableBtnBlockTag},on:{click:e.onClickBlockTags}},[e._v("\n        确定屏蔽\n      ")])]):e._e(),e._v(" "),e.isMobile?e._e():n("div",{staticClass:"menu-item",on:{click:e.onClickReport}},[n("ReportIcon",{staticClass:"menu-icon icon-report"}),e._v(" "),n("span",{staticClass:"menu-text"},[e._v("举报")])],1)]],2)}),[],!1,null,"1ba6cc8a",null);t.a=component.exports},1125:function(e,t,n){"use strict";n(1025)},1127:function(e,t,n){e.exports=n.p+"img/auditing-placeholder.1726838.png"},1128:function(e,t,n){e.exports=n.p+"img/auditing-placeholder-mobile.7c24b8f.png"},1129:function(e,t,n){"use strict";n(1026)},1131:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.30136 9.11421L1.30019 2.45191C1.30024 1.6778 1.92779 1.05019 2.70191 1.05019H11.3989C12.1731 1.05019 12.8006 1.67785 12.8006 2.452L12.8018 9.1144C12.8017 9.8885 12.1742 10.516 11.4001 10.516H9.13225C8.97329 10.516 8.81862 10.5675 8.69142 10.6629L5.65162 12.9406C5.62173 12.9598 5.58148 12.9444 5.57209 12.91L5.15416 11.0869C5.07758 10.7528 4.78033 10.516 4.43761 10.516H2.70308C1.92893 10.516 1.30136 9.88836 1.30136 9.11421ZM2.70191 0C1.34776 0 0.25 1.09776 0.25 2.45191L0.25117 9.1144C0.25122 10.4685 1.34896 11.5662 2.70308 11.5662H4.18661L4.54953 13.1495L4.55107 13.1558C4.73515 13.9153 5.62879 14.248 6.26458 13.7937L9.23719 11.5662H11.4001C12.7542 11.5662 13.852 10.4684 13.852 9.11421L13.8508 2.45182C13.8508 1.09771 12.753 0 11.3989 0H2.70191ZM3.78612 6.91404C4.35027 6.91404 4.8076 6.45671 4.8076 5.89257C4.8076 5.32842 4.35027 4.87109 3.78612 4.87109C3.22198 4.87109 2.76465 5.32842 2.76465 5.89257C2.76465 6.45671 3.22198 6.91404 3.78612 6.91404ZM7.98631 5.89257C7.98631 6.45671 7.52898 6.91404 6.96483 6.91404C6.40069 6.91404 5.94336 6.45671 5.94336 5.89257C5.94336 5.32842 6.40069 4.87109 6.96483 4.87109C7.52898 4.87109 7.98631 5.32842 7.98631 5.89257ZM10.1484 6.91404C10.7126 6.91404 11.1699 6.45671 11.1699 5.89257C11.1699 5.32842 10.7126 4.87109 10.1484 4.87109C9.58428 4.87109 9.12695 5.32842 9.12695 5.89257C9.12695 6.45671 9.58428 6.91404 10.1484 6.91404Z",fill:"currentColor"}})]))}}},1132:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M10.5 4.75C10.9142 4.75 11.25 4.41421 11.25 4C11.25 3.58579 10.9142 3.25 10.5 3.25V4.75ZM1.5 4L0.96967 3.46967C0.755171 3.68417 0.691005 4.00676 0.80709 4.28701C0.923176 4.56727 1.19665 4.75 1.5 4.75L1.5 4ZM4.53033 2.03033C4.82322 1.73744 4.82322 1.26256 4.53033 0.96967C4.23744 0.676777 3.76256 0.676777 3.46967 0.96967L4.53033 2.03033ZM10.5 3.25H1.5V4.75H10.5V3.25ZM2.03033 4.53033L4.53033 2.03033L3.46967 0.96967L0.96967 3.46967L2.03033 4.53033Z",fill:"#8A919F"}}),n("path",{attrs:{d:"M1.5 7.25C1.08579 7.25 0.75 7.58579 0.75 8C0.75 8.41421 1.08579 8.75 1.5 8.75V7.25ZM10.5 8L11.0303 8.53033C11.2448 8.31583 11.309 7.99324 11.1929 7.71299C11.0768 7.43273 10.8033 7.25 10.5 7.25V8ZM7.46967 9.96967C7.17678 10.2626 7.17678 10.7374 7.46967 11.0303C7.76256 11.3232 8.23744 11.3232 8.53033 11.0303L7.46967 9.96967ZM1.5 8.75H10.5V7.25H1.5V8.75ZM9.96967 7.46967L7.46967 9.96967L8.53033 11.0303L11.0303 8.53033L9.96967 7.46967Z",fill:"#8A919F"}})]))}}},1133:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.86625 1.62409H10.5475C10.7998 1.62409 11.0043 1.82858 11.0043 2.08084V2.96284C11.0043 3.21509 10.7998 3.41959 10.5475 3.41959H1.45675C1.2045 3.41959 1 3.21509 1 2.96284V2.08084C0.999803 1.95964 1.04786 1.84335 1.13356 1.75765C1.21926 1.67195 1.33555 1.62389 1.45675 1.62409H4.1275V1.25009C4.1275 0.830088 4.471 0.75 4.894 0.75H7.09675C7.51975 0.75 7.86625 0.830088 7.86625 1.25009V1.62409ZM2.41442 4.41952H9.58817C9.71921 4.41957 9.84391 4.4759 9.93058 4.57419C10.0172 4.67248 10.0575 4.80326 10.0412 4.93327L9.30617 10.4998C9.24922 10.9487 8.86773 11.2856 8.41517 11.2865H3.58742C3.13628 11.2837 2.75693 10.9473 2.70017 10.4998L1.96442 4.93327C1.94837 4.80382 1.98835 4.67368 2.07429 4.57556C2.16024 4.47744 2.28398 4.42067 2.41442 4.41952Z",fill:"#8A919F"}})]))}}},1134:function(e,t,n){"use strict";n(1029)},1135:function(e,t,n){"use strict";n(1030)},1136:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("mask",{attrs:{id:"path-1-inside-1_9340_132598",fill:"white"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.73242 3.82813C4.73242 3.69005 4.84435 3.57812 4.98242 3.57812H7.9451C8.35931 3.57812 8.6951 3.24234 8.6951 2.82812C8.6951 2.41391 8.35931 2.07812 7.9451 2.07812H4.98242C4.01592 2.07812 3.23242 2.86163 3.23242 3.82813V16.1725C3.23242 17.5838 4.81713 18.4146 5.97785 17.6119L9.84022 14.9406C9.92579 14.8815 10.0391 14.8815 10.1246 14.9406L13.987 17.6119C15.1477 18.4146 16.7324 17.5838 16.7324 16.1725V12.6311C16.7324 12.2169 16.3966 11.8811 15.9824 11.8811C15.5682 11.8811 15.2324 12.2169 15.2324 12.6311V16.1725C15.2324 16.3742 15.006 16.4928 14.8402 16.3782L10.9778 13.707C10.3789 13.2927 9.58597 13.2927 8.98699 13.707L5.12463 16.3782C4.95881 16.4928 4.73242 16.3742 4.73242 16.1725V3.82813ZM11.9479 9.15031C13.2041 9.87555 14.7682 9.58418 15.6876 8.53145L10.614 5.6022C10.162 6.92478 10.6917 8.42506 11.9479 9.15031ZM11.4404 4.34731L16.3611 7.18827C16.6244 5.95636 16.0832 4.64314 14.9334 3.97928C13.7835 3.31543 12.3757 3.50337 11.4404 4.34731ZM11.1979 10.4493C13.3433 11.688 16.0865 10.9529 17.3252 8.80754C18.5638 6.66216 17.8288 3.91888 15.6834 2.68025C13.538 1.44161 10.7947 2.17667 9.55608 4.32205C8.31745 6.46743 9.05251 9.21071 11.1979 10.4493Z"}})]),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.73242 3.82813C4.73242 3.69005 4.84435 3.57812 4.98242 3.57812H7.9451C8.35931 3.57812 8.6951 3.24234 8.6951 2.82812C8.6951 2.41391 8.35931 2.07812 7.9451 2.07812H4.98242C4.01592 2.07812 3.23242 2.86163 3.23242 3.82813V16.1725C3.23242 17.5838 4.81713 18.4146 5.97785 17.6119L9.84022 14.9406C9.92579 14.8815 10.0391 14.8815 10.1246 14.9406L13.987 17.6119C15.1477 18.4146 16.7324 17.5838 16.7324 16.1725V12.6311C16.7324 12.2169 16.3966 11.8811 15.9824 11.8811C15.5682 11.8811 15.2324 12.2169 15.2324 12.6311V16.1725C15.2324 16.3742 15.006 16.4928 14.8402 16.3782L10.9778 13.707C10.3789 13.2927 9.58597 13.2927 8.98699 13.707L5.12463 16.3782C4.95881 16.4928 4.73242 16.3742 4.73242 16.1725V3.82813ZM11.9479 9.15031C13.2041 9.87555 14.7682 9.58418 15.6876 8.53145L10.614 5.6022C10.162 6.92478 10.6917 8.42506 11.9479 9.15031ZM11.4404 4.34731L16.3611 7.18827C16.6244 5.95636 16.0832 4.64314 14.9334 3.97928C13.7835 3.31543 12.3757 3.50337 11.4404 4.34731ZM11.1979 10.4493C13.3433 11.688 16.0865 10.9529 17.3252 8.80754C18.5638 6.66216 17.8288 3.91888 15.6834 2.68025C13.538 1.44161 10.7947 2.17667 9.55608 4.32205C8.31745 6.46743 9.05251 9.21071 11.1979 10.4493Z",fill:"#4E5969"}}),n("path",{attrs:{d:"M5.97785 17.6119L5.47075 16.8786L5.97785 17.6119ZM9.84022 14.9406L10.3473 15.6739L10.3473 15.6739L9.84022 14.9406ZM10.1246 14.9406L10.6317 14.2074L10.6317 14.2074L10.1246 14.9406ZM13.987 17.6119L14.4941 16.8786V16.8786L13.987 17.6119ZM14.8402 16.3782L15.3473 15.6449L15.3473 15.6449L14.8402 16.3782ZM10.9778 13.707L10.4707 14.4402L10.9778 13.707ZM8.98699 13.707L8.4799 12.9737H8.47989L8.98699 13.707ZM5.12463 16.3782L5.63173 17.1114H5.63173L5.12463 16.3782ZM15.6876 8.53145L16.3591 9.11788L17.0721 8.3014L16.1333 7.75939L15.6876 8.53145ZM11.9479 9.15031L11.5021 9.92237L11.9479 9.15031ZM10.614 5.6022L11.0597 4.83014L10.1209 4.28813L9.77038 5.31391L10.614 5.6022ZM16.3611 7.18827L15.9154 7.96033L16.9768 8.57315L17.2329 7.37458L16.3611 7.18827ZM11.4404 4.34731L10.8432 3.68545L9.93327 4.50656L10.9947 5.11938L11.4404 4.34731ZM14.9334 3.97928L14.4876 4.75135L14.9334 3.97928ZM17.3252 8.80754L18.0972 9.25329V9.25329L17.3252 8.80754ZM11.1979 10.4493L10.7521 11.2214H10.7521L11.1979 10.4493ZM15.6834 2.68025L15.2376 3.45231V3.45231L15.6834 2.68025ZM9.55608 4.32205L10.3281 4.7678L9.55608 4.32205ZM4.98242 2.68662C4.35199 2.68662 3.84092 3.19769 3.84092 3.82813H5.62392C5.62392 4.18242 5.33671 4.46963 4.98242 4.46963V2.68662ZM7.9451 2.68662H4.98242V4.46963H7.9451V2.68662ZM7.8036 2.82812C7.8036 2.74998 7.86695 2.68662 7.9451 2.68662V4.46963C8.85168 4.46963 9.5866 3.7347 9.5866 2.82812H7.8036ZM7.9451 2.96963C7.86695 2.96963 7.8036 2.90627 7.8036 2.82812H9.5866C9.5866 1.92155 8.85168 1.18662 7.9451 1.18662V2.96963ZM4.98242 2.96963H7.9451V1.18662H4.98242V2.96963ZM4.12392 3.82813C4.12392 3.35399 4.50829 2.96963 4.98242 2.96963V1.18662C3.52356 1.18662 2.34092 2.36927 2.34092 3.82813H4.12392ZM4.12392 16.1725V3.82813H2.34092V16.1725H4.12392ZM5.47075 16.8786C4.90133 17.2724 4.12392 16.8649 4.12392 16.1725H2.34092C2.34092 18.3028 4.73292 19.5568 6.48495 18.3451L5.47075 16.8786ZM9.33312 14.2074L5.47075 16.8786L6.48495 18.3451L10.3473 15.6739L9.33312 14.2074ZM10.6317 14.2074C10.241 13.9372 9.72382 13.9372 9.33312 14.2074L10.3473 15.6739C10.1278 15.8257 9.83709 15.8257 9.61753 15.6739L10.6317 14.2074ZM14.4941 16.8786L10.6317 14.2074L9.61753 15.6739L13.4799 18.3451L14.4941 16.8786ZM15.8409 16.1725C15.8409 16.8649 15.0635 17.2724 14.4941 16.8786L13.4799 18.3451C15.2319 19.5568 17.6239 18.3028 17.6239 16.1725H15.8409ZM15.8409 12.6311V16.1725H17.6239V12.6311H15.8409ZM15.9824 12.7727C15.9043 12.7727 15.8409 12.7093 15.8409 12.6311H17.6239C17.6239 11.7246 16.889 10.9896 15.9824 10.9896V12.7727ZM16.1239 12.6311C16.1239 12.7093 16.0606 12.7727 15.9824 12.7727V10.9896C15.0758 10.9896 14.3409 11.7246 14.3409 12.6311H16.1239ZM16.1239 16.1725V12.6311H14.3409V16.1725H16.1239ZM14.3331 17.1114C15.0902 17.635 16.1239 17.0931 16.1239 16.1725H14.3409C14.3409 15.6552 14.9218 15.3507 15.3473 15.6449L14.3331 17.1114ZM10.4707 14.4402L14.3331 17.1114L15.3473 15.6449L11.4849 12.9737L10.4707 14.4402ZM9.49409 14.4402C9.78793 14.237 10.1769 14.237 10.4707 14.4402L11.4849 12.9737C10.5808 12.3484 9.384 12.3484 8.4799 12.9737L9.49409 14.4402ZM5.63173 17.1114L9.49409 14.4402L8.47989 12.9737L4.61753 15.6449L5.63173 17.1114ZM3.84092 16.1725C3.84092 17.0931 4.8746 17.635 5.63173 17.1114L4.61753 15.6449C5.04302 15.3507 5.62392 15.6552 5.62392 16.1725H3.84092ZM3.84092 3.82813V16.1725H5.62392V3.82813H3.84092ZM15.0161 7.94502C14.3716 8.68306 13.2738 8.88642 12.3936 8.37824L11.5021 9.92237C13.1343 10.8647 15.1648 10.4853 16.3591 9.11788L15.0161 7.94502ZM10.1682 6.37427L15.2418 9.30352L16.1333 7.75939L11.0597 4.83014L10.1682 6.37427ZM12.3936 8.37824C11.5135 7.87007 11.1407 6.81773 11.4576 5.8905L9.77038 5.31391C9.18328 7.03184 9.86999 8.98005 11.5021 9.92237L12.3936 8.37824ZM16.8069 6.4162L11.8862 3.57525L10.9947 5.11938L15.9154 7.96033L16.8069 6.4162ZM14.4876 4.75135C15.2929 5.21629 15.6742 6.13698 15.4893 7.00196L17.2329 7.37458C17.5746 5.77574 16.8735 4.06999 15.3791 3.20722L14.4876 4.75135ZM12.0377 5.00917C12.6944 4.4166 13.6823 4.28641 14.4876 4.75135L15.3791 3.20722C13.8848 2.34445 12.057 2.59013 10.8432 3.68545L12.0377 5.00917ZM16.5531 8.36179C15.5607 10.0808 13.3626 10.6697 11.6436 9.67728L10.7521 11.2214C13.3239 12.7062 16.6124 11.8251 18.0972 9.25329L16.5531 8.36179ZM15.2376 3.45231C16.9566 4.44476 17.5456 6.64281 16.5531 8.36179L18.0972 9.25329C19.5821 6.68151 18.7009 3.393 16.1291 1.90818L15.2376 3.45231ZM10.3281 4.7678C11.3206 3.04882 13.5186 2.45986 15.2376 3.45231L16.1291 1.90818C13.5574 0.423367 10.2688 1.30452 8.78402 3.8763L10.3281 4.7678ZM11.6436 9.67728C9.92466 8.68483 9.33569 6.48678 10.3281 4.7678L8.78402 3.8763C7.2992 6.44807 8.18036 9.73659 10.7521 11.2214L11.6436 9.67728Z",fill:"#4E5969",mask:"url(#path-1-inside-1_9340_132598)"}})]))}}},1137:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4664 8.925C12.068 8.925 13.3664 7.62663 13.3664 6.025C13.3664 4.42337 12.068 3.125 10.4664 3.125C8.86478 3.125 7.56641 4.42337 7.56641 6.025C7.56641 7.62663 8.86478 8.925 10.4664 8.925ZM10.4664 10.425C12.8965 10.425 14.8664 8.45505 14.8664 6.025C14.8664 3.59495 12.8965 1.625 10.4664 1.625C8.03635 1.625 6.06641 3.59495 6.06641 6.025C6.06641 8.45505 8.03635 10.425 10.4664 10.425ZM7.59632 13.1461C5.57669 13.1461 3.93945 14.7833 3.93945 16.8029C3.93945 16.8437 3.97252 16.8768 4.01332 16.8768H9.6184C10.0326 16.8768 10.3684 17.2126 10.3684 17.6268C10.3684 18.041 10.0326 18.3768 9.6184 18.3768H4.01332C3.1441 18.3768 2.43945 17.6722 2.43945 16.8029C2.43945 13.9549 4.74826 11.6461 7.59632 11.6461H9.6184C10.0326 11.6461 10.3684 11.9819 10.3684 12.3961C10.3684 12.8103 10.0326 13.1461 9.6184 13.1461H7.59632ZM12.4245 12.6581C12.7173 12.3653 13.1922 12.3653 13.4851 12.6581L15.0827 14.2557L16.6782 12.6602C16.9711 12.3673 17.446 12.3673 17.7389 12.6602C18.0318 12.9531 18.0318 13.428 17.7389 13.7209L16.1434 15.3164L17.7278 16.9008C18.0206 17.1937 18.0206 17.6686 17.7278 17.9614C17.4349 18.2543 16.96 18.2543 16.6671 17.9614L15.0827 16.3771L13.4963 17.9635C13.2034 18.2564 12.7285 18.2564 12.4356 17.9635C12.1427 17.6706 12.1427 17.1957 12.4356 16.9029L14.0221 15.3164L12.4245 13.7188C12.1316 13.4259 12.1316 12.951 12.4245 12.6581Z",fill:"#4E5969"}})]))}}},1138:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3984 3.25C6.67052 3.25 3.64844 6.27208 3.64844 10C3.64844 13.7279 6.67052 16.75 10.3984 16.75C14.1264 16.75 17.1484 13.7279 17.1484 10C17.1484 6.27208 14.1264 3.25 10.3984 3.25ZM2.14844 10C2.14844 5.44365 5.84209 1.75 10.3984 1.75C14.9548 1.75 18.6484 5.44365 18.6484 10C18.6484 14.5563 14.9548 18.25 10.3984 18.25C5.84209 18.25 2.14844 14.5563 2.14844 10ZM8.14844 7.36719C7.73422 7.36719 7.39844 7.70297 7.39844 8.11719V8.61719C7.39844 9.0314 7.73422 9.36719 8.14844 9.36719C8.56265 9.36719 8.89844 9.0314 8.89844 8.61719V8.11719C8.89844 7.70297 8.56265 7.36719 8.14844 7.36719ZM12.6484 7.36719C12.2342 7.36719 11.8984 7.70297 11.8984 8.11719V8.61719C11.8984 9.0314 12.2342 9.36719 12.6484 9.36719C13.0627 9.36719 13.3984 9.0314 13.3984 8.61719V8.11719C13.3984 7.70297 13.0627 7.36719 12.6484 7.36719ZM8.81526 14.2434C9.69394 13.3648 11.1186 13.3648 11.9972 14.2434C12.2901 14.5363 12.765 14.5363 13.0579 14.2434C13.3508 13.9506 13.3508 13.4757 13.0579 13.1828C11.5934 11.7183 9.21907 11.7183 7.7546 13.1828C7.46171 13.4757 7.46171 13.9506 7.7546 14.2434C8.04749 14.5363 8.52237 14.5363 8.81526 14.2434Z",fill:"#4E5969"}})]))}}},1139:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9422 3.33711L18.1759 15.8662C18.1913 15.893 18.1918 15.9073 18.1917 15.915C18.1914 15.9272 18.1876 15.9458 18.1759 15.9662C18.1641 15.9866 18.1499 15.9992 18.1394 16.0055C18.1328 16.0094 18.1202 16.0162 18.0893 16.0162H3.62192C3.59101 16.0162 3.57838 16.0094 3.5718 16.0055C3.56129 15.9992 3.54707 15.9866 3.53532 15.9662C3.52356 15.9458 3.51976 15.9272 3.51954 15.915C3.51941 15.9073 3.51986 15.893 3.53532 15.8662L10.769 3.33711C10.7845 3.31034 10.7966 3.30279 10.8033 3.29907C10.8141 3.29312 10.8321 3.28711 10.8556 3.28711C10.8791 3.28711 10.8971 3.29312 10.9079 3.29907C10.9146 3.30279 10.9267 3.31034 10.9422 3.33711ZM9.46996 2.58711C10.0858 1.52044 11.6254 1.52044 12.2412 2.58711L19.4749 15.1162C20.0908 16.1829 19.321 17.5162 18.0893 17.5162H3.62192C2.39024 17.5162 1.62044 16.1829 2.23628 15.1162L9.46996 2.58711ZM10.8556 6.61484C11.2698 6.61484 11.6056 6.95063 11.6056 7.36484L11.6056 11.9547C11.6056 12.3689 11.2698 12.7047 10.8556 12.7047C10.4414 12.7047 10.1056 12.3689 10.1056 11.9547L10.1056 7.36484C10.1056 6.95063 10.4414 6.61484 10.8556 6.61484ZM11.6056 14.1012C11.6056 14.5154 11.2698 14.8512 10.8556 14.8512C10.4414 14.8512 10.1056 14.5154 10.1056 14.1012C10.1056 13.687 10.4414 13.3512 10.8556 13.3512C11.2698 13.3512 11.6056 13.687 11.6056 14.1012Z",fill:"#4E5969"}})]))}}},1140:function(e,t,n){"use strict";n(1031)},1141:function(e,t,n){"use strict";n(1032)},1143:function(e,t,n){"use strict";(function(e){n(65);var r=n(9),o=n(304),c=n(303),l=n(44),d=n(186);t.a=Object(r.d)({components:{XituSkeleton:c.a,CommonEmpty:o.default},props:{immediate:{type:Boolean,requried:!0,default:function(){return!1}},scrollEle:{type:null,requried:!1},length:{type:Number,required:!0,default:0},loading:{type:Boolean,required:!0,default:!1},hasMore:{type:Boolean,required:!0,default:!1},emptyText:{type:String,required:!1,default:""},noEmptyIndication:{type:Boolean,required:!1,default:!1}},emits:["loadMore"],setup:function(t,n){var o=n.emit,c=n.root,h=Object(r.r)(null),f=Object(r.r)([]),m=Object(r.a)((function(){return!t.noEmptyIndication&&!t.loading&&0===t.length})),v=Object(r.a)((function(){return 0===t.length&&t.loading}));Object(r.x)(h,(function(e){if(c.$device.isDesktop&&e){var t=Object(d.o)(y),n=Object(l.l)(e,y);f.value.push(n,t)}})),Object(r.l)((function(){f.value.forEach((function(e){try{e()}catch(e){console.error(e)}}))})),Object(r.m)((function(){e.nextTick((function(){var e;c.$device.isMobile&&t.scrollEle&&(null===(e=t.scrollEle)||void 0===e||e.addEventListener("scroll",y))}))})),Object(r.o)((function(){var e;c.$device.isMobile&&t.scrollEle&&(null===(e=t.scrollEle)||void 0===e||e.removeEventListener("scroll",y))}));var y=function(){var e;if(t.immediate&&t.hasMore&&!t.loading)if(t.scrollEle){var n=t.scrollEle,r=n.scrollTop;n.scrollHeight-r-n.offsetHeight<30&&o("loadMore")}else{Object(l.c)(null===(e=h.value)||void 0===e?void 0:e.firstElementChild,h.value)>-200&&o("loadMore")}};return{listEleRef:h,noData:m,initLoad:v}}})}).call(this,n(191))},1150:function(e,t,n){},1153:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return O}));n(22);var r=n(4),o=n(5),c=n(8),l=n(83),d=n(28),h=n(18),f=n(186),m=n(66);function v(e){var t=Object(f.i)({maxDurationMS:9e4}),n=t.stayDuration,h=t.isCancelled,m=t.cancel;function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.a.AddPointReport({growth_type:d.GrowthType.JScore,task_id:d.GrowthTaskID.ViewContent,item_id:t});case 5:(n=e.sent).err_no!==c.ERROR_NO.OK?console.warn("error reportViewContentJScore reason:".concat(n.err_msg)):m(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("error reportViewContentJScore err:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}Object(o.z)((function(){n.value>=9e4&&function(e){v.apply(this,arguments)}(e)}))}function y(){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],n=t?Object(m.f)(sessionStorage.getItem(h.b.reportBindPhoneJScore)||"null"):{growth_type:d.GrowthType.JScore,task_id:d.GrowthTaskID.BindPhone,item_id:"0"}){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,t||sessionStorage.setItem(h.b.reportBindPhoneJScore,JSON.stringify(n)),e.next=8,l.a.AddPointReport(n);case 8:(r=e.sent).err_no!==c.ERROR_NO.OK&&console.warn("error reportBindPhoneJScore reason:".concat(r.err_msg)),sessionStorage.removeItem(h.b.reportBindPhoneJScore),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.warn("error reportBindPhoneJScore, set to sessionStorage, ".concat(JSON.stringify(n)," err:"),e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}function C(){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.AddPointReport({growth_type:d.GrowthType.JScore,task_id:d.GrowthTaskID.UploadFavicon,item_id:"0"});case 3:(t=e.sent).err_no!==c.ERROR_NO.OK&&console.warn("error reportUploadAvatarJScore reason:".concat(t.err_msg)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("error reportUploadAvatarJScore err:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.AddPointReport({growth_type:d.GrowthType.JScore,task_id:d.GrowthTaskID.ModifyScreenName,item_id:"0"});case 3:(t=e.sent).err_no!==c.ERROR_NO.OK&&console.warn("error reportModifyScreenNameJScore reason:".concat(t.err_msg)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("error reportModifyScreenNameJScore err:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},1159:function(e,t,n){"use strict";n.r(t);n(14),n(68),n(17),n(48),n(62),n(38),n(112),n(43),n(94),n(22),n(26),n(27),n(7);var r=n(4),o=n(5),c=n(1220),l=n(1221),d=n(1222),h=n.n(d),f=n(1223),m=n.n(f),v=n(1224),y=n.n(v),_=n(1225),C=n.n(_),w=n(1226),O=n.n(w),j=n(2919),V=n(1227),k=n.n(V),x=n(1244),T=n(1245),L=n(1210),P=n(1127),S=n.n(P),I=n(1128),E=n.n(I),A=n(1078),D=n.n(A),M=n(1079),R=n.n(M),B=n(1006),$=n(1228),F=n.n($),H=n(1203),U=n.n(H),N=n(1160),Z=n(313),W=n(20);function J(e){var t;e.properties.src=Z.d.transform((null===(t=e.properties)||void 0===t?void 0:t.src)||"",{resize:{w:1512}}),e.properties.loading="lazy"}var z,G,K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.supportWebP;return function(e,t){var n,r=t.frontmatter,o=(null==r?void 0:r.theme)||"juejin",c=U.a[o]||U.a.juejin,l=(null==r?void 0:r.highlight)||c.highlight;null===(n=e.children)||void 0===n||n.unshift({type:"element",tagName:"style",children:[{type:"text",value:c.style}]},{type:"element",tagName:"style",properties:{"data-highlight":!0,"data-highlight-key":l}});var d=0;Object(N.a)(e,"element",(function(e){switch(e.properties||(e.properties={}),e.tagName){case"a":var p=e.properties||{},t=p.href||"";t&&!t.toString().startsWith("#")&&(p.target="_blank"),p.title=t;var n=e.children;if(n&&n[0]&&"text"===n[0].type){/^(https?:\/\/)?[-a-z0-9@:%._+~#=]{1,256}\.[a-z]{2,6}/i.test(n[0].value)&&(n[0].value=n[0].value.replace(/^https?:\/\//i,"").replace(/\/(.*)$/,(function(e){return e.length>12?"".concat(e.slice(0,12),"…"):e})))}Object(W.f)(t)&&(p.ref="nofollow noopener noreferrer",p.href=Object(W.j)(t)?Object(W.d)(t):t);break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":e.properties["data-id"]="heading-".concat(d++);break;case"img":J(e)}}))}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.supportWebP;return function(e){Object(N.a)(e,"element",(function(e){switch(e.properties||(e.properties={}),e.tagName){case"img":J(e)}}))}},X=function(e){var t=e.supportWebP;return{viewerEffect:function(e){var t,n=e.markdownBody.querySelector("style[data-highlight]"),r=(null===(t=null==n?void 0:n.dataset)||void 0===t?void 0:t.highlightKey)||"github";(n&&!n.innerText||!n)&&(F.a[null!=r?r:""]||F.a.github)().then((function(e){return e.default})).then((function(t){if(n)n.innerText=t;else{var r=document.createElement("style");r.innerText=t,e.markdownBody.appendChild(r)}}))},rehype:function(p){return p.use(K,{supportWebP:t})}}},Q=n(889),ee=n(15),te=n(74),ne=(n(1229),n(961));function re(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var oe=Object(ne.c)(k()(j.a));null===(G=null===(z=null==oe?void 0:oe.attributes)||void 0===z?void 0:z["*"])||void 0===G||G.push("className");var se=function(e){var t=e.supportWebP,r=e.isMobile,o=e.postHighlight,d=e.onCopyCode,f=[C()(),function(){return n.e(325).then(n.t.bind(null,4315,7)).then((function(e){return(0,e.default)({languages:ne.b,subset:ne.a})}))},y()(),function(){return n.e(85).then(n.bind(null,4381)).then((function(e){return(0,e.default)()}))},function(){return Promise.all([n.e(4),n.e(88)]).then(n.t.bind(null,4316,7)).then((function(e){return(0,e.default)()}))},function(){return n.e(92).then(n.t.bind(null,4317,7)).then((function(e){return(0,e.default)()}))},O()({background:"rgba(0,0,0,0.7)",filter:function(img){return!img.classList.contains("placeholder-image")}}),m()({test:W.f,internalProps:{target:"_blank"}}),Object(l.viewer)({auditingBackground:r?E.a:S.a,loadingBackground:r?R.a:D.a,optimize:r?{offset:{top:100,bottom:100}}:void 0}),{remark:function(p){return p.use(L.b)}},h()(),X({supportWebP:t})];return o&&f.push((function(){return Promise.all([n.e(58),n.e(328)]).then(n.bind(null,4318)).then((function(e){return(0,e.default)()}))})),Object(ee.p)(Object(ee.b)())||f.push(Object(c.codeBlockExtension)({onCopyCode:d,onFoldChange:function(e){Object(te.g)("code_block_extension_fold_click",{is_fold:e?1:0})},onHeaderShow:function(){Object(te.g)("code_block_extension_header_show")},onLineNumShow:function(){Object(te.g)("code_block_extension_line_num_show")}})),f};function ae(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=re(se(t)),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=17;break}if("function"!=typeof(c=o.value)){e.next=14;break}return e.t0=n,e.next=10,c();case 10:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=15;break;case 14:n.push(c);case 15:e.next=4;break;case 17:e.next=22;break;case 19:e.prev=19,e.t2=e.catch(2),r.e(e.t2);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,null,[[2,19,22,25]])})))).apply(this,arguments)}var le=Object(o.b)({components:{Viewer:function(){return n.e(17).then(n.bind(null,2763)).then((function(e){return e.Viewer}))}},props:{markdown:{type:String},html:{type:String},resultHtml:{type:String,default:""},hitCache:{type:Boolean,default:!1},copyable:{type:Boolean,default:!1},needLoginBeforeCopyCode:{type:Boolean,default:!1},isLogined:{type:Boolean,default:!1}},emits:["ready"],data:function(){return{sanitize:ne.c,plugins:[],callbacks:[]}},computed:{renderFrom:function(){return this.resultHtml?"md2htmlResult":this.markdown?"markdown":this.html?"html":(console.warn("result html ".concat(this.resultHtml," markdown:").concat(this.markdown," html:").concat(this.html," are both empty, unknown render from")),"unknown")},withoutViewer:function(){return"markdown"!==this.renderFrom},supportWebP:function(){var e;return Object(ee.q)(null===(e=this.$nuxt)||void 0===e?void 0:e.context)},sanitizedHtml:function(){switch(this.renderFrom){case"md2htmlResult":return-1===this.resultHtml.indexOf("webp")||this.supportWebP?this.resultHtml:Object(x.a)().use(Y,{supportWebP:this.supportWebP}).processSync(this.resultHtml);case"html":return Object(x.a)().use(T.a,oe).use(K,{supportWebP:this.supportWebP}).processSync(this.html).toString("utf-8");default:return""}},remarkRehypeOptions:function(){return{handlers:Object.assign({},L.a)}},userInitiated:function(){var e,t,n;return null===(n=null===(t=null===(e=this.$store)||void 0===e?void 0:e.state)||void 0===t?void 0:t.auth)||void 0===n?void 0:n.userInitiated}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="html"===e.renderFrom&&!Object(ee.p)(Object(ee.b)()),t.next=3,ae({supportWebP:e.supportWebP,isMobile:e.$device.isMobile,postHighlight:n,onCopyCode:function(content){try{if(e.needLoginBeforeCopyCode&&!e.isLogined&&e.userInitiated)return e.$requestLogin(),void e.$TEA("login_guide_click",{from:B.a.code});Object(Q.a)(content||""),Object(te.g)("code_block_extension_copy_click",{is_successful:1}),e.$alertMsg("代码复制成功")}catch(t){e.$error("代码复制失败"),Object(te.g)("code_block_extension_copy_click",{is_successful:0})}}});case 3:e.plugins=t.sent,e.withoutViewer&&e.plugins.forEach((function(p){var t,n=null===(t=p.viewerEffect)||void 0===t?void 0:t.call(p,{markdownBody:e.$el});e.callbacks.push(n)})),e.$nextTick((function(){return e.$emit("ready",e.$el)}));case 6:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.withoutViewer&&this.callbacks.forEach((function(e){return e?e():null}))},methods:{handleFootnotesJump:function(e){var t,n=e.currentTarget,r=e.target.getAttribute("href");r&&(null===(t=null==n?void 0:n.querySelector("#user-content-"+r.slice(1)))||void 0===t||t.scrollIntoView(!1))},onContentElementClick:function(e){var t,n,r=e.target;if("A"===r.tagName&&(null===(t=r.getAttribute("href"))||void 0===t?void 0:t.startsWith("#user-content-")))this.handleFootnotesJump(e);else if(this.copyable&&"copy-code-btn"===r.className){var text=r.textContent||"",o=r.parentNode,content=null===(n=null==o?void 0:o.textContent)||void 0===n?void 0:n.replace(new RegExp("\n?".concat(text,"$")),"");try{if(this.needLoginBeforeCopyCode&&!this.isLogined)return this.$requestLogin(),void this.$TEA("login_guide_click",{from:B.a.code});Object(Q.a)(content||""),this.$alertMsg("代码复制成功")}catch(e){this.$error("代码复制失败")}}}}}),ue=(n(1129),n(29)),component=Object(ue.a)(le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"article-content",on:{"!click":function(t){return e.onContentElementClick(t)}}},["markdown"===e.renderFrom&&e.plugins.length?n("Viewer",{attrs:{value:e.markdown,plugins:e.plugins,sanitize:e.sanitize,"remark-rehype":e.remarkRehypeOptions}}):n("div",{staticClass:"markdown-body",class:{cache:e.hitCache,html:e.html},domProps:{innerHTML:e._s(e.sanitizedHtml)}})],1)}),[],!1,null,null,null);t.default=component.exports},1162:function(e,t,n){"use strict";n(1039)},1163:function(e,t,n){"use strict";n(1040)},1165:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgB7ZdbTsJAGIXPT9AXE8KjiRe6A3EH7EB2IK5AdsDPDlwC7ABXIEvAFdh4SXxsfNToeGqBTLFQCmOKyXxJ05lpO/P1NO1MAY/H4wRZbDhUE+wDXR44Qwl8AeEH0H9VCe32lOhU8o7FAOUSvgHnkUo0a6jYR/eAFsqXjAlqBh27ISUquyGZIKjb1Qr+CV7UNV7UNZWFyo0BrlicoCQ4/phvfDd2sdtl2QWBmiZniS6LF9zq+FviD/uQ442eVcZZJ0heDxSufwJtnnjNahMOidMTwahiMAytWSiLlOgRU6RUtDjPznCUcm56dYZzwOFeVCaZoqdqlLse73QUd/akMkK2cOGU10nvWE2LffYkmcr7jyo6O1bNuoAntrlrUzzkfvBOaTvl6UCDeMtJea30askNd7HiKVWxmoCbckWlJ2oyUw6Tx9OZpczyJd/YyAjGBdLLJU90TpGUl/WxbnpbiVoEyEl5kaLpZbGJ6JxVKW+THlyLWgSYptxQMzaJmNNvrivROWaLx7sKv3pyjRd1jRd1jRd1TVrUIMKuIHiwq+mfO/lZ+YQon5BLxFu74dc/E9eVARe6yqmwgRKg0D3T07x/KI/HsyHfQKq0yUCbcHQAAAAASUVORK5CYII="},1166:function(e,t,n){"use strict";n(1041)},1167:function(e,t,n){"use strict";n(1042)},1168:function(e,t,n){"use strict";n(1043)},1169:function(e,t,n){"use strict";n(1044)},1179:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M14.3019 3.69678L8.99862 9.00006L3.69531 14.3034",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}}),n("path",{attrs:{d:"M3.69531 3.69678L8.99861 9.00006L14.3019 14.3034",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}})]))}}},1192:function(e,t,n){},1199:function(e,t,n){"use strict";n(38);var r=n(5),o=n(1216),c=n.n(o),l=n(1217),d=n.n(l),h=Object(r.b)({components:{LabelLeftIcon:c.a,LabelRightIcon:d.a},props:{book:{type:Object,default:function(){return{}}},isCountDown:{type:Boolean,default:!1},isOnlyDay:{type:Boolean,default:!1},isFloatDiscountLabel:{type:Boolean,default:!1},showWapStyle:{type:Boolean,default:!1}},setup:function(e,t){var n=t.root.$device.isMobile,o=Object(r.n)({days:"0",hours:"0",minutes:"0",seconds:"0"}),c=Object(r.n)(),l=Object(r.n)(),d=Object(r.n)(99),h=Object(r.a)((function(){var t,n,r;return!(0!==(null===(n=null===(t=e.book)||void 0===t?void 0:t.base_info)||void 0===n?void 0:n.price)&&!(null===(r=e.book)||void 0===r?void 0:r.is_buy))})),f=Object(r.a)((function(){var t;return(null===(t=e.book.max_discount)||void 0===t?void 0:t.name)||""})),m=Object(r.a)((function(){var t;return!!(null===(t=e.book.max_discount)||void 0===t?void 0:t.is_limited_time)})),v=Object(r.a)((function(){return!h.value&&!e.isFloatDiscountLabel&&e.isCountDown&&f.value&&m.value})),y=Object(r.a)((function(){if(!v.value)return"";if(e.isOnlyDay){var t=e.book.max_discount;return t&&1e3*(null==t?void 0:t.end_time)-Date.now()>0?"剩余 ".concat(Math.floor((1e3*(null==t?void 0:t.end_time)-Date.now())/1e3/60/60/24)," 天"):""}return n?"":"剩余 ".concat(o.value.days," 天 ").concat(o.value.hours,":").concat(o.value.minutes,":").concat(o.value.seconds,".").concat(_(d.value))})),_=function(e){return e<10?"0".concat(e):"".concat(e)},C=function(){var t=e.book.max_discount;if(t&&m.value){var n=1e3*(null==t?void 0:t.end_time)-Date.now();if(n>0){var r="".concat(Math.floor(n/1e3/60/60/24)),l=_(Math.floor(n/1e3/60/60%24)),h=_(Math.floor(n/1e3/60%60)),f=_(Math.floor(n/1e3%60));o.value={days:r,hours:l,minutes:h,seconds:f}}else clearInterval(c.value),d.value=0,window.location.reload();c.value||(c.value=setInterval((function(){var e=d.value;e>0?e-=1:e=99,d.value=e}),10))}};return Object(r.j)((function(){n||!v.value||e.isOnlyDay||(C(),l.value=setInterval((function(){C()}),1e3))})),Object(r.k)((function(){clearInterval(l.value),clearInterval(c.value)})),{isOwner:h,isWap:n,showLabel:f,countDownText:y}}}),f=(n(1218),n(29)),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.isOwner&&e.showLabel?n("div",{staticClass:"sale-tooltip-wrap",class:{"sale-tooltip-wrap-wap":e.showWapStyle,"sale-tooltip-wrap-float":e.isFloatDiscountLabel}},[e.isFloatDiscountLabel?n("LabelLeftIcon",{staticClass:"label-icon label-icon-left"}):e._e(),e._v(" "),(e.isFloatDiscountLabel,n("div",{staticClass:"sale-tooltip"},[e._v("\n    "+e._s(e.showLabel)+"\n    "),e.countDownText?n("span",{staticClass:"count-down-text"},[e._v("\n      "+e._s(e.countDownText)+"\n    ")]):e._e()])),e._v(" "),e.isFloatDiscountLabel?n("LabelRightIcon",{staticClass:"label-icon label-icon-right"}):e._e()],1):e._e()}),[],!1,null,"14d8b2f6",null);t.a=component.exports},1216:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"7",height:"20",viewBox:"0 0 7 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M0 5.33333C0 2.38781 2.38781 0 5.33333 0H76C76 0 72.0072 0 72.0072 4.11765C72.0072 4.91035 72.0072 5.89927 72.0072 6.97946C72.0072 12.8705 67.2534 17.6471 61.3624 17.6471C43.6926 17.6471 9.85589 17.6471 5.99862 17.6471C0.749827 17.6471 0 20 0 20V5.33333Z",fill:"#FFF2EF"}}),n("path",{attrs:{d:"M72.653 0.666667C72.4433 0.869927 72.2462 1.10455 72.0712 1.3752C71.619 2.07469 71.3405 2.97571 71.3405 4.11765V4.12229V4.12695V4.1316V4.13626V4.14093V4.1456V4.15027V4.15495V4.15963V4.16432V4.16901V4.17371V4.17841V4.18311V4.18782V4.19253V4.19725V4.20198V4.2067V4.21143V4.21617V4.22091V4.22566V4.2304V4.23516V4.23991V4.24468V4.24944V4.25421V4.25899V4.26377V4.26855V4.27334V4.27813V4.28293V4.28773V4.29254V4.29735V4.30216V4.30698V4.3118V4.31663V4.32146V4.3263V4.33114V4.33598V4.34083V4.34568V4.35054V4.3554V4.36027V4.36514V4.37001V4.37489V4.37977V4.38466V4.38955V4.39444V4.39934V4.40425V4.40916V4.41407V4.41898V4.4239V4.42883V4.43376V4.43869V4.44363V4.44857V4.45351V4.45846V4.46342V4.46838V4.47334V4.4783V4.48327V4.48825V4.49323V4.49821V4.5032V4.50819V4.51318V4.51818V4.52319V4.52819V4.53321V4.53822V4.54324V4.54827V4.55329V4.55833V4.56336V4.5684V4.57345V4.57849V4.58355V4.5886V4.59366V4.59873V4.6038V4.60887V4.61394V4.61902V4.62411V4.6292V4.63429V4.63939V4.64449V4.64959V4.6547V4.65981V4.66493V4.67005V4.67517V4.6803V4.68543V4.69057V4.69571V4.70085V4.706V4.71115V4.71631V4.72147V4.72663V4.7318V4.73697V4.74215V4.74733V4.75251V4.7577V4.76289V4.76808V4.77328V4.77848V4.78369V4.7889V4.79411V4.79933V4.80455V4.80978V4.81501V4.82024V4.82548V4.83072V4.83596V4.84121V4.84646V4.85172V4.85698V4.86224V4.86751V4.87278V4.87806V4.88334V4.88862V4.89391V4.8992V4.90449V4.90979V4.91509V4.92039V4.9257V4.93102V4.93633V4.94165V4.94698V4.9523V4.95763V4.96297V4.96831V4.97365V4.979V4.98435V4.9897V4.99506V5.00042V5.00578V5.01115V5.01652V5.0219V5.02728V5.03266V5.03804V5.04343V5.04883V5.05422V5.05963V5.06503V5.07044V5.07585V5.08126V5.08668V5.0921V5.09753V5.10296V5.10839V5.11383V5.11927V5.12471V5.13016V5.13561V5.14107V5.14652V5.15199V5.15745V5.16292V5.16839V5.17387V5.17935V5.18483V5.19032V5.19581V5.2013V5.2068V5.2123V5.2178V5.22331V5.22882V5.23433V5.23985V5.24537V5.25089V5.25642V5.26195V5.26749V5.27303V5.27857V5.28411V5.28966V5.29521V5.30077V5.30633V5.31189V5.31745V5.32302V5.3286V5.33417V5.33975V5.34533V5.35092V5.35651V5.3621V5.3677V5.3733V5.3789V5.3845V5.39011V5.39573V5.40134V5.40696V5.41258V5.41821V5.42384V5.42947V5.43511V5.44075V5.44639V5.45203V5.45768V5.46333V5.46899V5.47465V5.48031V5.48598V5.49164V5.49732V5.50299V5.50867V5.51435V5.52004V5.52572V5.53141V5.53711V5.54281V5.54851V5.55421V5.55992V5.56563V5.57134V5.57706V5.58278V5.5885V5.59423V5.59996V5.60569V5.61143V5.61717V5.62291V5.62865V5.6344V5.64015V5.64591V5.65166V5.65743V5.66319V5.66896V5.67473V5.6805V5.68628V5.69206V5.69784V5.70362V5.70941V5.7152V5.721V5.7268V5.7326V5.7384V5.74421V5.75002V5.75583V5.76165V5.76747V5.77329V5.77911V5.78494V5.79077V5.79661V5.80244V5.80828V5.81413V5.81997V5.82582V5.83168V5.83753V5.84339V5.84925V5.85511V5.86098V5.86685V5.87272V5.8786V5.88448V5.89036V5.89624V5.90213V5.90802V5.91391V5.91981V5.92571V5.93161V5.93752V5.94342V5.94934V5.95525V5.96116V5.96708V5.97301V5.97893V5.98486V5.99079V5.99672V6.00266V6.0086V6.01454V6.02049V6.02643V6.03238V6.03834V6.04429V6.05025V6.05621V6.06218V6.06815V6.07412V6.08009V6.08606V6.09204V6.09802V6.10401V6.10999V6.11598V6.12198V6.12797V6.13397V6.13997V6.14597V6.15198V6.15799V6.164V6.17001V6.17603V6.18205V6.18807V6.1941V6.20012V6.20615V6.21219V6.21822V6.22426V6.2303V6.23634V6.24239V6.24844V6.25449V6.26054V6.2666V6.27266V6.27872V6.28479V6.29085V6.29692V6.303V6.30907V6.31515V6.32123V6.32731V6.3334V6.33948V6.34557V6.35167V6.35776V6.36386V6.36996V6.37607V6.38217V6.38828V6.39439V6.4005V6.40662V6.41274V6.41886V6.42498V6.43111V6.43724V6.44337V6.4495V6.45564V6.46178V6.46792V6.47406V6.48021V6.48636V6.49251V6.49866V6.50482V6.51097V6.51713V6.5233V6.52946V6.53563V6.5418V6.54797V6.55415V6.56033V6.56651V6.57269V6.57887V6.58506V6.59125V6.59744V6.60364V6.60983V6.61603V6.62223V6.62844V6.63464V6.64085V6.64706V6.65328V6.65949V6.66571V6.67193V6.67815V6.68438V6.6906V6.69683V6.70306V6.7093V6.71553V6.72177V6.72801V6.73426V6.7405V6.74675V6.753V6.75925V6.76551V6.77176V6.77802V6.78428V6.79055V6.79681V6.80308V6.80935V6.81562V6.8219V6.82817V6.83445V6.84073V6.84702V6.8533V6.85959V6.86588V6.87217V6.87847V6.88476V6.89106V6.89736V6.90366V6.90997V6.91628V6.92259V6.9289V6.93521V6.94153V6.94784V6.95416V6.96048V6.96681V6.97313V6.97946C71.3405 12.5042 66.8834 16.9804 61.3624 16.9804H5.99862C3.2911 16.9804 1.65133 17.5844 0.666667 18.2649V5.33333C0.666667 2.756 2.756 0.666667 5.33333 0.666667H72.653Z",stroke:"#F64242","stroke-opacity":"0.1","stroke-width":"1.33333"}})]))}}},1217:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.9997 0C12.5147 0 10.4266 1.69963 9.83447 3.99987H20.165C19.5729 1.69963 17.4848 0 14.9997 0Z",fill:"#FFB6B6"}}),n("path",{attrs:{d:"M-61 5.33333C-61 2.38781 -58.6122 0 -55.6667 0H15C15 0 11.0072 0 11.0072 4.11765C11.0072 4.91035 11.0072 5.89927 11.0072 6.97946C11.0072 12.8705 6.25343 17.6471 0.362395 17.6471C-17.3074 17.6471 -51.1441 17.6471 -55.0014 17.6471C-60.2502 17.6471 -61 20 -61 20V5.33333Z",fill:"#FFF2EF"}}),n("path",{attrs:{d:"M11.653 0.666667C11.4433 0.869927 11.2462 1.10455 11.0712 1.3752C10.619 2.07469 10.3405 2.97571 10.3405 4.11765V4.12229V4.12695V4.1316V4.13626V4.14093V4.1456V4.15027V4.15495V4.15963V4.16432V4.16901V4.17371V4.17841V4.18311V4.18782V4.19253V4.19725V4.20198V4.2067V4.21143V4.21617V4.22091V4.22566V4.2304V4.23516V4.23991V4.24468V4.24944V4.25421V4.25899V4.26377V4.26855V4.27334V4.27813V4.28293V4.28773V4.29254V4.29735V4.30216V4.30698V4.3118V4.31663V4.32146V4.3263V4.33114V4.33598V4.34083V4.34568V4.35054V4.3554V4.36027V4.36514V4.37001V4.37489V4.37977V4.38466V4.38955V4.39444V4.39934V4.40425V4.40916V4.41407V4.41898V4.4239V4.42883V4.43376V4.43869V4.44363V4.44857V4.45351V4.45846V4.46342V4.46838V4.47334V4.4783V4.48327V4.48825V4.49323V4.49821V4.5032V4.50819V4.51318V4.51818V4.52319V4.52819V4.53321V4.53822V4.54324V4.54827V4.55329V4.55833V4.56336V4.5684V4.57345V4.57849V4.58355V4.5886V4.59366V4.59873V4.6038V4.60887V4.61394V4.61902V4.62411V4.6292V4.63429V4.63939V4.64449V4.64959V4.6547V4.65981V4.66493V4.67005V4.67517V4.6803V4.68543V4.69057V4.69571V4.70085V4.706V4.71115V4.71631V4.72147V4.72663V4.7318V4.73697V4.74215V4.74733V4.75251V4.7577V4.76289V4.76808V4.77328V4.77848V4.78369V4.7889V4.79411V4.79933V4.80455V4.80978V4.81501V4.82024V4.82548V4.83072V4.83596V4.84121V4.84646V4.85172V4.85698V4.86224V4.86751V4.87278V4.87806V4.88334V4.88862V4.89391V4.8992V4.90449V4.90979V4.91509V4.92039V4.9257V4.93102V4.93633V4.94165V4.94698V4.9523V4.95763V4.96297V4.96831V4.97365V4.979V4.98435V4.9897V4.99506V5.00042V5.00578V5.01115V5.01652V5.0219V5.02728V5.03266V5.03804V5.04343V5.04883V5.05422V5.05963V5.06503V5.07044V5.07585V5.08126V5.08668V5.0921V5.09753V5.10296V5.10839V5.11383V5.11927V5.12471V5.13016V5.13561V5.14107V5.14652V5.15199V5.15745V5.16292V5.16839V5.17387V5.17935V5.18483V5.19032V5.19581V5.2013V5.2068V5.2123V5.2178V5.22331V5.22882V5.23433V5.23985V5.24537V5.25089V5.25642V5.26195V5.26749V5.27303V5.27857V5.28411V5.28966V5.29521V5.30077V5.30633V5.31189V5.31745V5.32302V5.3286V5.33417V5.33975V5.34533V5.35092V5.35651V5.3621V5.3677V5.3733V5.3789V5.3845V5.39011V5.39573V5.40134V5.40696V5.41258V5.41821V5.42384V5.42947V5.43511V5.44075V5.44639V5.45203V5.45768V5.46333V5.46899V5.47465V5.48031V5.48598V5.49164V5.49732V5.50299V5.50867V5.51435V5.52004V5.52572V5.53141V5.53711V5.54281V5.54851V5.55421V5.55992V5.56563V5.57134V5.57706V5.58278V5.5885V5.59423V5.59996V5.60569V5.61143V5.61717V5.62291V5.62865V5.6344V5.64015V5.64591V5.65166V5.65743V5.66319V5.66896V5.67473V5.6805V5.68628V5.69206V5.69784V5.70362V5.70941V5.7152V5.721V5.7268V5.7326V5.7384V5.74421V5.75002V5.75583V5.76165V5.76747V5.77329V5.77911V5.78494V5.79077V5.79661V5.80244V5.80828V5.81413V5.81997V5.82582V5.83168V5.83753V5.84339V5.84925V5.85511V5.86098V5.86685V5.87272V5.8786V5.88448V5.89036V5.89624V5.90213V5.90802V5.91391V5.91981V5.92571V5.93161V5.93752V5.94342V5.94934V5.95525V5.96116V5.96708V5.97301V5.97893V5.98486V5.99079V5.99672V6.00266V6.0086V6.01454V6.02049V6.02643V6.03238V6.03834V6.04429V6.05025V6.05621V6.06218V6.06815V6.07412V6.08009V6.08606V6.09204V6.09802V6.10401V6.10999V6.11598V6.12198V6.12797V6.13397V6.13997V6.14597V6.15198V6.15799V6.164V6.17001V6.17603V6.18205V6.18807V6.1941V6.20012V6.20615V6.21219V6.21822V6.22426V6.2303V6.23634V6.24239V6.24844V6.25449V6.26054V6.2666V6.27266V6.27872V6.28479V6.29085V6.29692V6.303V6.30907V6.31515V6.32123V6.32731V6.3334V6.33948V6.34557V6.35167V6.35776V6.36386V6.36996V6.37607V6.38217V6.38828V6.39439V6.4005V6.40662V6.41274V6.41886V6.42498V6.43111V6.43724V6.44337V6.4495V6.45564V6.46178V6.46792V6.47406V6.48021V6.48636V6.49251V6.49866V6.50482V6.51097V6.51713V6.5233V6.52946V6.53563V6.5418V6.54797V6.55415V6.56033V6.56651V6.57269V6.57887V6.58506V6.59125V6.59744V6.60364V6.60983V6.61603V6.62223V6.62844V6.63464V6.64085V6.64706V6.65328V6.65949V6.66571V6.67193V6.67815V6.68438V6.6906V6.69683V6.70306V6.7093V6.71553V6.72177V6.72801V6.73426V6.7405V6.74675V6.753V6.75925V6.76551V6.77176V6.77802V6.78428V6.79055V6.79681V6.80308V6.80935V6.81562V6.8219V6.82817V6.83445V6.84073V6.84702V6.8533V6.85959V6.86588V6.87217V6.87847V6.88476V6.89106V6.89736V6.90366V6.90997V6.91628V6.92259V6.9289V6.93521V6.94153V6.94784V6.95416V6.96048V6.96681V6.97313V6.97946C10.3405 12.5042 5.88338 16.9804 0.362396 16.9804H-55.0014C-57.7089 16.9804 -59.3487 17.5844 -60.3333 18.2649V5.33333C-60.3333 2.756 -58.244 0.666667 -55.6667 0.666667H11.653Z",stroke:"#F64242","stroke-opacity":"0.1","stroke-width":"1.33333"}})]))}}},1218:function(e,t,n){"use strict";n(1150)},1266:function(e,t,n){},1285:function(e,t,n){"use strict";n(19),n(17),n(14),n(7),n(16);var r=n(0),o=(n(22),n(4)),c=n(9),l=n(73),d=n(8),h=n(240),f=n(1302),m=n.n(f),v=n(1303),y=n.n(v),_=n(1179),C=n.n(_),w=n(76),O=n(3);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function V(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k=Object(c.d)({components:{BModal:l.Modal,Form:l.Form,FormItem:l.FormItem,BInput:l.Input,BRadioGroup:l.RadioGroup,BRadio:l.Radio,BSwitch:l.Switch,CloseIcon:C.a,RemoveIcon:m.a,SelectedIcon:y.a},props:{visible:{type:Boolean,default:function(){return!1},required:!0},collection:{type:Object,default:function(){return{}}}},emits:["success","close"],setup:function(e,t){var n=t.emit,r=t.root,f=Object(c.r)(null),m=Object(c.r)(null),v=Object(c.q)({collectionName:"",description:"",permission:0,isCollectFast:!1}),y=Object(c.a)((function(){var e;return(null===(e=v.collectionName)||void 0===e?void 0:e.trim().length)||0})),_=Object(c.a)((function(){var t;return(null===(t=null==e?void 0:e.collection)||void 0===t?void 0:t.is_default)||!1})),C=Object(c.a)((function(){var t;return(null===(t=null==e?void 0:e.collection)||void 0===t?void 0:t.concern_user_count)||0})),j=Object(c.a)((function(){var e,t,n;return(null===(n=null===(t=null===(e=r.$store.state)||void 0===e?void 0:e.auth)||void 0===t?void 0:t.user)||void 0===n?void 0:n.is_collect_fast)||!1})),k=Object(c.r)(!1);return Object(c.x)((function(){return e.visible}),(function(t){var n,r,o;t&&(v.collectionName=(null===(n=e.collection)||void 0===n?void 0:n.collection_name)||"",v.description=(null===(r=e.collection)||void 0===r?void 0:r.description)||"",v.permission=(null===(o=e.collection)||void 0===o?void 0:o.permission)||0,v.isCollectFast=j.value,k.value=!1)})),{inputRef:f,limitWordNum:15,collectionNameLen:y,formData:v,formRef:m,concerCount:C,deaultCollection:_,submit:function(){m.value.validate(Object(o.a)(regeneratorRuntime.mark((function t(){var o,c,f,m,_,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(y.value<=0)){t.next=2;break}return t.abrupt("return");case 2:if(f=v.collectionName.trim(),m=v.description.trim(),w.a.test(f)){t.next=7;break}return l.Message.error("标题仅限中英文及数字"),t.abrupt("return");case 7:if(_={collection_id:e.collection.collection_id||"",collection_name:f,description:m,permission:v.permission},(null===(o=e.collection)||void 0===o?void 0:o.is_default)&&(_.is_collect_fast=v.isCollectFast),t.prev=9,!k.value){t.next=12;break}return t.abrupt("return");case 12:return k.value=!0,t.next=15,h.a.UpdateCollection(_);case 15:(null==(C=t.sent)?void 0:C.err_no)===d.ERROR_NO.OK&&(l.Message.success("".concat((null===(c=e.collection)||void 0===c?void 0:c.collection_id)?"编辑成功":"新建收藏集成功")),v.isCollectFast!==j.value&&r.$store.dispatch(O.FETCH_CURRENT_USER),n("success",(null==C?void 0:C.data)||V(V({},e.collection),_))),setTimeout((function(){k.value=!1}),250),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(9),l.Message.error(null===t.t0||void 0===t.t0?void 0:t.t0.message),k.value=!1;case 24:case"end":return t.stop()}}),t,null,[[9,20]])}))))},close:function(){n("close")},removeCollectionName:function(){var e;v.collectionName="",null===(e=f.value)||void 0===e||e.focus()},handleConcerCheck:function(){C.value>0&&l.Message.error("当前收藏集已被订阅，无法设置为私密")}}}}),x=(n(1304),n(29)),component=Object(x.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{staticClass:"collection-modal",attrs:{width:"520px",value:e.visible,"mask-closable":!1,"footer-hide":!0,closable:!1},on:{close:e.close}},[n("CloseIcon",{staticClass:"closeIcon",on:{click:function(t){return t.stopPropagation(),e.close(t)}}}),e._v(" "),n("div",{staticClass:"title"},[e._v("\n    "+e._s(e.collection.collection_id?"编辑":"新建")+"收藏集\n  ")]),e._v(" "),n("Form",{ref:"formRef",staticClass:"form",attrs:{model:e.formData,"label-width":42},nativeOn:{submit:function(e){e.preventDefault()}}},[n("FormItem",{attrs:{label:"名称：",prop:"collectionName"}},[n("b-input",{ref:"inputRef",staticClass:"input",class:{"input-warning":e.collectionNameLen>e.limitWordNum},attrs:{size:"large",placeholder:"请输入收藏集名称"},scopedSlots:e._u([{key:"suffix",fn:function(){return[e.collectionNameLen>0&&e.collectionNameLen<=e.limitWordNum?n("RemoveIcon",{staticClass:"remove-icon",on:{click:e.removeCollectionName}}):e._e(),e._v(" "),e.collectionNameLen>e.limitWordNum?n("span",{staticClass:"suffix"},[n("span",{staticClass:"suffix-red"},[e._v("\n              "+e._s(e.collectionNameLen)+"\n            ")]),e._v("\n            /"+e._s(e.limitWordNum)+"\n          ")]):e._e()]},proxy:!0}]),model:{value:e.formData.collectionName,callback:function(t){e.$set(e.formData,"collectionName",t)},expression:"formData.collectionName"}})],1),e._v(" "),n("FormItem",{attrs:{label:"描述：",prop:"description"}},[n("b-input",{staticClass:"input",attrs:{type:"textarea",maxlength:100,placeholder:"请输入收藏描述（限100字，选填）"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}}),e._v(" "),n("span",{staticClass:"suffix text-suffix"},[n("span",{class:{"suffix-blue":e.formData.description.length}},[e._v("\n          "+e._s(e.formData.description.length)+"\n        ")]),e._v("\n        /100\n      ")])],1),e._v(" "),n("FormItem",{staticClass:"label-no",attrs:{prop:"permission"}},[n("b-radio-group",{model:{value:e.formData.permission,callback:function(t){e.$set(e.formData,"permission",t)},expression:"formData.permission"}},[n("b-radio",{attrs:{label:0}},[n("div",{staticClass:"radio-item"},[n("span",{staticClass:"label"},[e._v("公开")]),e._v(" "),n("span",{staticClass:"desc"},[e._v("当其他人关注此收藏集后不可再更改为隐私")])])]),e._v(" "),n("b-radio",{attrs:{label:1,disabled:e.concerCount>0}},[n("div",{staticClass:"radio-item",on:{click:e.handleConcerCheck}},[n("span",{staticClass:"label"},[e._v("隐私")]),e._v(" "),n("span",{staticClass:"desc"},[e._v("仅自己可见此收藏集")])])])],1)],1),e._v(" "),e.deaultCollection?n("FormItem",{staticClass:"label-no switch-item",attrs:{prop:"permission"}},[n("b-switch",{scopedSlots:e._u([{key:"checked",fn:function(){return[n("div",{staticClass:"switch-button switch-open"},[n("SelectedIcon",{staticClass:"switch-selected"}),e._v("\n            已开启快捷收藏\n          ")],1)]},proxy:!0},{key:"unchecked",fn:function(){return[n("div",{staticClass:"switch-button switch-unopen"},[e._v("开启快捷收藏")])]},proxy:!0}],null,!1,2781810629),model:{value:e.formData.isCollectFast,callback:function(t){e.$set(e.formData,"isCollectFast",t)},expression:"formData.isCollectFast"}}),e._v(" "),n("span",{staticClass:"suffix switch-suffix"},[e._v("\n        开启后收藏文章时不再自动弹出选择面板\n      ")])],1):e._e()],1),e._v(" "),n("div",{staticClass:"button_wrapper"},[n("button",{staticClass:"button close",on:{click:function(t){return t.stopPropagation(),e.close(t)}}},[e._v("取消")]),e._v(" "),n("button",{staticClass:"button",class:{finished:e.collectionNameLen<=0,submit:e.collectionNameLen>0},on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[e._v("\n      确定\n    ")])])],1)}),[],!1,null,"23631f0a",null);t.a=component.exports},1289:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(7),n(22);var r=n(4),o=n(8),c=n(105),l=n(18),d=n(15),h=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1e3,e.abrupt("return",setTimeout((function(){return Promise.resolve()}),t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function f(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||Object(d.h)()){e.next=17;break}if(localStorage.getItem(l.a.userFirstVisitDispatchCoupon)!==t){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,c.a.UserCouponReceiveDiscountFirstOrder({},{showError:!1});case 7:if((null==(n=e.sent)?void 0:n.err_no)!==o.ERROR_NO.OK){e.next=12;break}return localStorage.setItem(l.a.userFirstVisitDispatchCoupon,t),e.next=12,h();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error("userFirstVisitDispatchCoupon api request error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}},1302:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{opacity:"0.01","fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 10C0 4.47715 4.47715 0 10 0V0C15.5228 0 20 4.47715 20 10V10C20 15.5228 15.5228 20 10 20V20C4.47715 20 0 15.5228 0 10V10Z",fill:"#E4E6EB"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6249 6.96828C12.4442 6.78761 12.1513 6.78761 11.9706 6.96828L9.99975 8.93914L8.05418 6.99358C7.87351 6.81291 7.58058 6.81291 7.39991 6.99358L6.99352 7.39997C6.81285 7.58064 6.81285 7.87357 6.99352 8.05424L8.93909 9.9998L6.96802 11.9709C6.78735 12.1515 6.78735 12.4445 6.96802 12.6251L7.37441 13.0315C7.55508 13.2122 7.84801 13.2122 8.02868 13.0315L9.99975 11.0605L11.9961 13.0568C12.1768 13.2375 12.4697 13.2375 12.6504 13.0568L13.0568 12.6504C13.2374 12.4698 13.2374 12.1768 13.0568 11.9962L11.0604 9.9998L13.0313 8.02894C13.2119 7.84827 13.2119 7.55535 13.0313 7.37467L12.6249 6.96828Z",fill:"#252933"}})]))}}},1303:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.8847 2.21464C11.1114 2.42711 11.1228 2.78308 10.9104 3.00972L5.28536 9.00972C5.18118 9.12085 5.03638 9.18497 4.88407 9.18743C4.73176 9.18988 4.58497 9.13046 4.47725 9.02275L1.10225 5.64775C0.882583 5.42808 0.882583 5.07192 1.10225 4.85225C1.32192 4.63258 1.67808 4.63258 1.89775 4.85225L4.86196 7.81647L10.0896 2.24028C10.3021 2.01365 10.6581 2.00216 10.8847 2.21464Z",fill:"#1E80FF"}})]))}}},1304:function(e,t,n){"use strict";n(1192)},1305:function(e,t,n){e.exports=n.p+"255e400027b783cbad76dc41527e7695.svg"},1307:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,o=n(0),c={OK:0,INTERNAL_ERROR:1,SERVER_TIMEOUT:2};r={},Object(o.a)(r,c.OK,"success"),Object(o.a)(r,c.INTERNAL_ERROR,"服务内部错误"),Object(o.a)(r,c.SERVER_TIMEOUT,"服务器超时")},1332:function(e,t,n){"use strict";var r=n(1143).a,o=n(29),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("xitu-skeleton",{model:{value:e.initLoad,callback:function(t){e.initLoad=t},expression:"initLoad"}},[n("div",{ref:"listEleRef"},[e._t("default")],2),e._v(" "),e.noData?n("CommonEmpty",{attrs:{description:e.emptyText||"列表为空"}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},1333:function(e,t,n){"use strict";n(19),n(17),n(14),n(7),n(16);var r=n(0),o=n(44),c=n(938);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var d={data:function(){return{enterTime:0}},mounted:function(){this.handleVisibilityChange(),Object(o.o)(this.handleVisibilityChange)},methods:{recordPageStayTime:function(){if(this.enterTime){var e;e=(new Date-this.enterTime)/1e3;var t=Object(c.b)();this.$TEA("article_detail_leave",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({article_id:this.$route.params.id,read_time:e},t)),this.enterTime=0}},handleVisibilityChange:function(){var e=Object(o.d)();document[e]?this.recordPageStayTime():this.enterTime=new Date}},beforeDestroy:function(){Object(o.q)(this.handleVisibilityChange)}},h=n(29),component=Object(h.a)(d,void 0,void 0,!1,null,null,null);t.a=component.exports},1335:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),o=function(e){switch(e){case r.DiscountType.NoDiscount:return"original";case r.DiscountType.DiscountEvent:return"discount";case r.DiscountType.DiscountCoupon:return"coupon";default:return"unknown"}};function c(e){if(!e)return{};var t=(null==e?void 0:e.discount_type)===r.DiscountType.DiscountCoupon,n={showed_discount_type:o(null==e?void 0:e.discount_type),has_valid_coupon:(null==e?void 0:e.coupon_id)?1:0};return t&&(n.showed_coupon=(null==e?void 0:e.discount_rate)||10,n.showed_coupon_parent_id=e.coupon_basic_id||""),n}},1353:function(e,t,n){"use strict";n(7);var r=n(9),o=n(73),c=n(8),l=n(240),d=n(1438),h=n.n(d),f=n(1439),m=n.n(f),v=n(1179),y=n.n(v),_=n(1285),C=n(1332),w=n(142),O=Object(r.d)({components:{BModal:o.Modal,BCheckbox:o.Checkbox,PullupLoad:C.a,CollectPopup:_.a,CloseIcon:y.a,PermissionIcon:m.a,AddIcon:h.a},props:{visible:{type:Boolean,default:function(){return!1},required:!0},articleId:{type:String,default:function(){return""}},isEdit:{type:Boolean,default:function(){return!1}},isEmptyAllowed:{type:Boolean,default:!1},hideSuccessMessage:{type:Boolean,default:!1}},emits:["close","success"],setup:function(e,t){var n=t.emit,d=t.root,h=Object(r.r)(!0),f=Object(r.r)(!1),cursor=Object(r.r)("0"),m=Object(r.r)(null),v=Object(r.r)([]),y=Object(r.r)(!1),_=function(){y.value=!y.value},C=function(){f.value||(f.value=!0,l.a.GetCollectionSetList({limit:10,cursor:cursor.value,article_id:e.articleId}).then((function(e){e.err_no===c.ERROR_NO.OK&&(v.value=v.value.concat(e.data||[])),h.value=e.has_more||!1,cursor.value=e.cursor||"0"})).finally((function(){f.value=!1})))};return Object(r.x)((function(){return e.visible}),(function(e){e?(v.value=[],cursor.value="0",h.value=!1,C()):setTimeout((function(){document.body.style.overflow="",document.body.style.paddingRight=""}),350)})),{collectionList:v,collectModalVis:y,hasMore:h,loading:f,listEleRef:m,getCollectionList:C,toggleCollectModal:_,addCollectionSuccess:function(data){v.value=[data].concat(v.value),_(),d.$TEA("collection_list_create",{item_id:"",category_id:"",item_author_id:"",collection_list_auth:data.permission,enter_from:"1",is_default:"0",is_collection_list_desc:data.description.length>0?"1":"0"})},close:function(){n("close")},handleCheckChange:function(e,t){var n=v.value.filter((function(t){return(null==t?void 0:t.collection_id)===e}))[0];n&&(n.is_article_in=t)},submit:function(){var t=v.value.filter((function(e){return e.is_article_in})).map((function(e){return e.collection_id})),r=v.value.filter((function(e){return!e.is_article_in})).map((function(e){return e.collection_id}));if(0===t.length)return e.isEmptyAllowed?void l.a.DeleteArticleFromCollection({article_id:e.articleId}).then((function(e){e.err_no===c.ERROR_NO.OK?(o.Message.success("取消所有收藏集的收藏成功!"),n("success",r,t)):Object(w.b)(e.err_no)||o.Message.error(e.err_msg)})):void o.Message.error("请选择一个收藏集");l.a.AddArticleToCollection({article_id:e.articleId,select_collection_ids:t,unselect_collection_ids:r,is_collect_fast:!1}).then((function(l){l.err_no===c.ERROR_NO.OK?(!e.hideSuccessMessage&&o.Message.success("收藏成功！记得常常温习哦~"),n("success",r,t)):Object(w.b)(l.err_no)||o.Message.error(l.err_msg)}))}}}}),j=(n(1440),n(29)),component=Object(j.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{staticClass:"collection-list-modal",class:{"collection-list-modal-hide":e.collectModalVis},attrs:{width:"520px",value:e.visible,"mask-closable":!1,"footer-hide":!0,closable:!1},on:{close:e.close}},[e.visible?n("div",{staticClass:"modal-wrap"},[n("collect-popup",{attrs:{visible:e.collectModalVis},on:{success:e.addCollectionSuccess,close:e.toggleCollectModal}}),e._v(" "),n("CloseIcon",{staticClass:"closeIcon",on:{click:function(t){return t.stopPropagation(),e.close(t)}}}),e._v(" "),n("div",{staticClass:"title"},[e._v("选择收藏集")]),e._v(" "),n("div",{staticClass:"sub-title"},[e._v("选择或创建你想添加的收藏集")]),e._v(" "),n("div",{ref:"listEleRef",staticClass:"list"},[n("PullupLoad",{attrs:{immediate:e.visible,"scroll-ele":e.listEleRef,loading:e.loading,length:e.collectionList.length,"has-more":e.hasMore},on:{loadMore:e.getCollectionList}},e._l(e.collectionList,(function(t){return n("div",{key:t.collection_id,staticClass:"list-item",on:{click:function(n){return n.stopPropagation(),e.handleCheckChange(t.collection_id,!t.is_article_in)}}},[n("div",{staticClass:"item-left"},[n("div",{staticClass:"title-box"},[n("span",{staticClass:"name"},[e._v(e._s(t.collection_name))]),e._v(" "),1===t.permission?n("PermissionIcon",{staticClass:"permission-icon"}):e._e(),e._v(" "),t.is_default?n("span",{staticClass:"tag-default"},[e._v("\n                默认\n              ")]):e._e()],1),e._v(" "),n("div",{staticClass:"message-box"},[e._v("\n              "+e._s(t.post_article_count)+"篇文章 ·\n              "+e._s(t.concern_user_count)+"订阅\n            ")])]),e._v(" "),n("div",{staticClass:"item-right",on:{click:function(e){e.stopPropagation()}}},[n("b-checkbox",{staticClass:"checkbox-icon",attrs:{value:t.is_article_in},on:{"on-change":function(n){return e.handleCheckChange(t.collection_id,n)}}})],1)])})),0)],1),e._v(" "),n("div",{staticClass:"footer-wrap"},[n("div",{staticClass:"add-collection",on:{click:e.toggleCollectModal}},[n("AddIcon",{staticClass:"add-icon"}),e._v("\n        新建收藏集\n      ")],1),e._v(" "),n("div",{staticClass:"confirm-btn",on:{click:e.submit}},[e._v("确定")])])],1):e._e()])}),[],!1,null,"2f646e9c",null);t.a=component.exports},1387:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));n(38);var r=n(113),o=n(197),c=n.n(o),l=n(870),d=n(31),h=function(details){var e=details.id,title=details.title,t=details.description,image=details.image,n=details.username,o=details.createdAt,l=details.updatedAt;return{"@context":"https://schema.org","@type":"BlogPosting",mainEntityOfPage:{"@type":"WebPage","@id":e},headline:Object(r.htmlEncode)(title),description:Object(r.htmlEncode)(t),image:image,author:{"@type":"Organization",name:n},publisher:{"@type":"Organization",name:"掘金",logo:{"@type":"ImageObject",url:c.a}},datePublished:Object(d.c)(o,d.a),dateModified:Object(d.c)(l,d.a)}},f=function(e){var t=e.name,n=void 0===t?"分类":t,r=e.alias,o=void 0===r?"":r;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",name:"稀土掘金",position:1,item:l.d},{"@type":"ListItem",name:n,position:2,item:"https://juejin.cn/".concat(o)},{"@type":"ListItem",name:"文章",position:3}]}}},1438:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.17951 0C5.29095 0 5.33136 0.0116032 5.37211 0.0333916C5.41285 0.05518 5.44482 0.0871535 5.46661 0.127894C5.4884 0.168635 5.5 0.209046 5.5 0.320486V4.5H9.67951C9.79095 4.5 9.83136 4.5116 9.87211 4.53339C9.91285 4.55518 9.94482 4.58715 9.96661 4.62789C9.9884 4.66864 10 4.70905 10 4.82049V5.17951C10 5.29095 9.9884 5.33136 9.96661 5.37211C9.94482 5.41285 9.91285 5.44482 9.87211 5.46661C9.83136 5.4884 9.79095 5.5 9.67951 5.5H5.49975L5.5 9.67951C5.5 9.79095 5.4884 9.83136 5.46661 9.87211C5.44482 9.91285 5.41285 9.94482 5.37211 9.96661C5.33136 9.9884 5.29095 10 5.17951 10H4.82049C4.70905 10 4.66864 9.9884 4.62789 9.96661C4.58715 9.94482 4.55518 9.91285 4.53339 9.87211C4.5116 9.83136 4.5 9.79095 4.5 9.67951L4.49975 5.49975L0.320486 5.5C0.209046 5.5 0.168635 5.4884 0.127894 5.46661C0.0871535 5.44482 0.05518 5.41285 0.0333916 5.37211C0.0116032 5.33136 0 5.29095 0 5.17951V4.82049C0 4.70905 0.0116032 4.66864 0.0333916 4.62789C0.05518 4.58715 0.0871535 4.55518 0.127894 4.53339C0.168635 4.5116 0.209046 4.5 0.320486 4.5L4.5 4.49975V0.320486C4.5 0.209046 4.5116 0.168635 4.53339 0.127894C4.55518 0.0871535 4.58715 0.05518 4.62789 0.0333916C4.66864 0.0116032 4.70905 0 4.82049 0H5.17951Z",fill:"#1E80FF"}})]))}}},1439:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3323 4.73333V6.60034H5.66563V4.73333C5.66563 3.44467 6.71029 2.4 7.99896 2.4C9.28762 2.4 10.3323 3.44467 10.3323 4.73333ZM2.39844 8.60034C2.39844 7.5404 3.22297 6.67304 4.26562 6.60468V4.73333C4.26562 2.67147 5.9371 1 7.99896 1C10.0608 1 11.7323 2.67147 11.7323 4.73333V6.60475C12.7745 6.67361 13.5984 7.54075 13.5984 8.60034V13.0003C13.5984 14.1049 12.703 15.0003 11.5984 15.0003H4.39844C3.29387 15.0003 2.39844 14.1049 2.39844 13.0003L2.39844 8.60034ZM7.99805 12.2009C8.77125 12.2009 9.39805 11.5741 9.39805 10.8009C9.39805 10.0277 8.77125 9.40088 7.99805 9.40088C7.22485 9.40088 6.59805 10.0277 6.59805 10.8009C6.59805 11.5741 7.22485 12.2009 7.99805 12.2009Z",fill:"#C2C8D1"}})]))}}},1440:function(e,t,n){"use strict";n(1266)},1441:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(5);function o(){return{dynamicDataReady:Object(r.f)("dynamicDataReady")}}function c(){var e=Object(r.x)(),t=Object(r.a)((function(){return e.state.view.column.dynamicDataReady}));return Object(r.l)("dynamicDataReady",t),{dynamicDataReady:t}}},1442:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99976 7.93206L10.0656 3.86619C10.1633 3.76856 10.3215 3.76856 10.4192 3.86619L10.7727 4.21975C10.8704 4.31738 10.8704 4.47567 10.7727 4.5733L6.35331 8.99272C6.15805 9.18798 5.84147 9.18798 5.6462 8.99272L1.22679 4.5733C1.12916 4.47567 1.12916 4.31738 1.22679 4.21975L1.58034 3.86619C1.67797 3.76856 1.83626 3.76856 1.93389 3.86619L5.99976 7.93206Z"}})]))}}},1443:function(e,t,n){},1444:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.30136 10.1142L2.30019 3.45191C2.30024 2.6778 2.92779 2.05019 3.70191 2.05019H12.3989C13.1731 2.05019 13.8006 2.67785 13.8006 3.452L13.8018 10.1144C13.8017 10.8885 13.1742 11.516 12.4001 11.516H10.1322C9.97329 11.516 9.81862 11.5675 9.69142 11.6629L6.65162 13.9406C6.62173 13.9598 6.58148 13.9444 6.57209 13.91L6.15416 12.0869C6.07758 11.7528 5.78033 11.516 5.43761 11.516H3.70308C2.92893 11.516 2.30136 10.8884 2.30136 10.1142ZM3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM8.98631 6.89257C8.98631 7.45671 8.52898 7.91404 7.96483 7.91404C7.40069 7.91404 6.94336 7.45671 6.94336 6.89257C6.94336 6.32842 7.40069 5.87109 7.96483 5.87109C8.52898 5.87109 8.98631 6.32842 8.98631 6.89257ZM11.1484 7.91404C11.7126 7.91404 12.1699 7.45671 12.1699 6.89257C12.1699 6.32842 11.7126 5.87109 11.1484 5.87109C10.5843 5.87109 10.127 6.32842 10.127 6.89257C10.127 7.45671 10.5843 7.91404 11.1484 7.91404Z"}})]))}}},1445:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.70191 1C2.34776 1 1.25 2.09776 1.25 3.45191L1.25117 10.1144C1.25122 11.4685 2.34896 12.5662 3.70308 12.5662H5.18661L5.54953 14.1495L5.55107 14.1558C5.73515 14.9153 6.62879 15.248 7.26458 14.7937L10.2372 12.5662H12.4001C13.7542 12.5662 14.852 11.4684 14.852 10.1142L14.8508 3.45182C14.8508 2.09771 13.753 1 12.3989 1H3.70191ZM4.78612 7.91404C5.35027 7.91404 5.8076 7.45671 5.8076 6.89257C5.8076 6.32842 5.35027 5.87109 4.78612 5.87109C4.22198 5.87109 3.76465 6.32842 3.76465 6.89257C3.76465 7.45671 4.22198 7.91404 4.78612 7.91404ZM7.96483 7.91404C8.52898 7.91404 8.98631 7.45671 8.98631 6.89257C8.98631 6.32842 8.52898 5.87109 7.96483 5.87109C7.40069 5.87109 6.94336 6.32842 6.94336 6.89257C6.94336 7.45671 7.40069 7.91404 7.96483 7.91404ZM12.1699 6.89257C12.1699 7.45671 11.7126 7.91404 11.1484 7.91404C10.5843 7.91404 10.127 7.45671 10.127 6.89257C10.127 6.32842 10.5843 5.87109 11.1484 5.87109C11.7126 5.87109 12.1699 6.32842 12.1699 6.89257Z"}})]))}}},1446:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.56162 2.16952C8.66569 2.09661 8.78195 2.06124 8.88247 2.0912C8.97653 2.11923 9.23851 2.25916 9.50988 2.96799C9.64419 3.31881 9.9356 4.2424 9.42155 6.05431C9.29751 6.49152 9.61394 6.95303 10.0926 6.95971L13.492 7.00716L13.492 7.00721H13.4991C13.6049 7.00721 13.7228 7.01986 13.8134 7.05898C13.8544 7.07671 13.8815 7.09639 13.8999 7.116C13.9166 7.13375 13.9368 7.16247 13.9515 7.21636C13.9848 7.33784 14.0228 7.74712 13.9473 8.42262C13.874 9.07857 13.698 9.94479 13.341 10.9598C13.0424 11.8088 12.6601 12.5292 12.0684 13.4879C12.0558 13.5052 12.0462 13.5197 12.0418 13.5265L12.0404 13.5285C12.0292 13.5454 12.0242 13.5531 12.018 13.5618C12.0076 13.5764 12.0018 13.582 11.9983 13.585C11.996 13.587 11.9908 13.5912 11.9777 13.5959C11.9638 13.6009 11.9311 13.61 11.8706 13.61H5.56278L5.56373 6.58489C5.87126 6.41901 6.19881 6.20128 6.54112 5.84059C6.93883 5.42152 7.33789 4.8294 7.76254 3.94183C7.84974 3.75957 7.91745 3.55962 7.97574 3.37762C7.99264 3.32486 8.0087 3.27379 8.02438 3.22393L8.02439 3.22389C8.066 3.09158 8.10495 2.96776 8.14985 2.84312C8.2758 2.49352 8.40247 2.28101 8.56162 2.16952ZM10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64705 7.10002 2.80016 7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"}})]))}}},1447:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.452 2.60729C10.1323 1.77209 9.70208 1.28277 9.17063 1.12437C8.64564 0.967902 8.20308 1.18891 7.98278 1.34325C7.55169 1.64525 7.33837 2.11908 7.20071 2.5012C7.14817 2.64704 7.10003 2.80015 7.05661 2.93822L7.05661 2.93824C7.0422 2.98405 7.02832 3.02821 7.01496 3.0699C6.95791 3.24804 6.90763 3.39115 6.85248 3.50643C6.45683 4.3334 6.1121 4.8271 5.80935 5.14611C5.51322 5.45815 5.23983 5.6219 4.9473 5.76821C4.71095 5.88641 4.55494 6.12906 4.55491 6.40159L4.55388 13.9125C4.55383 14.3026 4.87002 14.6188 5.26008 14.6188H11.8706C12.2097 14.6188 12.4663 14.5113 12.6519 14.3535C12.7387 14.2797 12.7988 14.2043 12.8387 14.1484C12.8556 14.1248 12.8704 14.1025 12.8786 14.09L12.8813 14.0859L12.8826 14.0839L12.8955 14.0685L12.9142 14.0382C13.5304 13.0414 13.9578 12.247 14.2927 11.2945C14.6745 10.209 14.8679 9.26811 14.9499 8.5347C15.0297 7.82084 15.009 7.25845 14.9246 6.95014C14.805 6.51285 14.5104 6.26112 14.2134 6.13284C13.9385 6.01407 13.661 5.99859 13.5028 5.99836L10.4907 5.95631C10.9296 4.15791 10.648 3.11902 10.452 2.60729ZM1.0008 6.46783C0.981809 6.0652 1.30313 5.72836 1.70621 5.72836H2.75264C3.14266 5.72836 3.45883 6.04454 3.45883 6.43456V13.9442C3.45883 14.3342 3.14266 14.6504 2.75264 14.6504H2.06044C1.68335 14.6504 1.37279 14.3541 1.35502 13.9775L1.0008 6.46783Z"}})]))}}},1448:function(e,t,n){},1449:function(e,t,n){},1450:function(e,t,n){},1451:function(e,t,n){},1452:function(e,t,n){},1453:function(e,t,n){},1454:function(e,t){},1603:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=2592e3;function o(e){return"web:article:data:".concat(e)}function c(e,t){return"web:article:html".concat(void 0!==t?":v".concat(t):"",":").concat(e)}},1625:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return V})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return I}));n(38),n(22),n(39),n(46);var r=n(42),o=n(4),c=n(8),l=n(70),d=n(82),h=n(36),f=n(15),m=n(1603),v={1:"article_api",2:"fetch_cached_html",3:"fetch_additional","3_1":"related_api","3_2":"recommend_api","3_3":"link_voting_api",4:"ssr",5:"post_tos_cache"};function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.articleId,t.req.redis){e.next=4;break}return t.req.logger.warn("***************redis is not exists **************"),e.abrupt("return",void 0);case 4:return c=Object(m.b)(r),e.next=7,t.req.measureWithMetrics({stage:"redis_get",redis_key:c},t.req.redis.get(c));case 7:if(!(l=e.sent)){e.next=21;break}if(!D(d=JSON.parse(l))){e.next=16;break}return t.req.redis.expire(c,m.a),t.req.logger.info("".concat(r," return article from redis cache, article version:").concat(null===(o=null==d?void 0:d.article_info)||void 0===o?void 0:o.version)),e.abrupt("return",h.a.fromDescriptor(d));case 16:return t.req.logger.warn("".concat(r," article redis cache is in wrong status, audit_status:").concat(d.article_info.audit_status," status:").concat(d.article_info.status," delete it from redis")),t.req.redis.del(c),e.abrupt("return",void 0);case 19:e.next=23;break;case 21:return t.req.logger.info("".concat(r," no article data in redis cache")),e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,o,f,v,y,_,data,C,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.articleId,o=n.user,y=Object(m.b)(r),e.next=4,t.req.measureWithMetrics({stage:"api_call",api_method:"article_detail",timing_key:"1"},d.a.QueryArticleDetail({client_type:c.ClientType.WEB,article_id:r,req_from:l.a.Default,need_theme:!0,forbid_count:!0,is_pre_load:!0},{ssrOptions:{req:t.req,$request:t.$request,withCookie:"selfPost"===t.route.name}}));case 4:if(_=e.sent,data=_.data,C=Boolean(null==o?void 0:o.user_id)&&String(null==o?void 0:o.user_id)===String(null===(f=null==data?void 0:data.author_user_info)||void 0===f?void 0:f.user_id),w=1===(null==o?void 0:o.administrator),C||w||"selfPost"!==t.route.name){e.next=10;break}throw{message:"Not Found",statusCode:c.ERROR_NO.NOT_FOUND};case 10:return C||w||(t.req.logger.debug("not author/admin visit article ".concat(r," updating redis")),data&&D(data)?t.req.redis.set(y,JSON.stringify(data),"ex",m.a):t.req.redis.del(y)),t.req.logger.info("return article from article detail api article id:",r,"article version:",null===(v=null==data?void 0:data.article_info)||void 0===v?void 0:v.version),e.abrupt("return",h.a.fromDescriptor(data));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,o,l,d,h,f,m,data,v,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=t.req,h.redis){e.next=5;break}return h.logger.warn("***************redis is not exists **************"),e.abrupt("return",C(t,n));case 5:if(f=T(t),m=L(t),!f&&!m){e.next=9;break}return e.abrupt("return",C(t,n));case 9:return e.next=11,y(t,n);case 11:if(data=e.sent,v=null===(r=null==data?void 0:data.author_user_info)||void 0===r?void 0:r.user_id,_=Boolean(null===(o=n.user)||void 0===o?void 0:o.user_id)&&v===(null===(l=n.user)||void 0===l?void 0:l.user_id),w=1===(null===(d=n.user)||void 0===d?void 0:d.administrator),!_&&!w&&data){e.next=19;break}return e.abrupt("return",C(t,n));case 19:if(_||w||"selfPost"!==t.route.name){e.next=21;break}throw{message:"Not Found",statusCode:c.ERROR_NO.NOT_FOUND};case 21:return e.abrupt("return",data);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.req,c=o.redis){e.next=5;break}return o.logger.warn("***************redis is not exists **************"),e.abrupt("return",{shouldCache:!1});case 5:if(l=(null===(n=t.params)||void 0===n?void 0:n.id)||""){e.next=8;break}return e.abrupt("return");case 8:c.del(Object(m.c)(l,null===(r=o.articleSSRConfig)||void 0===r?void 0:r.articleVersion));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){if(P())return function(e,t){var n=e.html,o=n.lastIndexOf("</body>"),c=function(e){return"<style>.server-timing{position:fixed;padding:12px;z-index: 9999;top:16px;left:16px;display:flex;flex-direction:column;align-items:flex-start;font-size: 14px;border-radius:4px;background-color:rgba(0,0,0,0.5);color:white;}.server-timing .list li{display:flex;justify-content:space-between}</style>"+'<div class="server-timing"><ul class="list">'.concat(e.map((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return"<li><span>".concat(v[n]||n,":</span><span>").concat(o,"ms</span></li>")})).join(""),"</ul></div>")}(t);e.html="".concat(n.substr(0,o)).concat(c).concat(n.substr(o))}}function T(e){var t,n=e.route,r=e.req;return(P()||S(r))&&void 0!==(null===(t=n.query)||void 0===t?void 0:t["no-cache"])}function L(e){var t,n=e.route,r=e.req;return(P()||S(r))&&void 0!==(null===(t=n.query)||void 0===t?void 0:t["refresh-cache"])}function P(){return Object(f.m)()||Object(f.d)()||!1}function S(e){var t;return null===(t=e.headers["user-agent"])||void 0===t?void 0:t.includes("juejinbot")}function I(e,t){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,h,f,v,html;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.articleId,e.abrupt("return",{});case 3:if(c=t.req,!T(t)){e.next=7;break}return c.logger.debug("force don't use cache"),e.abrupt("return",{doNotUseCache:!0});case 7:if(!L(t)){e.next=10;break}return c.logger.debug("force refresh cache"),e.abrupt("return",{refreshCache:!0});case 10:if(l=c.redis,d=c.logger,h=c.measureWithMetrics,l){e.next=14;break}return d.warn("***************redis is not exists **************"),e.abrupt("return",{});case 14:return f={},v=Object(m.c)(r,null===(o=t.req.articleSSRConfig)||void 0===o?void 0:o.articleVersion),e.next=18,h({stage:"redis_get",redis_key:v},l.get(v));case 18:if(html=e.sent){e.next=24;break}return d.warn("cached html is empty article:%s",r),e.abrupt("return",f);case 24:return d.debug("return cached html length:%d, html:%s",html.length,A(html)),f.resultHtml=html,f.hitCache=!0,l.expire(v,m.a),e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return e.length<200?e:e.substr(0,100)+"..."+e.substr(e.length-100)}function D(article){return article.article_info.audit_status===c.AuditStatus.PASS&&article.article_info.status!==c.StatusType.DeleteStatus&&article.article_info.status!==c.StatusType.NormalStatus}},1764:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M4.88933 0.613974C4.92947 0.616946 4.96831 0.629568 5.00253 0.650767C6.67348 1.68589 7.55141 3.13884 7.63632 5.00962C7.947 5.00962 8.2245 4.65999 8.46882 3.96072L8.49487 3.88447C8.53862 3.75351 8.68025 3.68282 8.8112 3.72656C8.83398 3.73417 8.85554 3.74502 8.87522 3.75878C9.96316 4.5193 10.5048 5.50231 10.5 6.70782C10.4999 6.73762 10.4982 6.76675 10.495 6.7952C10.4985 6.86294 10.5 6.93131 10.5 7.00005C10.5 9.48533 8.48528 11.5 6 11.5C3.51472 11.5 1.5 9.48533 1.5 7.00005C1.5 6.90255 1.5031 6.80578 1.50921 6.70983C1.5062 6.70917 1.5031 6.70849 1.5 6.70782C1.50864 6.60849 1.52139 6.50994 1.53824 6.41219C1.54515 6.35775 1.55321 6.30373 1.56222 6.25003L1.57017 6.24983C1.7622 5.3813 2.28426 4.57601 3.13635 3.83394C4.00892 3.07405 4.50079 2.11523 4.61198 0.957499L4.62156 0.844839C4.63175 0.707146 4.75163 0.603784 4.88933 0.613974Z"}})]))}}},1765:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99951 0.5C9.03708 0.5 11.4995 2.96243 11.4995 6C11.4995 9.03757 9.03708 11.5 5.99951 11.5C2.96195 11.5 0.499512 9.03757 0.499512 6C0.499512 2.96243 2.96195 0.5 5.99951 0.5ZM6.25 3.49988C6.38807 3.49988 6.5 3.61181 6.5 3.74988V5.49988H8.25C8.38807 5.49988 8.5 5.61181 8.5 5.74988V6.24988C8.5 6.38795 8.38807 6.49988 8.25 6.49988H5.75C5.61193 6.49988 5.5 6.38795 5.5 6.24988V3.74988C5.5 3.61181 5.61193 3.49988 5.75 3.49988H6.25Z"}})]))}}},1766:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("rect",{attrs:{width:"12",height:"12",rx:"2",fill:"#86909C"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.98095 5.49307L8.22012 3.25389C8.28521 3.18881 8.39074 3.18881 8.45582 3.25389L8.69153 3.4896C8.75661 3.55468 8.75661 3.66021 8.69153 3.7253L6.45235 5.96447L8.69153 8.20364C8.75661 8.26873 8.75661 8.37426 8.69153 8.43934L8.45582 8.67505C8.39074 8.74013 8.28521 8.74013 8.22012 8.67505L5.98095 6.43587L3.74178 8.67505C3.67669 8.74013 3.57116 8.74013 3.50608 8.67505L3.27037 8.43934C3.20529 8.37426 3.20529 8.26873 3.27037 8.20364L5.50954 5.96447L3.27037 3.7253C3.20529 3.66021 3.20529 3.55468 3.27037 3.4896L3.50608 3.25389C3.57116 3.18881 3.67669 3.18881 3.74178 3.25389L5.98095 5.49307Z",fill:"white"}})]))}}},1767:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 1.3335C14.3514 1.3335 14.6394 1.60546 14.6648 1.95041L14.6666 2.00016V14.0002C14.6666 14.3516 14.3947 14.6396 14.0497 14.665L14 14.6668H1.99998C1.64853 14.6668 1.36059 14.3949 1.33514 14.0499L1.33331 14.0002V2.00016C1.33331 1.64871 1.60527 1.36077 1.95023 1.33532L1.99998 1.3335H14ZM13.3333 2.66618H2.66664V13.3328H13.3333V2.66618ZM11.9219 6.7879C11.9719 6.83791 12 6.90574 12 6.97647V11.7993C12 11.9098 11.9104 11.9993 11.8 11.9993H6.81615C6.7975 11.9993 6.77945 11.9968 6.76232 11.992L3.91042 11.9847C3.79996 11.9844 3.71063 11.8947 3.7109 11.7842C3.71102 11.7313 3.73209 11.6807 3.76948 11.6433L6.52468 8.88807C6.62882 8.78393 6.79766 8.78393 6.9018 8.88807L8.17297 10.1593L11.5447 6.7879C11.6489 6.68376 11.8177 6.68376 11.9219 6.7879ZM5.99997 3.99951V5.99951H3.99997V3.99951H5.99997Z"}})]))}}},1768:function(e,t,n){"use strict";n(1443)},1769:function(e,t,n){"use strict";n(1448)},1770:function(e,t,n){"use strict";n(1449)},1771:function(e,t,n){"use strict";n(1450)},1772:function(e,t,n){"use strict";n(1451)},1773:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M12.8 5.2C13.9532 6.46 14.8 8.2 14.8 10C14.7039 12.8937 12.6843 15.1706 9.97973 15.8159C10.359 12.3442 7.77588 9.35406 7.77588 9.35406C7.77588 9.35406 7.99512 13.7064 6.79514 15.8104C4.03715 15.1428 2 12.7806 2 9.8C2 7.776 2.9336 5.9728 4.4 4.8C5.8608 3.7056 6.8 1.9656 6.8 0C9.684 0.4368 11.894 2.9264 11.894 5.932C11.894 6.5012 11.746 7.0652 11.6 7.6C12.1264 6.9024 12.6184 6.0876 12.8 5.2Z",fill:"#F53F3F"}})]))}}},1774:function(e,t,n){"use strict";n(1452)},1775:function(e,t,n){"use strict";n(1453)},1776:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(11),o=n(12),c=n(1),l=(n(1307),n(1454),n(2)),d=new(function(){function e(t){Object(r.a)(this,e),this.uriPrefix=void 0!==t?t:""}return Object(o.a)(e,[{key:"renderMd2Html",value:function(e,option){var t="".concat(this.uriPrefix,"/md2html_api/v1/md2html"),body=JSON.stringify(e);return Object(c.b)(t,{method:"POST",headers:l.a,body:body},option)}}]),e}())},1777:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(14),n(7),n(16);var r=n(961),o=n(67),c=n(20),l=756*o.m;function d(){var e="^([\\?\\/#]|(https?:\\/\\/)?(\\w+\\.)?(juejin\\.(im|cn|fun)|xitu\\.io))";return{gfm:{},highlightSsr:{subset:r.a,languages:Object.keys(r.b)},footnotes:{},mathSsr:{},frontmatter:{},jcodeEditor:{},externalLinks:{innerLinkRegex:e,externalProps:{target:"_blank"}},rehypeCustom:{innerLinkRegex:e,imageMaxWidth:l,supportWebP:!0,whiteListHosts:c.n,whiteListUrls:["^https?:\\/\\/(?:www\\.)?huodongxing\\.com\\/event\\/4627672690600"]},extendedTable:{}}}},1963:function(e,t,n){"use strict";n(22);var r,o=n(4),c=n(51),l=n(5),d=n(240),h=n(1764),f=n.n(h),m=n(1765),v=n.n(m),y=n(1442),_=n.n(y),C=n(13),w=n(44),O=n(872),j=(n(19),n(17),n(14),n(16),n(43),n(7),n(75),n(42)),V=n(0),k=n(1766),x=n.n(k),T=n(1767),L=n.n(T),P=n(1015),S=n(1016),I=n(920),E=n(938),A=n(23),D=n(3),M=n(950),R=n(185),B=n(925),$=n(976),F=n(56),H=n(918),U=n(142),N=n(1006);function Z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(Object(source),!0).forEach((function(t){Object(V.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Z(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var J=(r={},Object(V.a)(r,A.d.ArticleIdType,"article"),Object(V.a)(r,A.d.PinType,"pin"),Object(V.a)(r,A.d.Book,"小册"),Object(V.a)(r,A.d.Realtime,"news"),r),z={components:{AuthCard:P.a,Emoji:S.a,ImageIcon:L.a,CloseIcon:x.a},inject:["getRecommendScoreInfo","getFromPage"],props:["commentList","replyList","subject","comment","parent","autoFocus","placeholder","mode","small","title","submitTitle","needLoginGuide"],data:function(){return{active:!1,focused:!1,submitting:!1,content:"",imageFile:null,imagePreviewUrl:"",emoji:""}},computed:{me:function(){return this.$store.getters.USER},bindedPhone:function(){return this.me&&this.me.isBindedPhone},empty:function(){return!this.content.length},canSubmit:function(){return this.content.length&&!this.submitting},isActionBoxVisible:function(){return(this.focused||!this.empty||this.imageFile)&&this.me&&this.bindedPhone},submitButtonTitle:function(){return this.submitting?"提交中...":this.submitTitle||"发表评论"},sendTip:function(){return this.$device.isMacOS?"⌘ + Enter":"Ctrl + Enter"}},watch:{focused:function(e){e&&!this.me&&this.$requestLogin(),e||!this.empty||this.imageFile||(this.$emit("emptyBlur"),this.$store.dispatch(D.UPDATE_PIN_ON_FOCUS,!1))},imageFile:function(){Object(M.g)(this.$refs.richInput)}},mounted:function(){var e=this;this.autoFocus&&this.$nextTick((function(){e.$refs.richInput.focus()}))},methods:{handleVisibleChange:function(e){e&&this.$TEA("login_guide_show",{from:N.a.comment,type:N.b.auto})},onLogin:function(){this.$TEA("login_guide_click",{from:N.a.comment}),this.$requestLogin()},onFocus:function(){this.focused=!0,this.$store.dispatch(D.UPDATE_PIN_ON_FOCUS,!0)},onOuterClick:function(){this.empty&&(this.focused=!1)},onFormBoxClick:function(e){var t=e.target;if(this.bindedPhone){var input=this.$refs.richInput;input.focus(),input.contains(t)||Object(M.g)(input)}},onInput:function(){this.focused=!0,Object(M.e)(this.$refs.richInput),this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(M.b)(this.content)},onPaste:function(e){e.preventDefault(),Object(M.f)(e,this.onFileSelected);var text=Object(M.a)(e),html=Object(R.d)(text);Object(M.c)(this.$refs.richInput,html),this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(M.b)(this.content)},onKeydown:function(e){var t=this;if(this.content.length&&!this.submitting)return Object($.a)(e,(function(){return t.submit()}))},cleanContent:function(){this.$refs.richInput.innerHTML="",this.content=""},updateEmoji:function(e){this.emoji=e,Object(M.c)(this.$refs.richInput,Object(R.c)(this.emoji)),this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(M.b)(this.content)},showFileDialog:function(){this.$refs.input.click()},changeFile:function(e){this.imageFile=e,window.URL.revokeObjectURL(this.imagePreviewUrl),this.imagePreviewUrl=e?window.URL.createObjectURL(e):""},cleanFile:function(){this.changeFile(null)},onFileSelected:function(e){var t=this;this.$refs.input.value=null,e&&(this.isWithVaildSize(e)?Object(B.a)(e,I.a).then((function(n){n?t.changeFile(e):t.$error("不支持此格式的图片")})):this.$error("文件过大"))},isWithVaildSize:function(e){return e.size<=I.c},uploadFile:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.imageFile){t.next=11;break}return t.next=3,Object(H.a)(e.me.user_id,[e.imageFile]);case 3:return n=t.sent,r=Object(j.a)(n,1),o=r[0],c=e.imageFile.type.split("/")[1],l={gif:0,png:1,jpg:2,jpeg:2},t.abrupt("return",{pic_url:o.Url,width:o.ImageHeight,height:o.ImageWidth,pic_type:l[c]||1});case 11:return t.abrupt("return",Promise.resolve());case 12:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return this.submitting=!0,this.uploadFile().then((function(image){return e.createSubmitTask(image)})).then((function(t){if(0===t.err_no?(e.submitting=!1,e.$alertMsg("评论成功"),e.$emit("submitted"),e.reset()):(e.submitting=!1,U.b||e.$error(t.err_msg||"评论失败，请稍后重试")),Object(E.a)()){var n=Object(E.b)();e.$TEA("search_detail_action",W(W({},n),{},{action_type:A.a.Comment,action_value:e.commentList.length}))}})).catch((function(t){e.submitting=!1,e.$error("评论失败，请稍后重试"),console.error(t)}))},createSubmitTask:function(image){var e,t,n,r,o,c,l=this,h=this.subject,f=h.item_id,m=h.item_type,v=h.user_id,y={comment_type:J[m],comment_parent_id:f,author_user_id:v,comment_url:location.href,mode:this.mode,item_author_id:v,item_id:f,category_id:null===(e=this.subject)||void 0===e?void 0:e.category_id};return(null===(t=this.getRecommendScoreInfo)||void 0===t?void 0:t.call(this))&&(Object.assign(y,null===(n=this.getRecommendScoreInfo)||void 0===n?void 0:n.call(this)),y.category_id=2),(null===(r=this.getFromPage)||void 0===r?void 0:r.call(this))&&(y.from_page=Object(F.b)(this.getFromPage())),this.$TEA("comment_action",y),this.comment?this.comment.reply_info?d.a.PublishCommentReply({client_type:C.e,reply_to_comment_id:this.comment.reply_info.reply_comment_id,reply_to_reply_id:this.comment.reply_info.reply_id,reply_to_user_id:this.comment.reply_info.user_id,item_id:f,item_type:m,reply_content:this.content,reply_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&(Array.isArray(l.replyList)&&l.replyList.push(e.data),Object(O.b)(l.$getBean("eventBus"),l.comment.reply_info.reply_comment_id,1),Object(O.b)(l.$getBean("eventBus"),f,1)),e})):d.a.PublishCommentReply({client_type:C.e,item_id:f,item_type:m,reply_to_comment_id:this.comment.comment_info.comment_id,reply_content:this.content,reply_pics:void 0===image?[]:[image],reply_to_reply_id:null,reply_to_user_id:null===(c=null===(o=this.comment)||void 0===o?void 0:o.comment_info)||void 0===c?void 0:c.user_id}).then((function(e){return 0===e.err_no&&(Array.isArray(l.replyList)&&l.replyList.push(e.data),Object(O.b)(l.$getBean("eventBus"),l.comment.comment_info.comment_id,1),Object(O.b)(l.$getBean("eventBus"),f,1)),e})):d.a.PublishComment({client_type:C.e,item_id:f,item_type:m,comment_content:this.content,comment_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&(l.commentList.unshift(e.data),Object(O.b)(l.$getBean("eventBus"),f,1)),e}))},reset:function(){this.cleanFile(),this.cleanContent()},emojiToText:function(html){return html.replace(/<img.*?alt=".*?/g,"").replace(/".?src=.*?>/g,"")}}},G=(n(1768),n(29)),K=Object(G.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:function(){return e.onOuterClick()},expression:"() => onOuterClick()"}],staticClass:"comment-form",class:{focused:e.focused,reply:!!e.comment,"sub-reply":!!e.parent,small:e.small}},[e.title?n("div",{staticClass:"header"},[n("span",{staticClass:"header-title"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"avatar-box"},[n("Avatar",{staticClass:"avatar",attrs:{user:e.me}})],1),e._v(" "),n("div",{staticClass:"form-box",class:{disabled:e.submitting}},[n("auth-card",{attrs:{user:e.me},on:{click:e.onFormBoxClick}},[n("div",{staticClass:"input-box"},[n("div",{ref:"richInput",staticClass:"rich-input",class:{empty:e.empty},attrs:{contenteditable:"true",spellcheck:"false",placeholder:e.placeholder||"输入评论（Enter换行，"+e.sendTip+"发送）",disabled:!0},on:{focus:e.onFocus,input:e.onInput,paste:e.onPaste,keydown:e.onKeydown,keyup:function(e){e.stopPropagation()}}}),e._v(" "),e.needLoginGuide&&!e.me?n("div",{directives:[{name:"visible-change",rawName:"v-visible-change",value:e.handleVisibleChange,expression:"handleVisibleChange"}],staticClass:"login-guide",on:{click:e.onLogin}},[n("div",{staticClass:"login-guide-text"},[e._v(e._s("看完啦，"))]),e._v(" "),n("div",{staticClass:"login-guide-button"},[e._v(e._s("登录"))]),e._v(" "),n("div",{staticClass:"login-guide-text"},[e._v(e._s("分享一下感受吧～"))])]):e._e(),e._v(" "),e.imagePreviewUrl?n("div",{staticClass:"image-preview-box"},[n("div",{staticClass:"image-preview",style:{backgroundImage:"url("+e.imagePreviewUrl+")"}}),e._v(" "),n("div",{staticClass:"clean-btn",on:{click:e.cleanFile}},[n("CloseIcon")],1)]):e._e()])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActionBoxVisible||!e.small,expression:"isActionBoxVisible || !small"}],staticClass:"action-box"},[n("emoji",{directives:[{name:"show",rawName:"v-show",value:e.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"emoji-btn",on:{selectEmoji:e.updateEmoji}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"image-btn",on:{click:e.showFileDialog}},[n("ImageIcon",{staticClass:"icon"}),e._v(" "),n("span",[e._v("图片")])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"submit"},[n("span",[e._v(e._s(e.sendTip))]),e._v(" "),n("button",{staticClass:"submit-btn",attrs:{disabled:!e.canSubmit},on:{click:e.submit}},[e._v("\n            "+e._s(e.submitButtonTitle)+"\n          ")])])],1)],1),e._v(" "),n("input",{ref:"input",staticClass:"hidden",attrs:{type:"file"},on:{change:function(t){return e.onFileSelected(t.target.files[0])}}})])])}),[],!1,null,"46adacd5",null).exports,Y=n(895),X=n(90),Q=n(1444),ee=n.n(Q),te=n(1445),ne=n.n(te),re=n(1446),ie=n.n(re),oe=n(1447),se=n.n(oe),ae=n(897),ce=n(110),le=n(875),ue=n(165),de=n(305),he=n(871),pe=n(866),fe=n(882),me=(n(38),n(189)),ve={components:{Dislike:ae.a,CommentForm:K,UserPopover:le.default,Thumb:ce.a,LikeIcon:ie.a,LikeActiveIcon:se.a,CommentIcon:ee.a,CommentActiveIcon:ne.a},props:["replyList","subject","parent","reply","removable","user","mode","jjHelperItemId","jjHelperItemType","enterMethod"],data:function(){return{likeLock:Object(he.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,replyCount:this.reply.reply_info.reply_count,extend:!1,FollowType:pe.b}},computed:{usernameMaxWidth:function(){return"column"===this.$route.name?"10em":"90px"},isMobile:function(){return this.$device.isMobile},parentReply:function(){var e,content=null===(e=this.reply.parent_reply)||void 0===e?void 0:e.reply_content;return this.hasParentRemove&&content?"该评论已被删除":content?Object(de.b)(content):""},hasParentRemove:function(){var e;return 0===(null===(e=this.reply.parent_reply)||void 0===e?void 0:e.reply_status)},currentUser:function(){var e=this.$store.getters;return"USER"in e?e.USER:null},removableReply:function(){return this.removable||this.isCurrentUsersReply()},hasAuthorBadge:function(){return this.subject.user_id===this.reply.user_info.user_id},imageUrl:function(){return this.reply.reply_info.reply_pics[0]&&this.reply.reply_info.reply_pics[0].pic_url},limitedContent:function(){return Object(me.d)(this.reply.reply_info.reply_content,{maxLineCount:this.maxLineCount,perLineLength:this.perLineLength,escapeReg:R.a})},collapsed:function(){return this.limitedContent.length<this.reply.reply_info.reply_content.length&&!this.isShowAll&&this.reply.reply_info.reply_content.length-this.limitedContent.length>this.perLineLength},replyPlaceholder:function(){return"回复".concat(this.reply.user_info.user_name,"...")},perLineLength:function(){return this.$device.isMobile?30:40},maxLineCount:function(){return this.$device.isMobile?4:6},isAutoFocus:function(){return!this.user||this.user.isBindedPhone}},mounted:function(){var e=this.$refs.content;if(e){var t=e.clientHeight;e.scrollHeight>t&&(this.extend=!0)}},methods:{parseUrlEmoji:de.b,isCurrentUsersReply:function(){return this.currentUser&&this.currentUser.user_id===this.reply.user_info.user_id},toggleLike:function(){var e=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){e.isLikeLoading=!0,e.reply.user_interact.is_digg?Object(X.c)({itemId:e.reply.reply_info.reply_id,type:6}).then((function(t){e.isLikeLoading=!1,0!==t.err_no?e.$error(t.err_msg||"操作失败, 请稍后重试"):(e.reply.reply_info.digg_count--,e.reply.user_interact.is_digg=!e.reply.user_interact.is_digg)})):(Object(X.b)({itemId:e.reply.reply_info.reply_id,type:6}).then((function(t){e.isLikeLoading=!1,0!==t.err_no?e.$error(t.err_msg||"操作失败, 请稍后重试"):(e.reply.reply_info.digg_count++,e.reply.user_interact.is_digg=!e.reply.user_interact.is_digg)})),e.$TEA("like_action",{like_comment_mode:e.mode}))}))):this.$requestBindPhoneNumber(ue.b.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var e=this;window.setTimeout((function(){e.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1,this.$emit("submitted")},deleteComment:function(e){var t=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&d.a.DeleteCommentReply({comment_id:e.reply_info.reply_comment_id,reply_id:e.reply_info.reply_id}).then((function(){t.replyList.some((function(n,r){n.reply_info.reply_id===e.reply_info.reply_id&&t.replyList.splice(r,1)})),t.$alertMsg("删除成功"),Object(O.b)(t.$getBean("eventBus"),e.reply_info.reply_comment_id,-1),Object(O.b)(t.$getBean("eventBus"),t.subject.item_id,-1)})).catch((function(){t.$alertMsg("删除失败，刷新后重试")}))}))}}},be=(n(1769),{components:{SubComment:Object(G.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"subcomment"},[n("UserPopover",{attrs:{"user-id":e.reply.user_info.user_id,"show-jscore-level":!0,"tea-follow-type":e.FollowType.commentUserPopover}},[n("app-link",{staticClass:"user-link",attrs:{to:e.$userRoute(e.reply.user_info.user_id),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:e.reply.user_info}})],1)],1),e._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"content-wrapper"},[n("span",{staticClass:"delete",class:{removable:e.removableReply},on:{click:function(t){return e.deleteComment(e.reply)}}},[e._v("\n        删除\n      ")]),e._v(" "),n("div",{staticClass:"user-box"},[n("UserPopover",{attrs:{"user-id":e.reply.user_info.user_id,"show-jscore-level":!0,"tea-follow-type":e.FollowType.commentUserPopover}},[n("username",{staticClass:"username",attrs:{"max-width":e.usernameMaxWidth,user:e.reply.user_info,universal:!0,"show-jpower-level":!1}})],1),e._v(" "),e.hasAuthorBadge?n("span",{staticClass:"author-badge-text"},[e._v("（作者）")]):e._e(),e._v(" "),e.reply.reply_user&&e.reply.reply_user.user_name?n("div",{staticClass:"rely-box"},[n("span",[e._v("回复")]),e._v(" "),n("UserPopover",{attrs:{"user-id":e.reply.reply_user.user_id,"show-jscore-level":!0,"tea-follow-type":e.FollowType.commentUserPopover}},[n("app-link",{staticClass:"repliedname",style:{"max-width":e.usernameMaxWidth},attrs:{to:e.$userRoute(e.reply.reply_user)}},[e._v("\n              "+e._s(e.reply.reply_user.user_name)+"\n            ")])],1)],1):e._e(),e._v(" "),n("time",{staticClass:"time",attrs:{datetime:e._f("iso")(1e3*e.reply.reply_info.ctime),title:new Date(1e3*e.reply.reply_info.ctime)}},[e._v("\n          "+e._s(e._f("relative")(1e3*e.reply.reply_info.ctime))+"\n        ")])],1),e._v(" "),n("div",{ref:"content",staticClass:"content",class:{extend:e.isShowAll,hasimage:!!e.imageUrl},domProps:{innerHTML:e._s(e.parseUrlEmoji(e.reply.reply_info.reply_content))}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.extend&&!e.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(t){e.isShowAll=!0}}},[e._v("\n        展开\n      ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.extend&&e.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(t){e.isShowAll=!1}}},[e._v("\n        收起\n      ")]),e._v(" "),e.imageUrl?n("Thumb",{staticClass:"viewable",attrs:{"data-src":e.imageUrl,url:e.imageUrl,width:160,height:160,format:"jpg"}}):e._e(),e._v(" "),e.parentReply?n("div",{staticClass:"parent-wrapper"},[e.hasParentRemove?e._e():n("div",[e._v("“")]),e._v(" "),n("div",{staticClass:"parent-content",domProps:{innerHTML:e._s(e.parentReply)}}),e._v(" "),e.hasParentRemove?e._e():n("div",[e._v("”")])]):e._e(),e._v(" "),n("div",{staticClass:"action-box"},[n("div",{staticClass:"action-left"},[n("div",{staticClass:"item dig-item",class:e.reply.user_interact.is_digg&&"active",on:{click:e.toggleLike}},[e.reply.user_interact.is_digg?n("LikeActiveIcon"):n("LikeIcon"),e._v("\n            "+e._s(e.reply.reply_info.digg_count||"点赞")+"\n          ")],1),e._v(" "),n("div",{staticClass:"item",class:e.isReplyFormVisible&&"active",on:{click:function(t){e.isReplyFormVisible=!e.isReplyFormVisible}}},[e.isReplyFormVisible?n("CommentActiveIcon"):n("CommentIcon"),e._v("\n            "+e._s(e.isReplyFormVisible?"取消回复":"回复")+"\n          ")],1),e._v(" "),n("div",{staticClass:"dislike-item"},[n("Dislike",{attrs:{comment:e.reply,"dis-type":6}})],1)])])],1),e._v(" "),e.isReplyFormVisible?n("CommentForm",{staticClass:"replyform",attrs:{subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,parent:e.parent,comment:e.reply,"reply-list":e.replyList,"auto-focus":e.isAutoFocus,placeholder:e.replyPlaceholder,mode:e.mode,"submit-title":"发布"},on:{emptyBlur:e.onReplyFormEmptyBlur,submitted:e.onSubmitted}}):e._e()],1)],1)}),[],!1,null,"28700548",null).exports,MoreIcon:_.a},props:["subject","parent","expanded","removable","user","mode","jjHelperItemId","jjHelperItemType","enterMethod"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1}},watch:{parent:function(e){this.list=e.reply_infos}},created:function(){this.list=this.parent.reply_infos,this.has_more=this.parent.reply_infos.length<this.parent.comment_info.reply_count},methods:{getRouterParams:function(){return{name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id}}},refetch:function(){this.$emit("refetch")},fetchMore:function(){var e=this;!this.loading&&this.has_more&&(this.loading=!0,Object(fe.e)({comment_id:this.parent.comment_info.comment_id,item_id:this.subject.item_id,item_type:this.subject.item_type,cursor:this.cursor,limit:this.limit}).then((function(t){var data=t.data,n=t.count,r=t.has_more,cursor=t.cursor;e.loading=!1,e.mergeList(data),e.count=n,e.has_more=r,e.cursor=cursor,Object(O.c)(e.$getBean("eventBus"),e.parent.comment_info.comment_id,n)})).catch((function(t){e.loading=!1,console.error(t)})))},mergeList:function(e){var t,n=this.list.reduce((function(e,t){return e[t.reply_info.reply_id]=!0,e}),{}),r=e.filter((function(e){return!n[e.reply_info.reply_id]}));(t=this.list).push.apply(t,Object(c.a)(r))}}}),ge=(n(1770),Object(G.a)(be,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.list.length?n("div",{staticClass:"sub-comment-list"},[n("div",e._l(e.list,(function(t){return n("SubComment",{key:t.reply_info.reply_id,staticClass:"sub-comment",attrs:{"data-jj-helper-comment-id":t.reply_info&&t.reply_info.reply_id,"data-jj-helper-item-id":e.jjHelperItemId,"data-jj-helper-item-type":e.jjHelperItemType,subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,parent:e.parent,reply:t,"reply-list":e.list,removable:e.removable,user:e.user,mode:e.mode,"enter-method":e.enterMethod},on:{refetch:e.refetch}})})),1),e._v(" "),e.list.length>0&&e.has_more?n("div",{staticClass:"fetch-more"},[e.loading?e._e():[!0!==e.expanded&&e.parent.comment_info.reply_count>10?n("app-link",{staticClass:"fetch-more-comment",attrs:{to:e.getRouterParams(),blank:!0}},[e._v("\n        查看更多回复\n      ")]):n("span",{staticClass:"fetch-more-comment",on:{click:e.fetchMore}},[e._v("\n        查看更多回复\n        "),n("MoreIcon")],1)],e._v(" "),e.loading?n("span",{staticClass:"fetch-more-comment"},[e._v("加载中...")]):e._e()],2):e._e()]):e._e()}),[],!1,null,"6450435d",null).exports),ye={components:{Dislike:ae.a,Thumb:ce.a,CommentForm:K,SubCommentList:ge,UserPopover:le.default,LikeIcon:ie.a,LikeActiveIcon:se.a,CommentIcon:ee.a,CommentActiveIcon:ne.a},props:["list","subject","comment","expanded","mode","jjHelperItemId","jjHelperItemType","enterMethod"],setup:function(e){var t=Object(O.a)(e.comment.comment_info.comment_id),n=t.commentCount;return(0,t.setCommentCount)(e.comment.comment_info.reply_count),{replyCount:n,FollowType:pe.b}},data:function(){return{likeLock:Object(he.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,parseUrlEmoji:de.b,extend:!1}},computed:{isDelete:function(){var e;return null===(e=this.comment.user_info)||void 0===e?void 0:e.is_logout},currentUser:function(){var e=this.$store.getters;return"USER"in e?e.USER:null},isCurrentUsersSubject:function(){return this.currentUser&&this.currentUser.user_id===this.subject.user_id},isCurrentUsersComment:function(){return this.currentUser&&this.currentUser.user_id===this.comment.user_info.user_id},isAdmin:function(){return this.currentUser&&"admin"===this.currentUser.role},hasAuthorBadge:function(){return this.subject.user_id===this.comment.user_info.user_id},removable:function(){return this.isAdmin||this.isCurrentUsersSubject||this.isCurrentUsersComment},position:function(){return this.$userPosition(this.comment.user_info)},imageUrl:function(){return this.comment.comment_info.comment_pics[0]&&this.comment.comment_info.comment_pics[0].pic_url},replyPlaceholder:function(){return"回复".concat(this.comment.user_info.user_name,"...")},isAutoFocus:function(){return!this.currentUser||this.currentUser.isBindedPhone}},mounted:function(){var e=this.$refs.content;if(e){var t=e.clientHeight;e.scrollHeight>t&&(this.extend=!0)}},methods:{toggleLike:function(){var e=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){e.isLikeLoading=!0,e.comment.user_interact.is_digg?Object(X.c)({itemId:e.comment.comment_info.comment_id,type:5}).then((function(t){e.isLikeLoading=!1,0!==t.err_no?e.$error(t.err_msg||"操作失败, 请稍后重试"):(e.comment.comment_info.digg_count--,e.comment.user_interact.is_digg=!e.comment.user_interact.is_digg)})):(Object(X.b)({itemId:e.comment.comment_info.comment_id,type:5}).then((function(t){e.isLikeLoading=!1,0!==t.err_no?e.$error(t.err_msg||"操作失败, 请稍后重试"):(e.comment.comment_info.digg_count++,e.comment.user_interact.is_digg=!e.comment.user_interact.is_digg)})),e.$TEA("like_action",{like_comment_mode:e.mode}))}))):this.$requestBindPhoneNumber(ue.b.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var e=this;window.setTimeout((function(){e.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1},refetch:function(){this.$emit("refetch")},deleteComment:function(e){var t=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&d.a.DeleteComment({comment_id:String(e.comment_info.comment_id)}).then((function(){t.list.some((function(n,r){n.comment_info.comment_id===e.comment_info.comment_id&&t.list.splice(r,1)})),t.$alertMsg("删除成功"),Object(O.b)(t.$getBean("eventBus"),t.subject.item_id,-1-1*t.replyCount)})).catch((function(){t.$alertMsg("删除失败，刷新后重试")}))}))}}},_e=(n(1771),Object(G.a)(ye,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("UserPopover",{staticClass:"popover",attrs:{"user-id":e.comment.user_info.user_id,"enable-popover":Boolean(!e.isDelete),"show-jscore-level":!0,"tea-follow-type":e.FollowType.commentUserPopover}},[n("app-link",{staticClass:"user-link",attrs:{to:e.$userRoute(e.comment.user_info.user_id),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:e.comment.user_info,alt:e.comment.user_info.user_name+"的头像"}})],1)],1),e._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"comment-main"},[n("span",{staticClass:"delete",class:{removable:e.removable},on:{click:function(t){return e.deleteComment(e.comment)}}},[e._v("\n        删除\n      ")]),e._v(" "),n("div",{staticClass:"user-box"},[n("UserPopover",{attrs:{"user-id":e.comment.user_info.user_id,"enable-popover":Boolean(!e.isDelete),"show-jscore-level":!0,"tea-follow-type":e.FollowType.commentUserPopover}},[n("username",{staticClass:"username",attrs:{user:e.comment.user_info,universal:!0,"show-jscore-level":!0}})],1),e._v(" "),e.hasAuthorBadge?n("span",{staticClass:"author-badge-text"},[e._v("（作者）")]):e._e(),e._v(" "),e.position?n("span",{staticClass:"position"},[e._v("\n          "+e._s(e.position)+"\n        ")]):e._e(),e._v(" "),n("time",{staticClass:"time",attrs:{datetime:e._f("iso")(1e3*e.comment.comment_info.ctime),title:new Date(1e3*e.comment.comment_info.ctime)}},[e._v("\n          "+e._s(e._f("relative")(1e3*e.comment.comment_info.ctime))+"\n        ")])],1),e._v(" "),n("div",{ref:"content",staticClass:"content",class:{extend:e.extend&&e.isShowAll,hasimage:!!e.imageUrl},domProps:{innerHTML:e._s(e.parseUrlEmoji(e.comment.comment_info.comment_content))}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.extend&&!e.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(t){e.isShowAll=!0}}},[e._v("\n        展开\n      ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.extend&&e.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(t){e.isShowAll=!1}}},[e._v("\n        收起\n      ")]),e._v(" "),e.imageUrl?n("Thumb",{staticClass:"viewable",attrs:{"data-src":e.imageUrl,url:e.imageUrl,width:160,height:160,format:"jpg"}}):e._e(),e._v(" "),n("div",{staticClass:"action-box"},[n("div",{staticClass:"action-left"},[n("div",{staticClass:"item dig-item",class:e.comment.user_interact.is_digg&&"active",on:{click:e.toggleLike}},[e.comment.user_interact.is_digg?n("LikeActiveIcon"):n("LikeIcon"),e._v("\n            "+e._s(e.comment.comment_info.digg_count||"点赞")+"\n          ")],1),e._v(" "),n("div",{staticClass:"item",class:e.isReplyFormVisible&&"active",on:{click:function(t){e.isReplyFormVisible=!e.isReplyFormVisible}}},[e.isReplyFormVisible?n("CommentActiveIcon"):n("CommentIcon"),e._v("\n            "+e._s(e.isReplyFormVisible?"取消回复":e.replyCount||"回复")+"\n          ")],1),e._v(" "),n("div",{staticClass:"dislike-item"},[n("Dislike",{attrs:{comment:e.comment,"dis-type":5}})],1)])])],1),e._v(" "),n("div",{staticClass:"subcomment-wrapper"},[e.isReplyFormVisible?n("CommentForm",{staticClass:"comment-form",attrs:{subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,comment:e.comment,"reply-list":e.comment.reply_infos,"auto-focus":e.isAutoFocus,placeholder:e.replyPlaceholder,mode:e.mode,"submit-title":"发布"},on:{emptyBlur:e.onReplyFormEmptyBlur,submitted:e.onSubmitted}}):e._e(),e._v(" "),n("SubCommentList",{ref:"subCommentList",attrs:{subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,parent:e.comment,expanded:e.expanded,removable:e.isAdmin||e.isCurrentUsersSubject,user:e.currentUser,mode:e.mode,"enter-method":e.enterMethod},on:{refetch:e.refetch}})],1)])],1)}),[],!1,null,"a7f17274",null).exports),Ce={components:{ImageViewer:Y.a,Comment:_e},props:["subject","list","expanded","mode","jjHelperItemId","jjHelperItemType","enterMethod"],mounted:function(){this.initImageViewer()},methods:{initImageViewer:function(){this.$refs.imageViewer.attachContainer(this.$el)},refetch:function(){this.$emit("refetch")}}},we=(n(1772),Object(G.a)(Ce,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-list"},[n("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),e._v(" "),e._l(e.list,(function(t){return n("Comment",{key:t.comment_id,attrs:{"data-jj-helper-comment-id":t.comment_id,"data-jj-helper-item-id":e.jjHelperItemId,"data-jj-helper-item-type":e.jjHelperItemType,list:e.list,comment:t,subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,expanded:e.expanded,mode:e.mode,"enter-method":e.enterMethod},on:{refetch:e.refetch}})}))],2)}),[],!1,null,"47555a62",null).exports),Oe=n(9),je=n(1773),Ve=n.n(je),ke=Object(Oe.d)({components:{HotIcon:Ve.a,CommentComp:_e,ImageViewer:Y.a},props:{subject:{type:Object,required:!0},jjHelperItemId:{type:String,default:""},jjHelperItemType:{type:String,default:""},enterMethod:{type:String,default:""}},setup:function(e){var t=Object(Oe.r)([]);Object(Oe.y)((function(){var n=e.subject,r=n.item_id,o=n.item_type;r&&o&&Object(fe.d)({item_id:r,item_type:o}).then((function(e){return t.value=e}))}));var n=Object(Oe.a)((function(){return t.value.slice(0,5)})),r=Object(Oe.r)(),o=Object(Oe.r)();return Object(Oe.x)([r,o],(function(){r.value&&o.value&&r.value.attachContainer(o.value)})),{list:n,imageViewer:r,commentContainer:o}}}),xe=(n(1774),{components:{CommentForm:K,CommentList:we,HotCommentList:Object(G.a)(ke,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.list.length>0?n("div",{staticClass:"container"},[n("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),e._v(" "),n("div",{staticClass:"title"},[e._v("\n    热门评论\n    "),n("HotIcon")],1),e._v(" "),n("div",{ref:"commentContainer",staticClass:"list"},e._l(e.list,(function(t){return n("CommentComp",{key:t.comment_id,attrs:{"data-jj-helper-comment-id":t.comment_id,"data-jj-helper-item-id":e.jjHelperItemId,"data-jj-helper-item-type":e.jjHelperItemType,list:e.list,comment:t,subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,expanded:!0,"enter-method":e.enterMethod,mode:"top"}})})),1)],1):e._e()}),[],!1,null,"15d09c92",null).exports,MoreIcon:_.a,HotIcon:f.a,TimeIcon:v.a},props:["subject","expanded","forbidInput","small","hasSort","hasHot","needLoginGuide","jjHelperItemId","jjHelperItemType","enterMethod"],setup:function(e){var t=Object(O.a)(e.subject.item_id),n=t.commentCount,r=t.setCommentCount,o=t.itemIdRef;return Object(l.y)((function(){return e.subject}),(function(){o.value=e.subject.item_id,r(e.subject.comment_count)})),{commentCount:n}},data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,listSize:0,sort:"new",hasLoadMore:!1}},computed:{sortData:function(){return{new:0,hot:1}[this.sort]||0}},watch:{"subject.item_id":{handler:function(e){e&&!this.$isServer&&this.fetchData()}},sortData:{handler:function(){this.$isServer||this.fetchData()}}},mounted:function(){this.fetchData()},methods:{setSort:function(e){this.$TEA("comment_switch",{switch:e}),this.sort=e},getMore:function(){var e=this;if(!this.expanded){var t=this.$router.resolve({name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id},hash:"#comment"}).href;window.open(t,"_blank")}if(this.expanded&&!this.hasLoadMore){this.hasLoadMore=!0,this.fetchMoreIfConditionIsSatisfied();var n=this.$getBean("eventBus");n.onVmLife(this,n.eventType.ROOT_CONTAINER_SCROLL,(function(){e.fetchMoreIfConditionIsSatisfied()})),Object(w.l)(this.$el,(function(){e.fetchMoreIfConditionIsSatisfied()}))}},fetchMore:function(){var e=this;if(!this.loading&&this.has_more){this.loading=!0;var t=this.subject,n=t.item_id,r=t.item_type;d.a.QueryItemComments({item_id:n,item_type:r,cursor:this.cursor,limit:this.limit,sort:this.sortData,client_type:C.e}).then((function(t){var data=t.data,cursor=t.cursor,r=t.count,o=t.has_more;e.listSize=data.length,e.loading=!1,e.mergeList(data),e.count=r,e.cursor=cursor,e.has_more=o,Object(O.c)(e.$getBean("eventBus"),n,r)})).catch((function(t){e.loading=!1,console.error(t)}))}},mergeList:function(e){var t,n=this.list.reduce((function(e,t){return e[t.comment_id]=!0,e}),{}),r=e.filter((function(e){return!n[e.comment_id]}));(t=this.list).push.apply(t,Object(c.a)(r))},fetchMoreIfConditionIsSatisfied:function(){Object(w.b)(this.$el)>-200&&this.fetchMore()},onSubmitted:function(){},onRefetch:function(){this.fetchData()},fetchData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,data,cursor,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.subject,r=n.item_id,o=n.item_type,!e.loading&&r){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,e.limit=e.expanded?20:5,e.cursor="0",e.count=0,e.has_more=!0,t.prev=8,t.next=11,d.a.QueryItemComments({item_id:r,item_type:o,cursor:e.cursor,limit:e.limit,sort:e.sortData,client_type:C.e});case 11:c=t.sent,data=c.data,cursor=c.cursor,l=c.count,h=c.has_more,e.listSize=data.length,e.loading=!1,e.list=data,e.count=l,e.cursor=cursor,e.has_more=h,Object(O.c)(e.$getBean("eventBus"),r,l),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(8),e.loading=!1,console.error(t.t0);case 29:case"end":return t.stop()}}),t,null,[[8,25]])})))()}}}),Te=(n(1775),Object(G.a)(xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container comment-list-box",class:e.small&&"small",attrs:{"data-jj-helper":"comment-container"}},[e.forbidInput?e._e():n("CommentForm",{attrs:{"comment-list":e.list,subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,small:e.small,"need-login-guide":e.needLoginGuide,title:"评论"},on:{submitted:e.onSubmitted}}),e._v(" "),e.hasHot?n("HotCommentList",{staticClass:"hot-list",attrs:{"enter-method":e.enterMethod,subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType}}):e._e(),e._v(" "),e.list.length?n("div",{staticClass:"comment-list-wrapper"},[n("div",{staticClass:"title"},[e._v("\n      全部评论 "+e._s(e.commentCount)+"\n      "),e.hasSort?n("div",{staticClass:"sort"},[n("div",{staticClass:"item",class:"new"===e.sort&&"active",on:{click:function(t){return e.setSort("new")}}},[n("TimeIcon"),e._v("\n          最新\n        ")],1),e._v(" "),n("div",{staticClass:"item",class:"hot"===e.sort&&"active",on:{click:function(t){return e.setSort("hot")}}},[n("HotIcon"),e._v("\n          最热\n        ")],1)]):e._e()]),e._v(" "),n("CommentList",{staticClass:"comment-list",attrs:{"enter-method":e.enterMethod,list:e.list,subject:e.subject,"jj-helper-item-id":e.jjHelperItemId,"jj-helper-item-type":e.jjHelperItemType,expanded:e.expanded,mode:e.sort},on:{refetch:e.onRefetch}}),e._v(" "),e.has_more?n("p",{staticClass:"fetch-more-comment",on:{click:e.getMore}},[e._v("\n      "+e._s(e.hasLoadMore?"加载中...":"查看全部 "+e.commentCount+" 条回复")+"\n      "),e.expanded&&!e.hasLoadMore?n("MoreIcon"):e._e()],1):e._e()],1):e._e()],1)}),[],!1,null,"e5ecc88a",null));t.a=Te.exports},2350:function(e,t,n){},2351:function(e,t,n){},2352:function(e,t,n){},2353:function(e,t,n){},2354:function(e,t,n){},2355:function(e,t,n){},2356:function(e,t,n){},2357:function(e,t,n){},2358:function(e,t,n){},2359:function(e,t,n){},3430:function(e,t,n){e.exports=n.p+"img/article-loading.fca922e.png"},3431:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("symbol",{attrs:{id:"icon-collect",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24287 18.3845C4.89724 18.5507 4.48229 18.4053 4.31605 18.0596C4.26029 17.9437 4.23783 17.8146 4.25117 17.6866L4.75725 12.8332C4.77762 12.6379 4.71431 12.443 4.583 12.297L1.29207 8.63594C1.03567 8.35071 1.05905 7.91164 1.34428 7.65524C1.43464 7.574 1.54475 7.5179 1.66358 7.49254L6.47789 6.46509C6.66998 6.42409 6.83572 6.30367 6.93407 6.13365L9.39894 1.87248C9.59098 1.54049 10.0158 1.42704 10.3478 1.61907C10.453 1.67992 10.5403 1.76729 10.6012 1.87248L13.0661 6.13365C13.1644 6.30367 13.3301 6.42409 13.5222 6.46509L18.3365 7.49254C18.7116 7.57259 18.9508 7.94155 18.8707 8.31664C18.8454 8.43547 18.7893 8.54557 18.708 8.63594L15.4171 12.297C15.2858 12.443 15.2225 12.6379 15.2429 12.8332L15.7489 17.6866C15.7887 18.0681 15.5117 18.4096 15.1303 18.4493C15.0023 18.4627 14.8732 18.4402 14.7572 18.3845L10.3011 16.2412C10.1108 16.1497 9.8893 16.1497 9.69906 16.2412L5.24287 18.3845Z"}})]),n("symbol",{attrs:{id:"icon-comment",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.62739 1.25C2.9347 1.25 1.5625 2.6222 1.5625 4.31489L1.56396 12.643C1.56403 14.3356 2.9362 15.7078 4.62885 15.7078H6.48326L6.93691 17.6869L6.93884 17.6948C7.16894 18.6441 8.28598 19.0599 9.08073 18.4921L12.7965 15.7078H15.5001C17.1928 15.7078 18.565 14.3355 18.565 12.6428L18.5635 4.31477C18.5635 2.62213 17.1913 1.25 15.4986 1.25H4.62739ZM5.98265 9.89255C6.68783 9.89255 7.2595 9.32089 7.2595 8.61571C7.2595 7.91053 6.68783 7.33887 5.98265 7.33887C5.27747 7.33887 4.70581 7.91053 4.70581 8.61571C4.70581 9.32089 5.27747 9.89255 5.98265 9.89255ZM9.95604 9.89255C10.6612 9.89255 11.2329 9.32089 11.2329 8.61571C11.2329 7.91053 10.6612 7.33887 9.95604 7.33887C9.25086 7.33887 8.6792 7.91053 8.6792 8.61571C8.6792 9.32089 9.25086 9.89255 9.95604 9.89255ZM15.2124 8.61571C15.2124 9.32089 14.6407 9.89255 13.9355 9.89255C13.2304 9.89255 12.6587 9.32089 12.6587 8.61571C12.6587 7.91053 13.2304 7.33887 13.9355 7.33887C14.6407 7.33887 15.2124 7.91053 15.2124 8.61571Z"}})]),n("symbol",{attrs:{id:"icon-zan",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.0651 3.25923C12.6654 2.21523 12.1276 1.60359 11.4633 1.40559C10.8071 1.21 10.2539 1.48626 9.97848 1.67918C9.43962 2.05668 9.17297 2.64897 9.0009 3.12662C8.93522 3.30893 8.87504 3.50032 8.82077 3.67291L8.82077 3.67292C8.80276 3.73019 8.78541 3.78539 8.76872 3.8375C8.6974 4.06017 8.63455 4.23905 8.56561 4.38315C8.07104 5.41687 7.64014 6.034 7.2617 6.43277C6.89154 6.8228 6.5498 7.0275 6.18413 7.21038C5.8887 7.35813 5.69369 7.66144 5.69365 8.00211L5.69237 17.3908C5.6923 17.8783 6.08754 18.2736 6.57511 18.2736H14.8382C15.2621 18.2736 15.5829 18.1393 15.8149 17.9421C15.9234 17.8497 15.9985 17.7554 16.0484 17.6856C16.0695 17.6561 16.088 17.6282 16.0983 17.6126L16.1017 17.6075L16.1033 17.6051L16.1194 17.5857L16.1428 17.5478C16.913 16.3019 17.4472 15.3088 17.8659 14.1183C18.3431 12.7613 18.5849 11.5853 18.6874 10.6685C18.7871 9.77617 18.7612 9.07318 18.6558 8.68779C18.5062 8.14118 18.138 7.82653 17.7668 7.66617C17.4231 7.51771 17.0763 7.49836 16.8785 7.49807L13.1134 7.44551C13.662 5.19751 13.31 3.89889 13.0651 3.25923ZM1.251 8.0848C1.22726 7.5815 1.62891 7.16046 2.13277 7.16046H3.4408C3.92832 7.16046 4.32354 7.55568 4.32354 8.04321V17.4303C4.32354 17.9178 3.92832 18.313 3.4408 18.313H2.57554C2.10419 18.313 1.71599 17.9427 1.69378 17.4718L1.251 8.0848Z"}})]),n("symbol",{attrs:{id:"icon-share",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4167 6.40399C5.35406 6.40399 1.25 10.5675 1.25 15.7035C1.25 16.0225 1.28448 16.4512 1.35344 16.9898C1.36807 17.1039 1.47243 17.1846 1.58655 17.17C1.6483 17.1621 1.70328 17.127 1.73643 17.0743L1.86865 16.8676C1.99553 16.6731 2.10644 16.5147 2.20137 16.3925C3.69554 14.4692 6.13777 13.3823 9.35515 13.3378L10.4167 13.3364V17.0757C10.4167 17.3101 10.6086 17.5 10.8453 17.5C10.959 17.5 11.068 17.4553 11.1483 17.3757L18.145 10.45C18.3961 10.2015 18.3961 9.79853 18.145 9.55L11.1483 2.62426C10.981 2.45858 10.7096 2.45858 10.5422 2.62426C10.4618 2.70383 10.4167 2.81174 10.4167 2.92426V6.40399Z"}})]),n("symbol",{attrs:{id:"icon-report",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.8389 1.89381C11.0873 2.03868 11.2939 2.24532 11.4388 2.49366L18.9369 15.0065C19.4007 15.8015 19.1322 16.8221 18.3371 17.2859C18.0822 17.4346 17.7924 17.5129 17.4973 17.5129H2.50041C1.57993 17.5129 0.83374 16.7667 0.83374 15.8462C0.83374 15.5512 0.912088 15.2614 1.06078 15.0065L8.5595 2.49366C9.0233 1.69857 10.0438 1.43001 10.8389 1.89381ZM10.3118 13.3459C10.6283 13.3459 10.8848 13.6025 10.8848 13.9189V14.4918C10.8848 14.8082 10.6283 15.0647 10.3118 15.0647H9.73893C9.42252 15.0647 9.16602 14.8082 9.16602 14.4918V13.9189C9.16602 13.6025 9.42252 13.3459 9.73893 13.3459H10.3118ZM10.8356 7.09513C10.8356 6.86502 10.6491 6.67847 10.419 6.67847H9.58512C9.35501 6.67847 9.16846 6.86502 9.16846 7.09513V12.0956C9.16846 12.3257 9.35501 12.5123 9.58512 12.5123H10.419C10.6491 12.5123 10.8356 12.3257 10.8356 12.0956V7.09513Z"}})]),n("symbol",{attrs:{id:"icon-immerse",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H4C4.41421 0.25 4.75 0.585786 4.75 1C4.75 1.41421 4.41421 1.75 4 1.75H1.75V4C1.75 4.41421 1.41421 4.75 1 4.75C0.585786 4.75 0.25 4.41421 0.25 4V1ZM0.25 19C0.25 19.4142 0.585786 19.75 1 19.75H4C4.41421 19.75 4.75 19.4142 4.75 19C4.75 18.5858 4.41421 18.25 4 18.25H1.75V16C1.75 15.5858 1.41421 15.25 1 15.25C0.585786 15.25 0.25 15.5858 0.25 16V19ZM19 0.25C19.4142 0.25 19.75 0.585786 19.75 1V4C19.75 4.41421 19.4142 4.75 19 4.75C18.5858 4.75 18.25 4.41421 18.25 4V1.75H16C15.5858 1.75 15.25 1.41421 15.25 1C15.25 0.585786 15.5858 0.25 16 0.25H19ZM19.75 19C19.75 19.4142 19.4142 19.75 19 19.75H16C15.5858 19.75 15.25 19.4142 15.25 19C15.25 18.5858 15.5858 18.25 16 18.25H18.25V16C18.25 15.5858 18.5858 15.25 19 15.25C19.4142 15.25 19.75 15.5858 19.75 16V19ZM7 5C5.89543 5 5 5.89543 5 7V13C5 14.1046 5.89543 15 7 15H13C14.1046 15 15 14.1046 15 13V7C15 5.89543 14.1046 5 13 5H7Z"}})]),n("symbol",{attrs:{id:"icon-wechat",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.5578 5.34061C12.0476 2.85722 8.90911 1.73257 6.11813 2.05358C4.56413 2.23231 3.0449 2.85861 1.88463 3.92471C1.00689 4.72863 0.354462 5.78486 0.109889 6.95889C-0.187864 8.37395 0.125815 9.85314 0.957723 11.0298C1.28982 11.4994 1.68479 11.9193 2.11951 12.2941C2.25136 12.4079 2.38694 12.5172 2.52543 12.6228C2.59301 12.6742 2.66115 12.7249 2.73011 12.7745C2.74195 12.7831 2.75392 12.7902 2.76512 12.7969C2.80389 12.8201 2.83351 12.8378 2.81653 12.8887L2.67458 13.3177C2.53986 13.7252 2.40492 14.1325 2.26998 14.5399C2.22084 14.6883 2.17169 14.8366 2.12256 14.985L2.61572 14.7368C2.85714 14.6151 3.09863 14.4935 3.34012 14.3719C3.58099 14.2507 3.82186 14.1294 4.06266 14.0081L4.40902 13.8337C4.42474 13.8257 4.44104 13.8164 4.45775 13.8069C4.51759 13.7728 4.58265 13.7356 4.64501 13.7481C4.76613 13.7723 4.88708 13.7972 5.00801 13.8221C5.08094 13.8372 5.15386 13.8522 5.22681 13.867C6.06287 14.0373 6.88508 14.1348 7.73859 14.0675C7.4486 13.0669 7.44915 12.0016 7.7559 11.0045C8.09853 9.88624 8.81438 8.89831 9.74448 8.19773C11.0171 7.23915 12.6431 6.81493 14.2212 6.99199C14.0895 6.4081 13.8688 5.85148 13.5578 5.34061ZM4.77922 5.02147C4.28094 5.02147 3.71299 5.35514 3.71299 5.90829C3.71299 6.46088 4.28066 6.79844 4.77922 6.79844C5.29233 6.79844 5.66293 6.42291 5.66293 5.90829C5.66293 5.39311 5.29205 5.02147 4.77922 5.02147ZM10.6158 5.90829C10.6158 6.42444 10.2434 6.79844 9.7296 6.79844C9.23076 6.79844 8.66641 6.46032 8.66641 5.90829C8.66641 5.3557 9.23104 5.02147 9.7296 5.02147C10.2431 5.02147 10.6158 5.39158 10.6158 5.90829ZM17.7911 8.53846C15.3552 6.80489 11.734 6.93368 9.53048 9.01108C8.77779 9.72181 8.22909 10.6485 8.04061 11.6744C7.78288 13.0799 8.22536 14.5441 9.17304 15.605C10.0674 16.6063 11.2889 17.2564 12.5986 17.5166C13.4216 17.6806 14.2559 17.6931 15.0799 17.5344C15.2863 17.4948 15.4911 17.4481 15.6954 17.3986C15.7826 17.3774 15.8697 17.3559 15.9568 17.334C15.9655 17.3319 15.9784 17.3272 15.9934 17.3219C16.0359 17.3068 16.0949 17.2858 16.118 17.2984C16.2476 17.3695 16.3771 17.4408 16.5066 17.5122L17.0557 17.8142L17.0577 17.8153L17.0598 17.8164C17.3912 17.9986 17.7227 18.1809 18.054 18.3634C17.9748 18.0977 17.895 17.832 17.8153 17.5664L17.8146 17.5641L17.6749 17.0981L17.5814 16.7863L17.5332 16.6257C17.5159 16.5675 17.5927 16.5183 17.6556 16.4779C17.6753 16.4653 17.6937 16.4535 17.7073 16.4426C18.0608 16.1622 18.3952 15.8558 18.6963 15.5191C19.1832 14.9747 19.5895 14.3498 19.8161 13.6505C20.0122 13.039 20.0488 12.392 19.9377 11.7604C19.7098 10.438 18.8643 9.30511 17.7911 8.53846ZM15.2396 11.0049C15.1595 10.6088 15.5334 10.1787 15.931 10.1787C16.3063 10.1787 16.7409 10.3931 16.8096 10.7989C16.8724 11.1695 16.556 11.4696 16.227 11.5617C15.8032 11.6802 15.3326 11.4649 15.2396 11.0049ZM12.0348 10.1787C11.6369 10.1787 11.2573 10.6064 11.3385 11.0049C11.4325 11.4667 11.9081 11.68 12.3327 11.5617C12.6626 11.4696 12.9753 11.1695 12.9134 10.7989C12.8453 10.3914 12.4112 10.1787 12.0348 10.1787Z"}})]),n("symbol",{attrs:{id:"icon-weibo",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M-0.000244141 13.0984C-0.000244141 8.70757 6.6145 3.5004 9.18008 4.57052C10.1717 4.98415 9.97381 6.1693 9.85415 6.88576C9.8069 7.16863 9.77186 7.37844 9.82705 7.43887C9.92921 7.55074 10.2955 7.42054 10.7994 7.2414C11.8362 6.87286 13.4557 6.2972 14.5566 7.19617C15.2665 7.77576 14.9657 8.72382 14.7905 9.27603C14.7289 9.4701 14.6829 9.61528 14.7017 9.6784C14.741 9.81053 14.9858 9.91133 15.317 10.0477C15.926 10.2984 16.8269 10.6692 17.2784 11.5759C18.3716 13.7713 15.2036 18.2504 8.62234 18.2504C3.25024 18.2504 -0.000244141 15.6688 -0.000244141 13.0984ZM8.45309 17.057C11.7733 16.7393 14.2944 14.7397 14.0842 12.5908C13.874 10.4418 11.012 8.95732 7.69179 9.27503C4.37159 9.59274 1.85045 11.5924 2.06068 13.7413C2.2709 15.8902 5.13288 17.3747 8.45309 17.057Z"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.7098 12.7012C11.1162 14.1374 10.0604 15.6852 8.35157 16.1581C6.64275 16.6311 4.92801 15.8502 4.5216 14.4139C4.11518 12.9777 5.171 11.4299 6.87982 10.957C8.58865 10.484 10.3034 11.2649 10.7098 12.7012ZM7.67026 13.6265C7.89619 14.1072 7.61751 14.7092 7.04779 14.9711C6.47808 15.2331 5.83308 15.0558 5.60715 14.5751C5.38122 14.0945 5.6599 13.4925 6.22962 13.2306C6.79933 12.9686 7.44433 13.1459 7.67026 13.6265ZM8.41746 13.3766C8.63945 13.2745 8.74804 13.0399 8.66001 12.8526C8.57197 12.6654 8.32065 12.5963 8.09866 12.6984C7.87667 12.8004 7.76808 13.035 7.85612 13.2223C7.94415 13.4095 8.19547 13.4786 8.41746 13.3766Z"}}),n("path",{attrs:{d:"M13.648 3.54836C13.9523 3.47388 14.2712 3.43418 14.6004 3.43418C16.7813 3.43418 18.5492 5.18267 18.5492 7.33955C18.5492 7.81593 18.4633 8.27085 18.3066 8.69104C18.168 9.06261 18.3602 9.47493 18.7359 9.61199C19.1116 9.74904 19.5285 9.55894 19.6671 9.18737C19.8822 8.61063 19.9993 7.98781 19.9993 7.33955C19.9993 4.3906 17.5822 2 14.6004 2C14.1528 2 13.717 2.05403 13.2996 2.15619C12.9109 2.25133 12.6738 2.64011 12.77 3.02455C12.8662 3.40899 13.2593 3.6435 13.648 3.54836Z"}}),n("path",{attrs:{d:"M14.2887 6.05162C14.388 6.02824 14.4923 6.01569 14.6004 6.01569C15.3397 6.01569 15.939 6.6084 15.939 7.33955C15.939 7.49914 15.9108 7.65062 15.8596 7.7904C15.7232 8.16277 15.9179 8.57396 16.2944 8.70881C16.6709 8.84366 17.0867 8.65112 17.2231 8.27875C17.3307 7.98466 17.3891 7.66805 17.3891 7.33955C17.3891 5.81633 16.1406 4.58152 14.6004 4.58152C14.3784 4.58152 14.1614 4.60734 13.9529 4.65643C13.5633 4.74813 13.3227 5.1348 13.4154 5.52008C13.5082 5.90535 13.8991 6.14333 14.2887 6.05162Z"}})]),n("symbol",{attrs:{id:"icon-qq",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M11.8841 17.1943C11.1815 17.1943 10.5625 17.2136 10.0541 17.26C9.44625 17.2112 8.8365 17.1898 8.22671 17.1956C6.20498 17.1956 4.40588 17.9613 4.40588 18.5263C4.40588 19.0681 5.89998 19.0076 7.91657 18.987C8.64426 18.985 9.3699 18.9096 10.0824 18.7618C10.6796 18.8879 11.4079 18.9677 12.193 18.9741C14.2095 18.9947 15.7024 19.0552 15.7024 18.5173C15.7024 17.9549 13.9045 17.1943 11.8841 17.1943V17.1943Z"}}),n("path",{attrs:{d:"M16.9138 11.6311C16.5346 10.6112 16.1212 9.60428 15.6745 8.61206C15.6951 8.37141 15.7054 8.12818 15.7054 7.8811C15.7054 4.08086 13.7622 1 10.0649 1C6.36759 1 4.42307 4.08086 4.42307 7.8811C4.42307 8.11274 4.43208 8.34052 4.45138 8.56573C3.99804 9.5756 3.57913 10.6006 3.19536 11.6389C2.41678 13.7494 2.38203 15.6566 2.65357 15.7982C2.84661 15.8985 3.54797 15.1611 4.21845 13.9669C4.66115 16.7801 6.53102 18.8842 10.0649 18.8842C13.5871 18.8842 15.457 16.7916 15.9074 13.99C16.5728 15.1611 17.2664 15.8818 17.4569 15.7814C17.7284 15.6399 17.6937 13.7365 16.9138 11.6311V11.6311Z"}}),n("path",{attrs:{d:"M8.5542 3.2522C8.00598 3.26507 7.57358 3.90981 7.58902 4.69739C7.60447 5.48369 8.06132 6.11299 8.60954 6.1027C9.15776 6.0924 9.59016 5.44637 9.57472 4.65879C9.56056 3.87249 9.10243 3.24319 8.5542 3.25348V3.2522ZM11.5862 3.26764C11.0315 3.25734 10.5695 3.88278 10.5541 4.66651C10.5386 5.44895 10.9749 6.0924 11.5308 6.1027C12.0842 6.11299 12.5475 5.48755 12.5629 4.70512C12.5784 3.92139 12.1408 3.27794 11.5862 3.26764V3.26764Z"}}),n("path",{attrs:{d:"M13.6704 9.57861C12.5971 9.76521 11.354 9.87074 10.0285 9.87074C8.7287 9.87074 7.50742 9.76779 6.44959 9.58762C5.71605 10.4962 5.65942 11.8307 5.65942 13.3184C5.65942 16.0505 7.20371 18.2665 10.0645 18.2665C12.924 18.2665 14.4696 16.0505 14.4696 13.3184C14.4696 11.8243 14.4104 10.4859 13.6704 9.57861V9.57861Z"}}),n("path",{attrs:{d:"M10.0628 6.56616C8.14273 6.56616 6.58557 6.95223 6.58557 7.26238C6.58557 7.57124 8.62146 8.42188 10.0641 8.42188C11.5054 8.42188 13.5413 7.55065 13.5413 7.26238C13.5413 6.97411 11.9842 6.56745 10.0641 6.56745L10.0628 6.56616Z"}}),n("path",{attrs:{d:"M15.6744 8.6121L15.6757 8.59151C14.264 9.05866 12.2718 9.35078 10.0648 9.35078C7.8513 9.35078 5.85402 9.05737 4.441 8.58765C4.14115 9.25684 3.85546 9.93375 3.58521 10.6171C4.45644 10.9054 5.43192 11.1357 6.48332 11.2992V13.8858C6.48332 13.8858 7.22715 14.0235 7.92981 14.0531C8.42784 14.0737 8.95676 13.9888 8.95676 13.9888V11.5398C9.32095 11.5565 9.6903 11.5656 10.0635 11.5656C12.4919 11.5656 14.7311 11.2142 16.5251 10.6222C16.2566 9.94593 15.9729 9.27571 15.6744 8.6121V8.6121Z"}}),n("path",{attrs:{d:"M8.87981 4.24829C8.63787 4.24829 8.44226 4.53656 8.44226 4.89174C8.44226 5.24693 8.63787 5.5352 8.87981 5.5352C9.12046 5.5352 9.31736 5.24693 9.31736 4.89174C9.31736 4.53656 9.12046 4.24829 8.87981 4.24829V4.24829ZM12.0997 4.65624C12.0997 4.65624 11.9246 4.41816 11.4819 4.48122C11.0444 4.54428 10.8745 4.83126 10.8423 4.86215C10.8423 4.86215 10.7381 5.0243 10.8115 5.12467C10.8848 5.22505 11.0174 5.06676 11.0174 5.06676C11.0174 5.06676 11.2194 4.78364 11.4806 4.77335C11.6273 4.76349 11.7729 4.80489 11.8925 4.89046C11.8925 4.89046 12.0211 4.99856 12.0984 4.89046C12.1769 4.78364 12.0997 4.65624 12.0997 4.65624V4.65624Z"}})])]))}}},3432:function(e,t,n){"use strict";n(2350)},3433:function(e,t,n){"use strict";n(2351)},3434:function(e,t,n){"use strict";n(2352)},3435:function(e,t,n){"use strict";n(2353)},3436:function(e,t,n){"use strict";n(2354)},3437:function(e,t,n){var r=n(461),o=n(462)((function(object,source,e){r(object,source,e)}));e.exports=o},3438:function(e,t,n){"use strict";n(2355)},3439:function(e,t,n){"use strict";n(2356)},3440:function(e,t,n){"use strict";n(2357)},3441:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y}));n(43),n(22),n(39),n(46);var r=n(4),o=n(1307),c=n(1776),l=n(1625),d=n(31),h=n(1777),f=n(1603);function m(e,t,n){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(n,r,m){var v,y,_,C,w,O,j,V,k,article,x,T,L,P,S,I,E,A;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k=n.params.id,article=n.store.state.view.column.entry.article_info||{},x={},T=null===(_=null===(y=null===(v=n.store.state)||void 0===v?void 0:v.auth)||void 0===y?void 0:y.user)||void 0===_?void 0:_.user_id,L=T&&T===(null==article?void 0:article.user_id),"rejected"===r.status?n.req.logger.error("error get cached html",r.reason):L?n.req.logger.info("current user is author, do not use cached html"):x=r.value,P=!1,S=n.req.measureWithMetrics({stage:"ssr",path:(null===(C=n.req.originalUrl)||void 0===C?void 0:C.replace(/\//g,"_"))||"-",webp:String(m),timing_key:"4"}),x.resultHtml||!(null==article?void 0:article.mark_content)){t.next=23;break}return t.prev=9,I=x.refreshCache?15e3:(null===(O=null===(w=n.req.articleSSRConfig)||void 0===w?void 0:w.timeConsumingThreshold)||void 0===O?void 0:O.articleRender)||5e3,t.next=13,c.a.renderMd2Html({markdown:article.mark_content,plugins:Object(h.a)(),timeout:I,callerId:"toutiao.fe.xitu_juejin_cn_web",cacheOption:{enabled:!L&&!x.doNotUseCache,refreshCache:x.refreshCache,customRedisKey:Object(f.c)(k,null===(j=n.req.articleSSRConfig)||void 0===j?void 0:j.articleVersion),updateExpireTime:!0,expiresTime:f.a}},{ssrOptions:{$request:n.$request,req:n.req,options:{timeout:Math.max(3e3,I+1e3)}}});case 13:(E=t.sent).err_no===o.a.OK&&E.data?(x.resultHtml=E.data,x.hitCache=E.hit_cache):(P=!0,E.err_no===o.a.SERVER_TIMEOUT&&n.req.metrics.emitTimer("post.ssr.consuming_article.us",(null===(V=n.req.articleSSRConfig)||void 0===V?void 0:V.timeConsumingThreshold.articleRender)||5e3,"toutiao.fe.xitu_juejin_cn_web",{id:k,cluster_id:e.env.TCE_CLUSTER_ID||"-"})),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(9),P=!0,n.req.logger.error("error renderMd2Html err:",t.t0);case 21:t.next=24;break;case 23:x.resultHtml&&(x.hitCache=!0);case 24:return"view/column/UPDATE_STATE",n.store.commit("view/column/UPDATE_STATE",{resultHtml:x.resultHtml,hitArticleCache:x.hitCache}),A="unknown",P?A="csr":x.resultHtml?A=x.hitCache?"cache":"markdown":(null==article?void 0:article.content)&&(A="html",x.originHtml=article.content),Object.assign(x,{skipSSR:P,articleInfo:{id:k,title:null==article?void 0:article.title,created_at:Object(d.c)(article.ctime||0,"YYYYMMDD"),updated_at:Object(d.c)(article.mtime||0,"YYYYMMDD")},renderFrom:A,measureSsr:S,injectServerTiming:Object(l.a)()}),t.abrupt("return",x);case 30:case"end":return t.stop()}}),t,null,[[9,17]])})))).apply(this,arguments)}function y(e,t){var n,r=null!==(n=e.req.articleSSRConfig)&&void 0!==n?n:{},o=r.renderPolicy,c=void 0===o?"SSR":o,l=r.timeConsumingArticles;return"CSR"===c||("SSR_SEO"===c&&!t||(void 0===l?[]:l).includes(e.params.id))}}).call(this,n(191))},3442:function(e,t,n){"use strict";n(2358)},3443:function(e,t,n){"use strict";n(2359)},4330:function(e,t,n){"use strict";n.r(t);n(19),n(17),n(38),n(39),n(46),n(26),n(27);var r=n(51),o=(n(14),n(16),n(308),n(43),n(7),n(42)),c=(n(22),n(4)),l=n(0),d=n(319),h=n(5),f=n(73),m=n(307),v=n.n(m),y=n(89),_=n(8),C=n(82),w=n(101),content=n(896),O=n(1108),j=n.n(O),V=n(246),k=n(240),x=n(3431),T=n.n(x),L=n(9),P=Object(L.d)({props:{visible:{type:Boolean,default:function(){return!1}},title:{type:String,default:function(){return""}}},emits:["close","openCollections"],setup:function(e,t){var n=t.emit,r=Object(L.r)();return Object(L.x)((function(){return e.visible}),(function(e){e&&(r.value=setTimeout((function(){n("close")}),3e3))})),Object(L.m)((function(){clearTimeout(r.value)})),{openCollections:function(){clearTimeout(r.value),n("openCollections")}}}}),S=(n(3432),n(29)),I=Object(S.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collect-popover",class:{"popover-show":e.visible},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[n("div",{staticClass:"title"},[e._v("收藏成功！")]),e._v(" "),n("div",{staticClass:"sub-title"},[e._v("\n    已添加到「"+e._s(e.title)+"」，\n    "),n("span",{staticClass:"modify-btn",on:{click:function(t){return t.stopPropagation(),e.openCollections(t)}}},[e._v("点击更改")])])])}),[],!1,null,"d0b73df6",null).exports,E=n(1353),A=n(1441),D=n(938),M=n(18),R=n(165),B=n(23),$=n(332),F=n(3),H=n(44),U=n(871),N=n(890),Z=n(56),W=n(306),J=n(872),z=n(1006),G=Object(L.d)({props:{icon:{type:String,required:!0}}}),K=(n(3433),Object(S.a)(G,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{staticClass:"sprite-icon",class:this.icon},[t("use",{attrs:{"xlink:href":"#"+this.icon}})])}),[],!1,null,"0f838daa",null).exports);function Y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function X(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Y(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Q=Object(h.b)({components:{BTooltip:f.Tooltip,CollectPopupList:E.a,CollectPopover:I,SvgSprites:T.a,SpriteIcon:K},inject:["getRecommendScoreInfo","getFromPage"],model:{prop:"immerse",event:"update:immerse"},props:{entry:{type:Object,default:function(){return{}},require:!0},fromPage:{type:String,default:""},immerse:{type:Boolean},showReport:{type:Boolean,default:!0},needCollectGuide:{type:Boolean}},emits:["report"],setup:function(e,t){var n,r=t.root,o=t.emit,l=Object(J.a)(e.entry.article_id),d=l.commentCount,f=l.setCommentCount,m=Object(h.v)();function v(){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,C(B.a.Report,0),t.next=4,r.$ensureAuthorized("login");case 4:o("report"),(n=r.$getBean("eventBus")).emit(n.eventType.REPORT_CONTENT,e.entry.article_id,_.IdType.ArticleIdType),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.warn("error open report popup err:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function C(e,t){var n=Object(D.b)();r.$TEA("search_detail_action",X(X({},n),{},{action_type:e,action_value:t>0?t:void 0}))}return f(null!==(n=e.entry.commentsCount)&&void 0!==n?n:e.entry.comment_count),Object($.a)((function(){"report"===m.value.query.action&&v()})),X(X({},Object(A.a)()),{},{commentCount:d,openReport:v})},data:function(){return{likeLock:Object(U.a)(),wechatQrCodeUrl:"",isCollectPopupVisible:!1,isImmerseMode:!1,collectPopoverVisible:!1,collectionName:"",isCollectGuideVisible:!1,collectTimer:null,collectCloseTimer:null}},computed:{currentUser:function(){var e;return(null===(e=this.$store.state.auth)||void 0===e?void 0:e.user)||{}}},watch:{needCollectGuide:function(e){e&&!this.collectTimer&&this.startCollectGuide()}},mounted:function(){this.needCollectGuide&&this.startCollectGuide()},beforeDestroy:function(){this.needCollectGuide&&document.removeEventListener("click",this.hideCollectPopover),this.collectTimer&&clearTimeout(this.collectTimer),this.collectCloseTimer&&clearTimeout(this.collectCloseTimer)},methods:{startCollectGuide:function(){var e=this;localStorage.getItem(M.a.isShowCollectGuide)||(document.addEventListener("click",this.hideCollectPopover),this.collectTimer=setTimeout((function(){e.isCollectGuideVisible=!0,localStorage.setItem(M.a.isShowCollectGuide,"true"),e.$TEA("login_guide_show",{from:z.a.collect,type:z.b.auto}),e.collectCloseTimer=setTimeout((function(){e.isCollectGuideVisible=!1}),3e3)}),75e3))},toggleImmerse:function(){var e=!this.immerse;e&&this.$TEA("immerse_click"),this.$emit("update:immerse",e)},searchAction:function(e,t){var n=Object(D.b)();this.$TEA("search_detail_action",X(X({},n),{},{action_type:e,action_value:t>0?t:void 0}))},toggleLikeLock:function(){var e=this,t=this.entry.liked?this.entry.likedCount-1:this.entry.likedCount+1;this.searchAction(B.a.Digg,t),this.likeLock.do((function(){return e.$ensureAuthorized().then((function(){return e.$ensureBindPhone({bindLabel:R.b.interact})})).then((function(){e.$store.dispatch(F.TOGGLE_LIKE_ENTRY,e.entry).then((function(){var t,n,r,o,c,l,d,h,f,m,v;e.$TEA("item_like_click",X(X({event_page:Z.a.articleDetail,req_id:null===(t=e.entry)||void 0===t?void 0:t.req_id,boost_type:null===(r=null===(n=e.entry)||void 0===n?void 0:n.extra)||void 0===r?void 0:r.boost_type,category_id:null===(c=null===(o=e.entry)||void 0===o?void 0:o.category)||void 0===c?void 0:c.category_id,from_page:Object(Z.b)(e.fromPage),from_page_type:Object(Z.c)(),item_id:null===(l=e.entry)||void 0===l?void 0:l.article_id,item_type:2,item_author_id:null===(h=null===(d=e.entry)||void 0===d?void 0:d.author_user_info)||void 0===h?void 0:h.user_id,from_item_id:null===(f=e.entry)||void 0===f?void 0:f.article_id,from_item_type:2,action:(null===(m=e.entry)||void 0===m?void 0:m.liked)?1:2},Object(W.c)(e.entry)),null===(v=e.getRecommendScoreInfo)||void 0===v?void 0:v.call(e)))})).catch((function(t){e.$error("操作失败, 请稍后重试"),console.error(t)}))})).catch((function(e){console.warn("error click like err:",e)}))}))},onCollectBtnClick:function(){var e,t,n,r,o,c,l=this;this.isCollectGuideVisible&&(this.$TEA("login_guide_click",{from:z.a.collect}),this.hideCollectPopover());var d=(null===(e=this.entry)||void 0===e?void 0:e.article_id)||"",h=X({item_id:d,category_id:null===(n=null===(t=this.entry)||void 0===t?void 0:t.category)||void 0===n?void 0:n.category_id,item_author_id:null===(o=null===(r=this.entry)||void 0===r?void 0:r.author_user_info)||void 0===o?void 0:o.user_id,enter_from:"more",from_page:Object(Z.b)(this.fromPage)},null===(c=this.getRecommendScoreInfo)||void 0===c?void 0:c.call(this));this.$TEA("collection_click",h);var m=this.entry.collected?this.entry.collectionCount-1:this.entry.collectionCount+1;this.searchAction(B.a.Collect,m),this.$ensureAuthorized("login").then((function(){var e,t,n;if(l.entry.collected)(null===(e=l.entry.user_interact)||void 0===e?void 0:e.collect_set_count)>1?l.isCollectPopupVisible=!0:(l.$TEA("collection_list_save",X({item_id:l.entry.article_id,category_id:l.entry.category_id,item_author_id:l.entry.author_user_id,collection_list_ids:"",action:"0",from_page:Object(Z.b)(l.fromPage)},null===(t=l.getRecommendScoreInfo)||void 0===t?void 0:t.call(l))),k.a.DeleteArticleFromCollection({article_id:d}).then((function(e){(null==e?void 0:e.err_no)===_.ERROR_NO.OK&&(f.Message.success("取消收藏"),l.handleCollect(!1))})));else{if(l.currentUser.is_collect_fast){var r=X({item_id:l.entry.article_id,category_id:l.entry.category_id,item_author_id:l.entry.author_user_id,collection_list_ids:"",action:"1",from_page:Object(Z.b)(l.fromPage)},null===(n=l.getRecommendScoreInfo)||void 0===n?void 0:n.call(l));return l.$TEA("collection_list_save",r),void k.a.AddArticleToCollection({article_id:d,is_collect_fast:!0}).then((function(e){(null==e?void 0:e.err_no)===_.ERROR_NO.OK&&(l.collectionName=e.data,l.collectPopoverVisible=!0,l.handleCollect(!0))})).catch((function(e){f.Message.error(null==e?void 0:e.message)}))}l.isCollectPopupVisible=!l.isCollectPopupVisible}})).catch((function(e){return console.warn("error login err:",e)}))},scrollToComment:function(){var e=document.getElementById("comment-box");window.location.hash="#comment",e&&window.setTimeout((function(){return Object(H.t)(e,-80)}))},shareClickTea:function(){var e,t,n,r,o;this.$TEA("item_detail_share",X(X({event_page:Z.a.articleDetail,req_id:null===(e=this.entry)||void 0===e?void 0:e.req_id,from_page:Object(Z.b)(this.fromPage),from_page_type:Object(Z.c)(),item_id:null===(t=this.entry)||void 0===t?void 0:t.article_id,item_type:2,item_author_id:null===(r=null===(n=this.entry)||void 0===n?void 0:n.author_user_info)||void 0===r?void 0:r.user_id},Object(W.c)(this.entry)),null===(o=this.getRecommendScoreInfo)||void 0===o?void 0:o.call(this)))},shareToWeibo:function(){this.shareClickTea(),this.$getBean("shareBusiness").shareEntryToWeibo(this.entry)},shareToQQ:function(){this.shareClickTea(),this.$getBean("shareBusiness").shareEntryToQQ(this.entry)},generateWechatQrCode:function(){var e=this,time=setTimeout(this.shareClickTea.bind(this),300);if(this.$refs.wechatShare.addEventListener("mouseleave",(function t(){clearTimeout(time),e.$refs.wechatShare.removeEventListener("mouseleave",t)})),!this.wechatQrCodeUrl){var t=this.entry,n=t.id,r=t.type,o=window.location.origin,c="".concat(o,"/").concat(r,"/").concat(n);this.wechatQrCodeUrl=Object(N.a)(c)}},handleCollect:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r={collected:t};this.entry.collected!==t&&(r.collectionCount=t?this.entry.collectionCount+1:this.entry.collectionCount-1);var o=(null===(e=this.entry)||void 0===e?void 0:e.user_interact)||{};n&&(o.collect_set_count=n.collectSetCount),this.$store.commit("view/column/UPDATE_STATE",{entry:X(X({},this.entry),{},{user_interact:X({},o)},r)})},onCollectSuccess:function(e,t){var n=this;this.isCollectPopupVisible=!1,this.handleCollect(!!t.length,{collectSetCount:t.length}),t.map((function(e){var t,r=X({item_id:n.entry.article_id,category_id:n.entry.category_id,item_author_id:n.entry.author_user_id,collection_list_ids:e,action:"1",from_page:Object(Z.b)(n.fromPage)},null===(t=n.getRecommendScoreInfo)||void 0===t?void 0:t.call(n));n.$TEA("collection_list_save",r)}))},openCollections:function(){this.collectPopoverVisible=!1,this.isCollectPopupVisible=!0},closePopoverModal:function(){this.collectPopoverVisible=!1},hideCollectPopover:function(){this.isCollectGuideVisible=!1}}}),ee=(n(3434),Object(S.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ClientOnly",[n("div",{staticClass:"article-suspended-panel",class:{"dynamic-data-ready":e.dynamicDataReady}},[n("SvgSprites",{staticStyle:{display:"none"}}),e._v(" "),e.immerse?e._e():[n("div",{staticClass:"panel-btn",class:{active:e.entry.liked,"with-badge":e.entry.likedCount},attrs:{badge:e.entry.likedCount},on:{click:e.toggleLikeLock}},[n("SpriteIcon",{attrs:{icon:"icon-zan"}})],1),e._v(" "),n("div",{staticClass:"panel-btn",class:{"with-badge":e.commentCount},attrs:{badge:e.commentCount},on:{click:e.scrollToComment}},[n("SpriteIcon",{attrs:{icon:"icon-comment"}})],1),e._v(" "),n("div",{staticClass:"panel-btn",class:{active:e.entry.collected,"with-badge":e.entry.collectionCount},attrs:{badge:e.entry.collectionCount},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.onCollectBtnClick(t)}}},[n("SpriteIcon",{attrs:{icon:"icon-collect"}}),e._v(" "),n("CollectPopover",{attrs:{visible:e.collectPopoverVisible,title:e.collectionName},on:{close:e.closePopoverModal,openCollections:e.openCollections}}),e._v(" "),n("CollectPopupList",{attrs:{visible:e.isCollectPopupVisible,"article-id":e.entry&&e.entry.article_id||"","is-edit":e.entry.collected,"is-empty-allowed":!!e.entry.collected,"hide-success-message":e.entry.collected},on:{close:function(t){e.isCollectPopupVisible=!1},success:e.onCollectSuccess}}),e._v(" "),e.isCollectGuideVisible?n("div",{staticClass:"guide-collect-popover",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"guide-collect-popover-title"},[e._v("觉得还不错？")]),e._v(" "),n("div",{staticClass:"guide-collect-popover-content"},[n("div",{staticClass:"guide-collect-popover-button",on:{click:e.onCollectBtnClick}},[e._v("\n              一键收藏\n            ")]),e._v(" "),n("div",{staticClass:"guide-collect-popover-text"},[e._v("以便后续温习～")])]),e._v(" "),n("div",{staticClass:"guide-collect-popover-close",on:{click:e.hideCollectPopover}})]):e._e()],1),e._v(" "),n("div",{staticClass:"share-btn panel-btn"},[n("SpriteIcon",{attrs:{icon:"icon-share"}}),e._v(" "),n("div",{staticClass:"share-popup"},[n("ul",[n("li",{ref:"wechatShare",staticClass:"share-item wechat",on:{mouseenter:e.generateWechatQrCode}},[n("SpriteIcon",{staticClass:"share-icon",attrs:{icon:"icon-wechat"}}),e._v(" "),n("span",{staticClass:"share-item-title"},[e._v("微信")]),e._v(" "),n("div",{staticClass:"wechat-qrcode"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.wechatQrCodeUrl,expression:"wechatQrCodeUrl"}],staticClass:"wechat-qrcode-img",attrs:{src:e.wechatQrCodeUrl}}),e._v(" "),n("span",{staticClass:"wechat-qrcode-title"},[e._v("微信扫码分享")])])],1),e._v(" "),n("li",{staticClass:"share-item weibo",on:{click:e.shareToWeibo}},[n("SpriteIcon",{staticClass:"share-icon",attrs:{icon:"icon-weibo"}}),e._v(" "),n("span",{staticClass:"share-item-title"},[e._v("新浪微博")])],1),e._v(" "),n("li",{staticClass:"share-item qq",on:{click:e.shareToQQ}},[n("SpriteIcon",{staticClass:"share-icon",attrs:{icon:"icon-qq"}}),e._v(" "),n("span",{staticClass:"share-item-title"},[e._v("QQ")])],1)])])],1),e._v(" "),n("div",{staticClass:"divider"}),e._v(" "),e.showReport?n("div",{staticClass:"panel-btn",on:{click:e.openReport}},[n("SpriteIcon",{attrs:{icon:"icon-report"}})],1):e._e()],e._v(" "),n("BTooltip",{staticClass:"tooltip",attrs:{content:e.immerse?"退出沉浸":"沉浸阅读"}},[n("div",{staticClass:"panel-btn",class:{active:e.immerse},on:{click:e.toggleImmerse}},[n("SpriteIcon",{attrs:{icon:"icon-immerse"}})],1)])],2)])}),[],!1,null,"f836245c",null).exports),te=n(941),ne=n(1963),re=(n(48),n(65),n(105)),ie=n(1289),oe=n(25),se=n(1075),ae=n(1199),ce=n(1034),le=n(74),ue=n(1335);function de(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function he(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?de(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):de(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var pe=Object(h.b)({components:{BookThumb:se.a,SaleTooltip:ae.a},props:{info:{type:Object,required:!0,default:function(){return{}}},isBuy:{type:Boolean,default:!1},discount:{type:Object,default:void 0},author:{type:Object,required:!0,default:function(){return{}}},readingProgress:{type:Object,default:function(){return{}}},teaData:{type:Object,default:function(){return{}}}},computed:{isBorrowing:function(){var e,t;return(null===(e=this.readingProgress)||void 0===e?void 0:e.borrow_times)>0&&(new Date).getTime()/1e3<(null===(t=this.readingProgress)||void 0===t?void 0:t.valid_end_time)},isWap:function(){return this.$device.isMobile}},methods:{formatSalePrice:ce.d,handleTeaData:function(){var e,t,n,r=(null===(e=this.readingProgress)||void 0===e?void 0:e.borrow_times)>0?"finish":"never";return he(he({},this.teaData),{},{book_discount:null!==(n=null===(t=this.discount)||void 0===t?void 0:t.discount_rate)&&void 0!==n?n:null,book_price:this.info.price,platform:this.$device.isMobile?"h5":"web",book_id:this.info.booklet_id,author_id:this.author.user_id,book_category:this.info.category_id,is_purchased:this.isBuy?1:0,rent_status:this.isBorrowing?"underway":r},Object(ue.a)(this.discount))},clickBook:function(){Object(le.g)("article_detail_book_click",this.handleTeaData());var e=this.$router.resolve({name:"bookInfo",params:{id:this.info.booklet_id},query:{utm_source:"web_article",enter_from:"article_detail"}});window.open(e.href,"_blank")},onVisibleChange:function(e){e&&Object(le.g)("article_detail_book_display",this.handleTeaData())}}}),fe=(n(3435),Object(S.a)(pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"visible-change",rawName:"v-visible-change",value:e.onVisibleChange,expression:"onVisibleChange"}],staticClass:"book-card-wrap",attrs:{"data-booklet-id":e.info.booklet_id},on:{click:e.clickBook}},[n("BookThumb",{staticClass:"book-card-cover",attrs:{book:{base_info:e.info}}}),e._v(" "),n("div",{staticClass:"book-card-info"},[n("div",{staticClass:"book-card-top"},[n("div",{staticClass:"book-card-title",attrs:{title:e.info.title}},[e.info.can_vip_borrow?n("div",{staticClass:"book-card-vip"},[e._v("VIP")]):e._e(),e._v(" "),n("span",{staticClass:"book-card-title-text"},[e._v(e._s(e.info.title))])]),e._v(" "),n("div",{staticClass:"book-card-content"},[n("username",{staticClass:"author-name",attrs:{user:e.author,"show-jpower-level":!0}}),e._v(" "),n("div",{staticClass:"book-card-count"},[e._v("\n          "+e._s(e.info.buy_count>=0?e.info.buy_count:0)+"购买\n        ")])],1)]),e._v(" "),n("div",{staticClass:"book-card-price-wrap"},[n("div",{staticClass:"book-card-price"},[e._v("\n        ¥"+e._s(e.formatSalePrice(e.discount.pay_money))+"\n      ")]),e._v(" "),e.discount.pay_money!==e.discount.price?n("div",{staticClass:"book-card-sale"},[e._v("\n        ¥"+e._s(e.formatSalePrice(e.discount.price))+"\n      ")]):e._e(),e._v(" "),n("div",{staticClass:"sale-tooltip-entry-box"},[n("SaleTooltip",{staticClass:"sale-tooltip-entry",attrs:{book:{base_info:e.info,max_discount:e.discount,is_buy:e.isBuy},"is-count-down":!1,"show-wap-style":!!e.isWap}})],1)])])],1)}),[],!1,null,"0f9fd6a5",null).exports);function me(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var ve=Object(L.d)({components:{BookCard:fe},props:{limit:{type:Number,default:2},category:{type:String,default:"",required:!0},teaData:{type:Object,default:function(){return{}}}},data:function(){return{list:[]}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?me(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):me(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(y.mapGetters)({user:F.USER,userInitiated:F.USER_INITIATED})),watch:{userInitiated:{handler:function(e){e&&this.getTccAndDispatchCoupon()},immediate:!0}},methods:{getTcc:function(){var e=this,t=oe.e?"//lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-ttarch.juejin.booklet_api-default":"//tosv-boe.byted.org/obj/tcc-config-web-boe/tcc-v2-data-ttarch.juejin.booklet_api-default";return fetch(t).then((function(e){return e.ok?e.json():void 0})).then((function(t){var n,r={};try{r=JSON.parse(null===(n=t.data)||void 0===n?void 0:n.booklet_exposure)}catch(e){r={},console.debug("get recommend course tcc error",e)}return(null==r?void 0:r[e.category])||[]}))},getTccAndDispatchCoupon:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:if(!e.category){t.next=14;break}return t.prev=3,t.next=6,Promise.all([e.getTcc(),Object(ie.a)((null===(n=e.user)||void 0===n?void 0:n.user_id)||"")]);case 6:r=t.sent,(null==(o=r[0])?void 0:o.length)&&o.length>=e.limit&&(c=Math.floor(Math.random()*o.length),l=c+e.limit-1>=o.length?o.slice(c,o.length).concat(o.slice(0,e.limit-(o.length-c+1)+1)):o.slice(c,c+e.limit),re.a.BookletListByIds({id_list:l}).then((function(t){t.data.length===e.limit&&(e.list=t.data)}))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("getTccAndDispatchCoupon error:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}}),be=(n(3436),Object(S.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.list.length?n("div",{staticClass:"wrap"},[n("div",{staticClass:"title"},[e._v("相关小册")]),e._v(" "),n("div",{staticClass:"list"},e._l(e.list,(function(t){return n("BookCard",{key:t.booklet_id,attrs:{"tea-data":Object.assign({},{article_category:e.category},e.teaData),author:t.user_info,info:t.base_info,discount:t.max_discount,"is-buy":t.is_buy,"reading-progress":t.reading_progress}})})),1)]):e._e()}),[],!1,null,"6f5cf654",null).exports),ge=n(1035),ye=n(1159),_e=n(1333),Ce=n(168),we=n(3437),Oe=n.n(we),je=n(144);function Ve(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ke(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ve(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ve(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var xe=n(193),Te=n(192),Le=n(67),meta=n(870),Pe=n(76),Se=n(84),Ie=n(15),Ee=n(1153),Ae=n(1387),De=n(873),Me=n(111),Re=n(866),Be=n(20),$e=n(170),Fe=n(880),He=Object(L.d)({components:{Icon:f.Icon},props:{initFollowStatus:{type:Boolean,default:void 0},itemId:{type:String,default:""},itemType:{type:Number,default:B.d.UserType},teaFollowType:{type:Number,default:Re.b.other}},emits:["onChange"],setup:function(e,t){var n=Object(Fe.a)({isFollow:e.initFollowStatus,itemId:e.itemId,itemType:e.itemType,teaFollowType:e.teaFollowType}),r=n.isFollow,o=n.followLoading,l=n.toggleFollow,d=n.setFollowInfo,h=n.traceFollowShow;Object(L.x)(e,(function(){d({isFollow:e.initFollowStatus,itemId:e.itemId,itemType:e.itemType})}));var f;return{onFollowBtnShow:function(e){e&&h()},followLoading:o,followText:Object(L.a)((function(){return r.value?"已关注":"关注"})),isFollow:r,toggleFollow:(f=Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:(null==(n=e.sent)?void 0:n.isSuccess)&&t.emit("onChange",n.targetStatus);case 4:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})}}}),Ue=(n(3438),Object(S.a)(He,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{directives:[{name:"visible-change",rawName:"v-visible-change.once",value:e.onFollowBtnShow,expression:"onFollowBtnShow",modifiers:{once:!0}}],staticClass:"jj-follow-button",class:{followed:e.isFollow},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleFollow(t)}}},[e.followLoading?n("span",{staticClass:"busy-icon"},[n("Icon",{attrs:{type:"loading",spin:""}})],1):e.isFollow?e._t("followed",[n("span",{staticClass:"icon icon-followed"}),e._v(" "),n("span",{staticClass:"text"},[e._v(e._s(e.followText))])]):e._t("unFollow",[n("span",{staticClass:"icon icon-follow"}),e._v(" "),n("span",{staticClass:"text",attrs:{"data-text":"取消关注"}},[e._v(e._s(e.followText))])])],2)}),[],!1,null,"5c52c871",null).exports),Ne=Object(h.b)({props:{links:{type:Array,default:function(){return[]}}}}),Ze=(n(3439),Object(S.a)(Ne,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recommended-links"},[n("p",[e._v("友情链接：")]),e._v(" "),n("ul",e._l(e.links,(function(link){return n("li",{key:link.url},[n("a",{attrs:{href:link.url,title:link.keyword,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n        "+e._s(link.keyword)+"\n      ")])])})),0)])}),[],!1,null,"65e9deb8",null).exports),qe=n(1305),We=n.n(qe),Je=Object(L.d)({components:{FollowButton:Ue,Icon:f.Icon},props:{id:{type:String,required:!0},icon:{type:String,required:!0},title:{type:String,required:!0},followed:{type:Boolean,required:!0},type:String,onChange:Function,immerse:{type:Boolean,default:!1},teaFollowType:{type:Number,default:Re.b.other}},setup:function(e){var t=Object(L.q)({value:e.followed}),n=Object(h.w)(),r=Object(L.a)((function(){return Object(Be.h)(n.currentRoute.fullPath)})),o=Object(L.a)((function(){return!e.type||"default"===e.type})),c=Object(A.a)().dynamicDataReady,l=Object(L.a)((function(){return!e.immerse&&(null==c?void 0:c.value)}));return{ObjType:B.d,follow:t,updateFollow:function(n){t&&(t.value=n),"function"==typeof e.onChange&&e.onChange(n)},teamIcon:We.a,defaultType:o,followButtonVisible:l,handleLinkJump:function(path){r.value?window.location.href=path:n.push(path)}}},watch:{followed:function(e){this.follow.value=e}}}),ze=(n(3440),Object(S.a)(Je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("a",{attrs:{href:e.$teamRoute(e.id)},on:{click:function(t){t.preventDefault(),e.handleLinkJump(e.$teamRoute(e.id))}}},[n("img",{staticClass:"icon",attrs:{src:e.icon}})]),e._v(" "),e.defaultType?n("div",{staticClass:"content"},[n("div",{staticStyle:{display:"flex"}},[n("a",{attrs:{href:e.$teamRoute(e.id)},on:{click:function(t){t.preventDefault(),e.handleLinkJump(e.$teamRoute(e.id))}}},[n("p",{staticClass:"title-line"},[n("span",{staticClass:"title",attrs:{title:e.title}},[e._v(e._s(e.title))]),e._v(" "),n("img",{staticClass:"team-icon",attrs:{src:e.teamIcon,alt:"team icon"}})])])]),e._v(" "),e._t("default")],2):n("span",{staticClass:"min-title",attrs:{title:e.title}},[e._v(e._s(e.title))])]),e._v(" "),n("FollowButton",{directives:[{name:"show",rawName:"v-show",value:e.followButtonVisible,expression:"followButtonVisible"}],staticClass:"follow-btn",attrs:{"item-id":e.id,"item-type":e.ObjType.Team,"init-follow-status":e.follow.value,"tea-follow-type":e.teaFollowType},on:{onChange:e.updateFollow},scopedSlots:e._u([{key:"unFollow",fn:function(){return[n("span",[n("Icon",{attrs:{type:"plus"}}),e._v("\n        关注\n      ")],1)]},proxy:!0}])})],1)}),[],!1,null,"127e663e",null).exports),Ge=n(1625),Ke=n(3441);function Ye(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Xe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ye(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ye(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Qe=function(e){return e.state.view.column},et=0;var tt=Object(h.b)({components:{ReadIcon:j.a,ArticleSuspendedPanel:ee,CommentListBoxNew:ne.a,ViewContainer:Ce.a,EntryList:ge.a,FollowButton:Ue,MarkdownViewer:ye.default,AuditTag:te.a,AppLink:V.a,TeamFollow:ze,BookRecommend:be,RecommendedLinks:Ze,BAlert:f.Alert,WechatBanner:function(){return n.e(185).then(n.bind(null,4452))},Sidebar:function(){return n.e(93).then(n.bind(null,4343))},MobileBottomActionBar:function(){return n.e(159).then(n.bind(null,4453))},ColumnPostList:function(){return n.e(174).then(n.bind(null,4402))},AppOpenDrawer:function(){return Promise.all([n.e(8),n.e(16)]).then(n.bind(null,1354))}},mixins:[_e.a],provide:function(){var e=this;return{getRecommendScoreInfo:function(){return e.recommendInfo},getFromPage:function(){return e.fromPage}}},setup:function(){var e=Object(h.n)(!1),t=Object(h.v)();Object(Ee.d)(t.value.params.id);var n=Object(h.n)(!1),r=function(){var e=Object(h.v)(),t=Object(h.x)(),n=Qe(t),r=Object(h.a)((function(){return"selfPost"===e.value.name})),o=Object(h.s)(),c=Object(h.a)((function(){var e,t,r,o;return(null===(t=null===(e=null==n?void 0:n.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.audit_status)===_.AuditStatus.PASS&&[_.StatusType.PublishStatus,_.StatusType.RecommendStatus].includes(null===(o=null===(r=null==n?void 0:n.entry)||void 0===r?void 0:r.article_info)||void 0===o?void 0:o.status)}));return Object(h.y)(c,(function(t){t&&r.value&&o.redirect(302,e.value.fullPath.replace(/^\/spost\//,"/post/"))}),{immediate:!0}),Object(h.j)((function(){r.value&&f.Message.info("您正在浏览审核中的文章内容")})),{showSelfPostJumpBtn:Object(h.a)((function(){return[_.AuditStatus.AUDITING,_.AuditStatus.FAIL].includes(n.entry.article_info.audit_status)&&!r.value})),isSelfPostRoute:r,selfPostRoute:Object(h.a)((function(){return{name:"selfPost",params:e.value.params,query:e.value.query,hash:e.value.hash}}))}}(),o=r.isSelfPostRoute,m=Object(d.a)(r,["isSelfPostRoute"]);return Xe(Xe(Xe({FollowType:Re.b,ObjType:B.d,isImmerseMode:n,isSelfPostRoute:o,isCsrDataInited:e},m),Object(A.b)()),function(e){var t={},n=Object(h.n)(!1),r=Object(h.n)(),o=Object(h.v)(),d=Object(h.x)(),article=Object(h.a)((function(){return d.state.view.column.entry})),f=Object(h.a)((function(){return o.value.params.id}));function m(){var e,o,c,h,m,v,y,_;if(n.value=!1,(null===(e=r.value)||void 0===e?void 0:e.content)||(null===(o=r.value)||void 0===o?void 0:o.title)){(null===(c=r.value)||void 0===c?void 0:c.content)===article.value.article_info.mark_content&&r.value.title!==article.value.article_info.title?d.commit("view/column/UPDATE_STATE",{entry:Oe()(article.value,{title:null===(h=r.value)||void 0===h?void 0:h.title,article_info:{title:null===(m=r.value)||void 0===m?void 0:m.title}})}):d.commit("view/column/UPDATE_STATE",{resultHtml:"",entry:Oe()(article.value,{title:null===(v=r.value)||void 0===v?void 0:v.title,article_info:{title:null===(y=r.value)||void 0===y?void 0:y.title,mark_content:null===(_=r.value)||void 0===_?void 0:_.content}})}),sessionStorage.setItem(M.b.latestArticleVersions,JSON.stringify(ke(ke({},t),{},Object(l.a)({},f.value,r.value))))}}return Object($.a)(function(){var o=Object(c.a)(regeneratorRuntime.mark((function o(c){var l,h,v,y,_,w,O,j,V,k;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e.value){o.next=2;break}return o.abrupt("return");case 2:if(void 0!==(w=d.state.view.column.version)){o.next=5;break}return o.abrupt("return");case 5:if(!(null==c?void 0:c.user_id)||String(null==c?void 0:c.user_id)===(null===(h=null===(l=article.value)||void 0===l?void 0:l.author_user_info)||void 0===h?void 0:h.user_id)){o.next=7;break}return o.abrupt("return");case 7:if(t=JSON.parse(sessionStorage.getItem(M.b.latestArticleVersions)||"{}"),"boolean"!=typeof(O=t[f.value])||O){o.next=11;break}return o.abrupt("return");case 11:return O&&O>w&&(Object(je.c)({content:"article ".concat(f.value," version mismatch local, current version:").concat(w," local version:").concat(O.version," show local version silently"),extra:{article_id:f.value,user_id:String(null!==(v=null==c?void 0:c.user_id)&&void 0!==v?v:""),current_version:String(w),latest_version:String(O.version)}}),r.value=O,m()),o.next=14,C.a.QueryArticleDetailWithVersion({article_id:f.value,version:w},{ignore404:!0});case 14:if((j=o.sent).data){o.next=17;break}return o.abrupt("return");case 17:V=(null===(y=j.data)||void 0===y?void 0:y.version)||0,void 0===(null==O?void 0:O.version)||O.version<V?(r.value=j.data,n.value=!0,k={article_id:f.value,user_id:String(null!==(_=null==c?void 0:c.user_id)&&void 0!==_?_:""),current_version:String(w),latest_version:String(V)},Object(je.c)({content:"article ".concat(f.value," version mismatch, current version:").concat(w," latest version:").concat(V),extra:k}),Object(je.b)("article_version_mismatch",{categories:k})):void 0!==O.version&&w>=O.version&&(delete t[f.value],0===Object.keys(t).length?sessionStorage.removeItem(M.b.latestArticleVersions):sessionStorage.setItem(M.b.latestArticleVersions,JSON.stringify(t)));case 19:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()),{showAlert:n,handleLoadLatestContent:m,handleDismissLatestContent:function(){sessionStorage.setItem(M.b.latestArticleVersions,JSON.stringify(ke(ke({},t),{},Object(l.a)({},f.value,!1))))}}}(o))},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,l,d,h,f,m,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 2:if(n=e.store,r=e.params,l=e.req,d=e.error,h=r.id,Pe.g.test(h)){t.next=7;break}return n.dispatch(F.SHOW_NOT_FOUND_VIEW),t.abrupt("return",d({statusCode:404,message:"Not Found"}));case 7:return f=l.measureWithMetrics,m=l.logger,v=Object(Ie.q)(e),t.next=11,Object($e.b)(Object(c.a)(regeneratorRuntime.mark((function t(){var r,c,d,y,_,C,w,O,j,V,k,x,T;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=Object(Ke.b)(e,Object(Ie.p)(Object(Ie.b)(e))),d=Qe(n).actionType,y=d.FETCH,_=d.FETCH_RECOMMEND,C=n.dispatch(y,{id:h,fetchArticle:function(t,n){return Object(Ge.b)(e,{articleId:t,user:n})}}),!c){t.next=7;break}return t.next=6,C;case 6:return t.abrupt("return",{renderPost:!1});case 7:return w=f({stage:"method_call",method_name:"fetch_additional",timing_key:"3"},n.dispatch(_,{articleId:h,timeout:150})),O=f({stage:"method_call",method_name:"fetch_cached_html",timing_key:"2"},Object(Ge.c)(e,{articleId:h})),t.next=11,Promise.allSettled([C,w,O]);case 11:if(j=t.sent,V=Object(o.a)(j,3),k=V[0],x=V[1],T=V[2],"rejected"!==k.status){t.next=19;break}throw m.error("error get post",k.reason),k.reason;case 19:return"rejected"===x.status&&(-1===x.reason.statusCode?m.warn("get post related recommend timeout",x.reason):m.error("error get post related recommend",x.reason)),t.next=22,Object(Ke.a)(e,T,v);case 22:return l.cacheParam=t.sent,l.cacheParam.skipSSR&&(e.res.statusCode=500),t.abrupt("return",{renderPost:!(null===(r=l.cacheParam)||void 0===r?void 0:r.skipSSR)});case 25:case"end":return t.stop()}}),t)}))),(function(t){var n;return Object(Ge.d)(e),l.cacheParam={measureSsr:f({stage:"ssr",path:(null===(n=l.originalUrl)||void 0===n?void 0:n.replace(/\//g,"_"))||"-",webp:String(v),timing_key:"4"})},Object(Se.c)(e,t)}),e);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})))()},data:function(){return{defaultTagIconUrl:Le.f,isViewNavOnTop:!1,isMobile:!1,showMore:!1,fromPage:"",isSelect:!1,voteState:0,supportWebP:!1,renderPost:!1,voteUrl:"",catalogContentRef:null,recommendInfo:void 0,ContentType:xe.a,showLinkVote:!0,authorTab:"posts"}},head:function(){var link=Object(De.a)("/post/".concat(this.$route.params.id)).link;if(!this.entry||!Object.keys(this.entry).length)return{link:link};var e=Object(De.c)(this.entry,this.entryViewContent),title=e.title,t=e.keywords,n=this.entry,o=n.article_id,c=n.title,l=n.article_info,d=void 0===l?{}:l,h=n.username,image=[];(null==d?void 0:d.cover_image)&&image.push(null==d?void 0:d.cover_image);var f=Object(Ae.a)({id:"".concat(meta.d,"/post/").concat(o),title:c,description:(null==d?void 0:d.brief_content)||"",username:h,createdAt:null==d?void 0:d.ctime,updatedAt:null==d?void 0:d.mtime,image:image}),m=Object(Ae.b)(this.entry.category);return Xe(Xe({},Object(De.d)({title:"".concat(title," - 掘金"),description:null==d?void 0:d.brief_content,keywords:t},this.formatPath(this.$route.path),{})),{},{link:Object(r.a)(link),script:[{type:"application/ld+json",json:[f,m]}]})},computed:Xe(Xe({},Object(y.mapGetters)({user:F.USER})),{},{subject:function(){var e,t;return{item_id:this.entry.article_id,item_type:2,user_id:this.entry.author_user_info&&this.entry.author_user_info.user_id,comment_count:this.entry&&this.entry.commentsCount,category_id:null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.category_id}},isDelete:function(){return this.author.is_logout},state:function(){return Qe(this.$store)},recommendedArticleList:function(){return this.state.recommendedArticleList},column:function(){return this.state.column},resultHtml:function(){return this.state.resultHtml},hitArticleCache:function(){return this.state.hitArticleCache},entry:function(){return this.state.entry},originalType:function(){var e,t;return(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.original_type)||0},postId:function(){return this.$route.params.id},author:function(){return this.state.author},activityUrl:function(){var e="https://rank.juejin.cn/";return this.author&&this.author.is_select_annual?e+="?u=".concat(this.author.user_name,"&t=").concat(this.author.annual_list_type?"team":"user"):e},isShowVote:function(){return this.isSelect&&1===this.voteState},isToLong:function(){return this.author.user_name.length>5},entryView:function(){return this.state.entryView},tagList:function(){return this.entry.tags||[]},themeList:function(){return this.entry.theme_list||[]},categoryTitle:function(){return(this.entry.category||{}).title},categoryId:function(){return(this.entry.category||{}).id},isAuthor:function(){var e,t;return(null===(e=this.user)||void 0===e?void 0:e.id)===(null===(t=this.author)||void 0===t?void 0:t.id)},isAuthorOrAdmin:function(){var e,t,n;return(null===(e=this.user)||void 0===e?void 0:e.id)===(null===(t=this.author)||void 0===t?void 0:t.id)||1===(null===(n=this.user)||void 0===n?void 0:n.administrator)},isAudit:function(){var e,t;return(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.audit_status)===_.AuditStatus.AUDITING&&this.isAuthorOrAdmin},isAuditFail:function(){var e,t;return-1===(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.audit_status)&&this.isAuthorOrAdmin},canFetchMore:function(){return this.state.commentList.canNext},visibleFollowButton:function(){var e;return this.author.hasOwnProperty("followed")&&this.author.id!==(null===(e=this.user)||void 0===e?void 0:e.id)},domain:function(){return Object(Be.b)(this.entry.originalUrl)},originalLink:function(){var e,t;return 0===(null===(t=null===(e=this.entry)||void 0===e?void 0:e.article_info)||void 0===t?void 0:t.is_original)},annualTeaParams:function(){var e;return{user_id:null===(e=this.user)||void 0===e?void 0:e.user_id,voted_user_id:v()(this.entry,"author_user_info.user_id",0),platform:this.$device.isMobile?"h5":"web",invite_location:"post_page"}},teamInfo:function(){var e;return(null===(e=this.entry)||void 0===e?void 0:e.org)||{}},inTeam:function(){var e,t=null===(e=this.teamInfo.org_info)||void 0===e?void 0:e.org_id;return t&&"0"!==t},teamDetail:function(){var e;return(null===(e=this.teamInfo.org_info)||void 0===e?void 0:e.org_version)||{}},scheme:function(){return Object(Te.d)("https://".concat(oe.d,"/post/").concat(this.postId),Te.a.postDetail.gd_label)}}),shareInfo:function(){return{title:this.entry.title,description:this.entry.abstract||this.entry.content,thumb:this.coverImage,url:this.formatPath(this.$route.fullPath)}},watch:{entry:{handler:function(e,t){e&&e.article_id===(null==t?void 0:t.article_id)||e&&Object.keys(e).length&&(this.$TEA("article_view",{article_type:e.type||"",article_id:e.article_id||"0",author_user_id:v()(e,"author_user_info.user_id",0),category_id:v()(e,"category.id",""),author_user_level:v()(e,"author_user_info.level",0).toString()}),Object(Be.h)(this.$route.path)&&C.a.AfterReadingArticle({article_id:e.article_id},{showError:!1,ignore404:!1}))},immediate:!0},$route:{handler:function(e){if("#refetch"===e.hash&&this.$device.isMobile){var t=e.params.id,n=this.$store;Object(w.b)(t).then((function(article){var e=article.user;n.commit("view/column/UPDATE_STATE",{column:{id:t},author:e,entry:article})})).catch(Object(Se.b)(this.$store))}},immediate:!0}},beforeDestroy:function(){Object(H.q)(this.handleVisibleChange)},mounted:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.renderPost=!0,et=Date.now(),e.fromPage=localStorage.getItem("fromPage"),localStorage.removeItem("fromPage"),e.recommendId=localStorage.getItem("juejin_recommend_id")||"",localStorage.removeItem("juejin_recommend_id"),e.recommendInfo=Object(W.a)(),e.isMobile=document.body.clientWidth<1140,e.initEventListener(),o=Qe(e.$store).actionType.FETCH_AUTHOR_EXTRA,Promise.allSettled([e.$store.dispatch(o),(l=e.$store,d=e.postId,f=void 0,m=void 0,f=Qe(l),m=f.actionType.FETCH_ADDITIONAL,l.dispatch(m,{articleId:d}))]).then((function(){Object(h.g)((function(){e.isCsrDataInited=!0,e.autoFocusComment()}))})).catch((function(e){console.error(e)})).then((function(){e.author.is_select_annual&&e.$TEA("annual_2022_invite_show",e.annualTeaParams)})),c=Object(Z.d)(e.fromPage),e.$TEA("article_detail_enter",{article_id:e.$route.params.id,detail_from:c,theme_id:(null===(r=null===(n=e.themeList[0])||void 0===n?void 0:n.theme)||void 0===r?void 0:r.theme_id)||"0",search_id:e.$route.query.searchId}),4===Object(Z.b)(e.fromPage)&&e.$TEA("article_content_url_click"),e.vote(),Object(Ie.p)()||(e.showLinkVote=!1);case 16:case"end":return t.stop()}var l,d,f,m}),t)})))()},methods:{formatPath:function(path){return path.includes("no-cdn-post")?path=path.replace("no-cdn-post","post"):path.includes("spost")&&(path=path.replace("spost","post")),path},onArticleReady:function(e){this.catalogContentRef=e,Object(H.s)({parent:this.catalogContentRef,getAnchorSelector:function(e){return'[data-id="'.concat(e.slice(1),'"]')},offset:-80})},reportPageStayTime:function(){var e,t,n=this.entry;if(n){var r=Math.round((Date.now()-et)/1e3);this.$TEA("item_detail_stay_time",{event_page:Z.a.articleDetail,req_id:null==n?void 0:n.req_id,boost_type:null===(e=null==n?void 0:n.extra)||void 0===e?void 0:e.boost_type,from_page:Object(Z.b)(this.fromPage),from_page_type:Object(Z.c)(),item_id:null==n?void 0:n.id,item_type:2,item_author_id:null===(t=null==n?void 0:n.author_user_info)||void 0===t?void 0:t.user_id,active_stay_time:r,rec_attached_info:this.recommendId,search_id:this.$route.query.searchId}),et=0}},onHeaderVisibilityChanged:function(e){this.isViewNavOnTop=!e},onSubmittedComment:function(){this.refreshCommentList()},onShouldFetchMoreComment:function(){this.$store.dispatch(this.state.commentList.actionType.FETCH_MORE)},refreshCommentList:function(){var e=this.state.commentList.actionType.FORCE_FETCH,t=this.entry.id;this.$store.dispatch(e,{entryId:t})},autoFocusComment:function(){"#comment"===this.$route.hash&&this.scrollToComment()},initEventListener:function(){var e=this,t=this.$getBean("eventBus");t.onVmLife(this,t.eventType.ROOT_CONTAINER_SCROLL,(function(){e.recordScroll()})),Object(H.o)(this.handleVisibleChange)},handleVisibleChange:function(){var e=Object(H.d)();e&&document[e]?this.reportPageStayTime():et=Date.now()},openEditor:function(){window.location.href=this.$getBean("editorBusiness").getPostEditUrl(this.entry.draftId)},scrollToComment:function(){var e=document.getElementById("comment-box");if(e){var t=this.isViewNavOnTop?-30:-80;setTimeout((function(){return Object(H.t)(e,t)}),500)}},recordScroll:function(){var e=this;this.record||(this.record=Object(Me.b)((function(){e.$TEA("article_detail_scroll",{article_id:e.$route.params.id})}),1e3,!0)),this.record()},clickActiviy:function(){this.$TEA("annual_2022_invite_click",this.annualTeaParams)},clickVote:function(e){this.$TEA("annual_2022_invite_click",Xe(Xe({},this.annualTeaParams),{},{invite_location:e?"post_page_".concat(e):"post_page"}))},vote:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(content.g)({annual_id:"2022",user_id:null===(n=e.author)||void 0===n?void 0:n.id});case 2:r=t.sent,data=r.data,e.isSelect=null==data?void 0:data.is_select_annual,e.voteState=null==data?void 0:data.status,e.voteUrl=null==data?void 0:data.url;case 7:case"end":return t.stop()}}),t)})))()}},beforeRouteLeave:function(e,t,n){var r;if(!(null===(r=this.entry)||void 0===r?void 0:r.id))return n();this.reportPageStayTime(),n()}}),nt=(n(3442),n(3443),Object(S.a)(tt,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ViewContainer",{class:{immerse:e.isImmerseMode},attrs:{size:"post",zlink:"https://z.juejin.cn/Ft2w",scheme:e.scheme},on:{headerVisibilityChanged:e.onHeaderVisibilityChanged}},[r("div",{staticClass:"view column-view"},[e.showAlert?r("BAlert",{staticClass:"main-area article-update-banner",attrs:{type:"info",closable:"",banner:""},on:{"on-close":e.handleDismissLatestContent}},[e._v("\n      文章内容有更新，是否加载最新内容？\n      "),r("button",{on:{click:e.handleLoadLatestContent}},[e._v("确认")])]):e._e(),e._v(" "),r("div",{staticClass:"main-area article-area"},[r("structured-article",{class:["article",{"browser-height":!e.renderPost}],attrs:{entry:e.entry,"data-entry-id":e.entry.id,"data-draft-id":e.entry.draftId,"data-original-type":e.originalType}},[e.renderPost&&e.entry.id?[r("h1",{staticClass:"article-title"},[e._v("\n            "+e._s(e.entry.title)+"\n            "),(e.isAudit||e.isAuditFail)&&e.isSelfPostRoute?r("AuditTag",{staticClass:"audit-tag-wrap",attrs:{type:e.isAudit?"wait":"fail"}}):e._e(),e._v(" "),e.showSelfPostJumpBtn?r("AppLink",{staticClass:"spost-link",attrs:{to:e.selfPostRoute,blank:!0,external:!0}},[e._v("\n              文章有更新，点击查看\n            ")]):e._e()],1),e._v(" "),e.inTeam?r("TeamFollow",{staticClass:"team-follow",attrs:{id:e.teamInfo.org_info.org_id,title:e.teamDetail.name,icon:e.teamDetail.icon,followed:e.isCsrDataInited?e.teamInfo.is_followed:void 0,immerse:e.isImmerseMode,"tea-follow-type":e.FollowType.postTop}},[r("div",{staticClass:"meta-box team"},[r("time",{staticClass:"time",attrs:{datetime:e._f("iso")(e.entry.createdAt),title:e.entry.createdAt}},[e._v("\n                "+e._s(e._f("date")(e.entry.createdAt,"YYYY-MM-DD HH:mm"))+"\n              ")]),e._v(" "),r("ReadIcon",{staticClass:"read-icon"}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.dynamicDataReady,expression:"dynamicDataReady"}],staticClass:"views-count"},[e._v("\n                "+e._s(e.entry.viewsCount)+"\n              ")]),e._v(" "),r("client-only",[e.isAuthorOrAdmin&&!e.isMobile?[r("span",{staticClass:"dot"},[e._v("·")]),e._v(" "),r("span",{staticClass:"edit-btn",on:{click:e.openEditor}},[e._v("编辑")])]:e._e()],2)],1)]):[e.entry.id?r("div",{class:["author-info-block",{"block-hidden":!e.dynamicDataReady}]},[r("div",{staticClass:"author-info-box"},[r("div",{staticClass:"author-name"},[r("username",{staticClass:"username ellipsis",attrs:{universal:"","max-width":"256px","show-jpower-level":!1,user:e.author,tab:e.authorTab}}),e._v(" "),r("client-only",[e.isShowVote&&!e.isMobile?r("a",{staticClass:"vote-in-progress",attrs:{href:e.voteUrl,target:"_blank"},on:{click:function(t){return e.clickVote("banner")}}}):e._e()])],1),e._v(" "),r("div",{staticClass:"meta-box"},[r("time",{staticClass:"time",attrs:{datetime:e._f("iso")(e.entry.createdAt),title:e.entry.createdAt}},[e._v("\n                    "+e._s(e._f("date")(e.entry.createdAt,"YYYY-MM-DD HH:mm"))+"\n                  ")]),e._v(" "),r("ReadIcon",{staticClass:"read-icon"}),e._v(" "),r("span",{staticClass:"views-count"},[e._v("\n                    "+e._s(e.entry.viewsCount)+"\n                  ")]),e._v(" "),e.isAuthorOrAdmin&&!e.isMobile?[r("span",{staticClass:"edit-btn",staticStyle:{"margin-left":"16px"},on:{click:e.openEditor}},[e._v("\n                      编辑\n                    ")])]:e._e()],2)]),e._v(" "),e.dynamicDataReady&&!e.isDelete&&e.visibleFollowButton?r("FollowButton",{staticClass:"follow",attrs:{"init-follow-status":e.isCsrDataInited?e.author.followed:void 0,"item-id":e.author.id,"item-type":e.ObjType.UserType,"tea-follow-type":e.FollowType.postTop}}):e._e()],1):e._e(),e._v(" "),r("client-only",[e.isShowVote&&e.isMobile?r("a",{staticClass:"vote-in-progress",attrs:{href:e.voteUrl,target:"_blank"},on:{click:function(t){return e.clickVote("banner")}}}):e._e()])],e._v(" "),e.inTeam?r("div",{class:["team-user",{"block-hidden":!e.dynamicDataReady}]},[r("Avatar",{staticClass:"avatar",attrs:{user:e.author}}),e._v(" "),r("username",{staticClass:"username ellipsis",attrs:{"show-jpower-level":!1,user:e.author,tab:e.authorTab,"max-width":"256px"}}),e._v(" "),r("span",{staticClass:"position ellipsis"},[e._v("\n              "+e._s(e.$userPosition(e.author))+"\n            ")]),e._v(" "),e.isShowVote?r("a",{staticClass:"vote-in-user",attrs:{href:e.voteUrl,target:"_blank"},on:{click:function(t){return e.clickVote("banner")}}}):e._e()],1):e._e(),e._v(" "),e.originalLink?r("div",{staticClass:"originalUrl"},[e._v("\n            原文链接：\n            "),r("a",{directives:[{name:"link",rawName:"v-link.external.redirect.blank",value:e.entry.originalUrl,expression:"entry.originalUrl",modifiers:{external:!0,redirect:!0,blank:!0}}]},[e._v("\n              "+e._s(e.domain)+"\n            ")])]):e._e(),e._v(" "),r("MarkdownViewer",{directives:[{name:"copyright",rawName:"v-copyright",value:{username:e.author.username},expression:"{ username: author.username }"}],staticClass:"markdown-viewer",attrs:{"data-id":e.entry.objectId,markdown:e.entry.article_info.mark_content,html:e.entry.article_info.content,"result-html":e.resultHtml,"hit-cache":e.hitArticleCache,itemprop:"articleBody",copyable:!0,"need-login-before-copy-code":!0,"is-logined":!!e.user},on:{ready:e.onArticleReady}})]:[r("img",{staticClass:"article-placeholder",attrs:{src:n(3430)}})]],2),e._v(" "),e.isShowVote?r("div",{staticClass:"article-vote"},[r("a",{staticClass:"article-vote-icon",attrs:{href:e.voteUrl,target:"_blank"},on:{click:function(t){return e.clickVote("footer")}}})]):e._e(),e._v(" "),e.renderPost?r("div",{staticClass:"article-end"},[e.tagList.length?r("div",{staticClass:"tag-list-box"},[r("client-only",[r("div",{staticClass:"tag-list"},[r("div",{staticClass:"tag-list-title"},[e._v("标签：")]),e._v(" "),r("div",{staticClass:"tag-list-container"},e._l(e.tagList,(function(t){return r("app-link",{key:t.id,staticClass:"item tag-item",attrs:{to:e.$tagRoute(t),blank:!0}},[r("span",{staticClass:"tag-title"},[e._v(e._s(t.title))])])})),1)]),e._v(" "),e.dynamicDataReady&&e.themeList.length?r("div",{staticClass:"tag-list theme-list"},[r("div",{staticClass:"theme-list-title"},[e._v("话题：")]),e._v(" "),r("div",{staticClass:"theme-list-container"},e._l(e.themeList,(function(t){return r("app-link",{key:t.theme.theme_id,staticClass:"item theme-item",attrs:{to:e.$themeTypeRoute(t.theme,e.ContentType.Article),blank:!0}},[r("span",{staticClass:"theme-title"},[e._v(e._s(t.theme.name))])])})),1)]):e._e()])],1):e._e(),e._v(" "),e.state.columnList.length?r("div",[r("div",{staticClass:"divider"}),e._v(" "),r("ColumnPostList",{attrs:{"column-list":e.state.columnList}})],1):e._e()]):e._e(),e._v(" "),!e.isImmerseMode&&e.entry.category?r("BookRecommend",{staticClass:"category-course-recommend",attrs:{category:e.entry.category.category_id,"tea-data":{article_id:e.postId}}}):e._e(),e._v(" "),r("client-only",[e.isMobile?r("WechatBanner",{staticClass:"wechat-banner",class:{"wechat-banner-no-recommend":!e.entry.category}}):e._e(),e._v(" "),r("CommentListBoxNew",{ref:"commentListBox",attrs:{id:"comment-box","enter-method":"item_detail_comment_author_card","forbid-input":e.isAudit||e.isAuditFail,subject:e.subject,expanded:!0,"has-hot":!0,"has-sort":!0,"need-login-guide":!0}}),e._v(" "),r("MobileBottomActionBar",{staticClass:"action-bar",attrs:{entry:e.entry},on:{comment:e.scrollToComment}})],1)],1),e._v(" "),e.recommendedArticleList.list.length?r("div",{staticClass:"main-area recommended-area entry-list-container shadow"},[r("div",{staticClass:"recommended-list-title-wrapper"},[r("div",{staticClass:"title"},[r("span",{staticClass:"title-content"},[e._v("相关推荐")])])]),e._v(" "),r("EntryList",{staticClass:"recommended-entry-list",attrs:{list:e.recommendedArticleList.list,loading:e.recommendedArticleList.skeleton,"from-page":e.fromPage,"is-post-view":!0}})],1):e._e(),e._v(" "),!e.isImmerseMode&&e.state.linkVotingList.length&&e.showLinkVote?r("RecommendedLinks",{staticClass:"main-area",attrs:{links:e.state.linkVotingList}}):e._e(),e._v(" "),r("Sidebar",{ref:"sidebar",staticClass:"article-sidebar",attrs:{"is-csr-data-inited":e.isCsrDataInited,state:e.state,logined:!!e.user,"on-top":e.isViewNavOnTop,"from-page":e.fromPage,immerse:e.isImmerseMode,"catalog-content-ref":e.catalogContentRef}}),e._v(" "),r("ArticleSuspendedPanel",{attrs:{"show-report":!e.isAuthor,entry:e.entry,"from-page":e.fromPage,"need-collect-guide":!0},model:{value:e.isImmerseMode,callback:function(t){e.isImmerseMode=t},expression:"isImmerseMode"}})],1),e._v(" "),r("client-only",[e.$device.isMobile?r("AppOpenDrawer",{staticClass:"app-open-drawer",attrs:{zlink:"https://z.juejin.cn/Ft2w",scheme:e.scheme}}):e._e()],1)],1)}),[],!1,null,"3510f88e",null));t.default=nt.exports},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var r,o,c=n(74);function l(e,t){Object(c.g)(e,t)}!function(e){e.FollowShow="follow_show",e.FollowClick="follow_click",e.FollowCancel="follow_cancel",e.FollowingFeedShow="following_feed_show"}(r||(r={})),function(e){e[e.followCommendCard=0]="followCommendCard",e[e.hotAuthors=1]="hotAuthors",e[e.homeUserPopover=2]="homeUserPopover",e[e.postUserCard=4]="postUserCard",e[e.postTop=5]="postTop",e[e.postStickyBar=6]="postStickyBar",e[e.userCenterTop=7]="userCenterTop",e[e.userCenterStickyBar=8]="userCenterStickyBar",e[e.userCenterMomentFeed=9]="userCenterMomentFeed",e[e.userCenterFollowing=10]="userCenterFollowing",e[e.userCenterTeam=11]="userCenterTeam",e[e.userCenterFollowers=12]="userCenterFollowers",e[e.commentUserPopover=13]="commentUserPopover",e[e.pinFeedUserPopover=14]="pinFeedUserPopover",e[e.pinDiggDetail=15]="pinDiggDetail",e[e.pinDetail=16]="pinDetail",e[e.clubDetail=18]="clubDetail",e[e.searchResult=19]="searchResult",e[e.teamCenterTop=20]="teamCenterTop",e[e.other=100]="other"}(o||(o={}))},870:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d}));var r="掘金,稀土,Vue.js,前端面试题,Kotlin,ReactNative,Python",o="掘金是面向全球中文开发者的技术内容分享与交流平台。我们通过技术文章、沸点、课程、直播等产品和服务，打造一个激发开发者创作灵感，激励开发者沉淀分享，陪伴开发者成长的综合类技术社区。",c="https://juejin.cn",l="juejin.cn",d=function(e){return"".concat(e,"技术、学习、经验文章掘金开发者社区搜索结果。掘金是一个帮助开发者成长的社区，").concat(e,"技术文章由稀土上聚集的技术大牛和极客共同编辑为你筛选出最优质的干货，用户每天都可以在这里找到技术世界的头条内容，我们相信你也可以在这里有所收获。")}},871:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(7);var r=n(11),o=n(12),c=function(){function e(){Object(r.a)(this,e),this.busy=!1}return Object(o.a)(e,[{key:"do",value:function(e){var t=this;return this.busy?Promise.resolve(void 0):(this.busy=!0,Promise.resolve("function"==typeof e?e():e).then((function(e){return t.busy=!1,e})).catch((function(e){return t.busy=!1,Promise.reject(e)})))}}]),e}();function l(){return new c}},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r,o=n(5);function c(e){var t=Object(o.n)(e),n=Object(o.c)(),c=null==n?void 0:n.proxy.$getBean("eventBus"),f=Object(o.n)(0);return Object(o.j)((function(){(null==n?void 0:n.proxy)&&c&&(c.onVmLife(null==n?void 0:n.proxy,r.set,(function(e){h(e)&&t.value&&t.value===e.itemId&&(f.value=e.val)})),c.onVmLife(null==n?void 0:n.proxy,r.change,(function(e){h(e)&&t.value&&t.value===e.itemId&&(f.value=f.value+e.val)})))})),{commentCount:f,itemIdRef:t,setCommentCount:function(t){f.value=t,c&&l(c,e,t)},changeCommentCount:function(t){f.value=f.value+t,c&&d(c,e,t)}}}function l(e,t,n){null==e||e.emit(r.set,{itemId:t,val:n})}function d(e,t,n){null==e||e.emit(r.change,{itemId:t,val:n})}function h(e){return"itemId"in e&&"val"in e}!function(e){e.set="set_comment_count",e.change="change_comment_count"}(r||(r={}))},873:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return m}));n(43);var r=n(870),o=n(874);function c(e,t){e=e||{},t=t||e.parsedContent;var title=e.title||"",content=(t||"").replace(/<.*?>/g,"")||e.content;return{title:title,keywords:l((e.tags||[]).map((function(e){return e.title}))),description:d(content)}}function l(e){return(e=e||[]).join(",").replace(/[\r\n\s]+/g," ")}function d(e){return(e=(e||"").trim().slice(0,130)).replace(/[\r\n\s]+/g," ")}function h(){var path=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",link=[{rel:"canonical",href:"".concat(r.d).concat(path)}];return{link:link}}function f(e){return{title:e.title,meta:[{vmid:"description",name:"description",content:e.description},{vmid:"keywords",name:"keywords",content:e.keywords}]}}function m(e,path,t){return e.keywords||(e.keywords=r.b),e.description||(e.description=r.a),f(Object(o.buildTdk)(e,r.c,path,t))}},874:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function l(e){try{h(r.next(e))}catch(e){c(e)}}function d(e){try{h(r.throw(e))}catch(e){c(e)}}function h(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,d)}h((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,body){var t,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(e,o)}catch(e){c=[6,e],n=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setTdkTemplateList=t.getTdkTemplateList=t.buildTdk=void 0;var l=c(n(907)),d=n(876),h=n(878),f=n(879),m=[],v=null,y=!1;function _(e){return r(this,void 0,void 0,(function(){var t,data,n,r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,l.default.request({url:"https://seo"+(y?"-boe":"")+".bytedance.net/api/tdk/query",method:"post",data:{site:e}})];case 1:if(t=o.sent(),data=t.data,(n=t.status)>=400)throw new Error("获取 TDK 失败，status code: "+n);if(data.errno)throw new Error("获取 TDK 失败，errno: "+data.errno+",message: "+data.message);return j(data.data),[3,3];case 2:return r=o.sent(),console.warn(r),[3,3];case 3:return[2]}}))}))}function C(template,e){var t=template.replace(/\{\{\s*(\w+)\s*\}\}/g,"{{$1}}");for(var n in e)t=t.replace("{{"+n+"}}",e[n]);return t.replace(/{{([\s\S]+?)}}/g,"")}function w(path,e){var t=function(path,e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(d.isMatch(path,r.path))return r}}(path,m);return t?{title:C(t.title,e),description:C(t.description,e),keywords:C(t.keywords,e)}:{title:"",description:"",keywords:""}}function O(e){return!e.title&&!e.description&&!e.keywords}function j(e){m=JSON.parse(JSON.stringify(e))}t.buildTdk=function(e,t,path,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=36e5),y=r;var c={title:"",description:"",keywords:""};try{if("string"!=typeof t||"string"!=typeof path)throw new Error("由模板构建 TDK 时，必须要传入合法 site 和 path，当前 site="+t+"，path="+path);c=w(path,n),f.isSsrServer()&&(!function(e,t){e<3e5&&(console.warn("模板刷新时间间隔不能小于 5 分钟，当前设置 "+e+"ms"),e=3e5),v||(v=setInterval((function(){_(t)}),e*(1+.1*(Math.random()-.5))),_(t))}(o,t),h.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:t||"empty",path:path||"empty",fallback:+O(c),tdkTemplateListLength:m.length,errMsg:"success"}))}catch(e){console.warn(e),f.isSsrServer()&&h.metricsEmitCounter("tdk.build",1,"toutiao.growth.seo_platform",{site:t||"empty",path:path||"empty",fallback:+O(c),tdkTemplateListLength:m.length,errMsg:e.toString()})}return O(c)?(console.warn("使用兜底 TDK"),e):c},t.getTdkTemplateList=function(){return JSON.parse(JSON.stringify(m))},t.setTdkTemplateList=j},875:function(e,t,n){"use strict";n.r(t);n(7),n(65);var r=n(5),o=n(9),c=n(30),l=n(1118),d=n(1017),h=Object(o.d)({components:{Triangle:d.a},props:{disalbe:{type:Boolean,default:!1},promise:Promise},emits:["afterShow"],setup:function(e,t){var data=Object(o.q)({visible:!1,top:0,left:0,isTop:!1}),n=Object(o.r)(null),r=Object(o.r)(null),c=Object(o.r)();return{data:data,popoverStyle:Object(o.a)((function(){return{top:"".concat(data.top,"px"),left:"".concat(data.left,"px")}})),contentElem:c,showPopover:function(o){e.disalbe||(clearTimeout(r.value),t.emit("show"),n.value=setTimeout((function(){Promise.resolve(e.promise).then((function(){n.value&&(data.visible=!0,t.root.$nextTick((function(){var e=o.target,n=null==e?void 0:e.getBoundingClientRect(),r=e.offsetWidth||33,l=e.offsetHeight||33,d=c.value,h=(null==d?void 0:d.offsetWidth)||260,f=(null==d?void 0:d.offsetHeight)||160,m=n.left-h/2+r/2,v=n.top-f-12;data.isTop=!1,v<60&&(data.isTop=!0,v=n.top+l+8),m=Math.max(0,m),data.left=m,data.top=v,t.emit("afterShow")})))}))}),300))},hidePopover:function(){clearTimeout(n.value),n.value=null,t.emit("hide"),r.value=setTimeout((function(){r.value=null,data.visible=!1}),300)}}}}),f=(n(1167),n(29)),m=Object(f.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popover-box",on:{mouseenter:function(t){return e.showPopover(t)},mouseleave:e.hidePopover}},[n("transition",{attrs:{name:"fade"}},[e.data.visible?n("div",{ref:"contentElem",staticClass:"popover-content",style:e.popoverStyle},[e._t("content"),e._v(" "),n("triangle",{staticClass:"triangle-bottom",class:{isTop:e.data.isTop}})],2):e._e()]),e._v(" "),e._t("default")],2)}),[],!1,null,"23e711a0",null).exports,v=n(23),y=n(881),_=n(866),C=n(880),w=Object(o.d)({components:{Popover:m,Button:y.a,ImButton:l.a},props:{userId:String,showJscoreLevel:{type:Boolean,default:!1},enablePopover:{type:Boolean,default:!0},teaFollowType:{type:Number,default:_.b.other}},setup:function(e){var t=Object(r.x)(),n=Object(o.a)((function(){return t.getters.USER})),l=Object(o.r)(null),d=Object(o.r)(),h=Object(o.a)((function(){return n.value&&n.value.id===e.userId})),f=Object(C.a)({itemId:e.userId,itemType:v.d.UserType,teaFollowType:e.teaFollowType}),m=f.isFollow,y=f.followLoading,_=f.toggleFollow,w=f.setFollowInfo,O=f.traceFollowShow;return Object(o.x)(l,(function(){l.value&&w({itemId:l.value.id,itemType:v.d.UserType,isFollow:l.value.followed})})),{isFollow:m,fetchUserPromise:d,user:l,self:h,followLoading:y,toggleFollow:_,toFollowing:function(){window.open("/user/".concat(e.userId,"/following"),"_blank")},toFollower:function(){window.open("/user/".concat(e.userId,"/followers"),"_blank")},handleShow:function(){e.userId&&(d.value=Object(c.i)(e.userId,{ignore404:!0}).then((function(e){if(e.is_logout)return Promise.reject();l.value=e})))},handleAfterShow:function(){O()}}},computed:{position:function(){return this.user&&(this.$userPosition(this.user)||this.user.description||"暂无简介")}}}),O=(n(1168),n(1169),Object(f.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popover",{staticClass:"user-popover",attrs:{promise:e.fetchUserPromise},on:{show:e.handleShow,afterShow:e.handleAfterShow},scopedSlots:e._u([{key:"content",fn:function(){return[n("div",{staticClass:"info-row",on:{click:function(e){e.stopPropagation()}}},[n("app-link",{attrs:{to:e.$userRoute(e.user),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:e.user,alt:e.user.username+"的头像"}})],1),e._v(" "),n("div",{staticClass:"user-info"},[n("username",{attrs:{user:e.user,"show-jscore-level":e.showJscoreLevel}}),e._v(" "),n("div",{staticClass:"position"},[e._v(e._s(e.position))])],1)],1),e._v(" "),e.self?e._e():n("div",{staticClass:"operate-btn"},[n("Button",{staticClass:"follow-btn",attrs:{"st:name":"followBtn",attention:!0,"custom-attention-text":"关注","cancel-attention-text":"已关注",cancel:e.isFollow,loading:e.followLoading,size:"large","show-icon":!1},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleFollow()}}}),e._v(" "),n("ImButton",{staticClass:"im-btn",attrs:{"tea-type":"personal_information_card","user-id":e.userId}})],1),e._v(" "),n("div",{staticClass:"meta-row",on:{click:function(e){e.stopPropagation()}}},[n("ul",{staticClass:"meta-list"},[n("li",{staticClass:"item",on:{click:e.toFollowing}},[n("div",{staticClass:"count"},[e._v(e._s(e.user.followingCount||0))]),e._v(" "),n("div",{staticClass:"title"},[e._v("关注")])]),e._v(" "),n("li",{staticClass:"divider"}),e._v(" "),n("li",{staticClass:"item",on:{click:e.toFollower}},[n("div",{staticClass:"count"},[e._v(e._s(e.user.followerCount||0))]),e._v(" "),n("div",{staticClass:"title"},[e._v("粉丝")])])])])]},proxy:!0}])},[e._v(" "),e._t("default")],2)}),[],!1,null,"f10598cc",null));t.default=O.exports},876:function(e,t,n){"use strict";const r=n(877),o=new Map;function c(pattern,e){e={caseSensitive:!1,...e};const t=pattern+JSON.stringify(e);if(o.has(t))return o.get(t);const n="!"===pattern[0];n&&(pattern=pattern.slice(1)),pattern=r(pattern).replace(/\\\*/g,"[\\s\\S]*");const c=new RegExp(`^${pattern}$`,e.caseSensitive?"":"i");return c.negated=n,o.set(t,c),c}e.exports=(e,t,n)=>{if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError(`Expected two arrays, got ${typeof e} ${typeof t}`);if(0===t.length)return e;const r="!"===t[0][0];t=t.map(pattern=>c(pattern,n));const o=[];for(const input of e){let e=r;for(const pattern of t)pattern.test(input)&&(e=!pattern.negated);e&&o.push(input)}return o},e.exports.isMatch=(input,pattern,e)=>{const t=Array.isArray(input)?input:[input],n=Array.isArray(pattern)?pattern:[pattern];return t.some(input=>n.every(pattern=>{const t=c(pattern,e),n=t.test(input);return t.negated?!n:n}))}},877:function(e,t,n){"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metricsEmitCounter=void 0;t.metricsEmitCounter=function(e,t,n,r){null}},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSsrServer=void 0,t.isSsrServer=function(){try{return!(window&&document&&location&&alert)}catch(e){return!0}}},880:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n(39),n(46),n(22);var r=n(4),o=n(5),c=n(73),l=n(23),d=n(3),h=n(142),f=n(871),m=n(1),v=n(866),y=n(306);function _(){var e,t,n,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=Object(f.a)(),O=Object(o.x)(),j=Object(o.c)(),V=Object(o.n)(!1),k=Object(o.n)(!1),x=[],T=Object(o.n)(!1),L=Object(o.n)(""),P=Object(o.n)(l.d.UserType),S=Object(o.n)(v.b.other),I=Object(o.n)("关注失败，请稍后重试~"),E=Object(o.n)(""),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,n=e.itemType,r=e.isFollow,o=e.teaFollowType,c=e.errorText,l=e.successText;void 0!==t&&(L.value=t),void 0!==n&&(P.value=n),void 0!==r&&(T.value=r),void 0!==o&&(S.value=o),void 0!==c&&(I.value=c),void 0!==l&&(E.value=l),"boolean"==typeof r&&(k.value=!0)},D=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==j?void 0:j.proxy.$ensureAuthorized("login");case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:if(!t||"string"==typeof t){e.next=10;break}return e.abrupt("return",!1);case 10:if((null!=t?t:L.value)&&(null!=n?n:P.value)){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,f,m,_,w,j,k,x,A,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return _=null!=t?t:L.value,w=null!=n?n:P.value,j=null!==(o=null==r?void 0:r.successText)&&void 0!==o?o:E.value,k=null!==(f=null==r?void 0:r.errorText)&&void 0!==f?f:I.value,V.value=!0,x=!0,e.prev=10,e.next=13,C({itemId:_,itemType:w});case 13:0===(A=e.sent).err_no?(T.value=!0,j&&c.Message.success(j)):(x=!1,Object(h.b)(A.err_no)||c.Message.error(A.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),x=!1,c.Message.error(k);case 21:return V.value=!1,[l.d.UserType,l.d.Team].includes(w)&&(M=null!==(m=null==r?void 0:r.teaFollowType)&&void 0!==m?m:S.value,Object(v.c)(v.a.FollowClick,{follow_status:x?1:0,current_page:Object(y.e)(window.location.href),follow_type:M,to_item_id:_,to_item_type:w===l.d.UserType?0:1})),w===l.d.UserType&&O.dispatch(d.FOLLOW_USER),e.abrupt("return",{isSuccess:x,targetStatus:!0});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,h,f,m,_,C,j,k,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return m=null!=t?t:L.value,_=null!=n?n:P.value,C=null!==(o=null==r?void 0:r.successText)&&void 0!==o?o:E.value,j=null!==(h=null==r?void 0:r.errorText)&&void 0!==h?h:I.value,V.value=!0,k=!0,e.prev=10,e.next=13,w({itemId:m,itemType:_});case 13:0===(x=e.sent).err_no?(T.value=!1,C&&c.Message.success("取消".concat(C))):(k=!1,c.Message.error(x.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),k=!1,c.Message.error("取消".concat(j));case 21:return V.value=!1,[l.d.UserType,l.d.Team].includes(_)&&(A=null!==(f=null==r?void 0:r.teaFollowType)&&void 0!==f?f:S.value,Object(v.c)(v.a.FollowCancel,{follow_status:k?1:0,current_page:Object(y.e)(window.location.href),follow_type:A,to_item_id:m,to_item_type:_===l.d.UserType?0:1})),_===l.d.UserType&&O.dispatch(d.UNFOLLOW_USER),e.abrupt("return",{isSuccess:k,targetStatus:!1});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=r?r:T.value)){e.next=7;break}return e.next=4,R(t,n,o);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,M(t,n,o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),$=function(e){var t,n,r;var o=null!==(t=null==e?void 0:e.currentPage)&&void 0!==t?t:Object(y.e)(window.location.href),c=null!==(n=null==e?void 0:e.teaFollowType)&&void 0!==n?n:k.value?S.value:void 0,l=null!==(r=null==e?void 0:e.isFollow)&&void 0!==r?r:k.value?T.value:void 0;void 0!==c&&void 0!==l?Object(v.c)(v.a.FollowShow,{current_page:o,follow_type:c,button_status:l?1:0}):x.push({currentPage:o,teaFollowType:c,isFollow:l})};return A(m),Object(o.y)(k,(function(){k.value&&(x.forEach((function(e){var t=e.currentPage,n=e.teaFollowType,r=e.isFollow;$({currentPage:t,teaFollowType:null!=n?n:S.value,isFollow:null!=r?r:T.value})})),x.splice(0,x.length))})),{isFollow:T,followLoading:V,doFollow:(n=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.do((function(){return M(t,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)}),cancelFollow:(t=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.do((function(){return R(t,n,r)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,n,r){return t.apply(this,arguments)}),toggleFollow:(e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.do((function(){return B(t,n,r,o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t,n,r,o){return e.apply(this,arguments)}),setFollowInfo:A,traceFollowShow:$}}function C(e){var t=e.itemId,n=e.itemType;return Object(m.d)({url:"/interact_api/v1/follow/do",method:"post",showError:!1,body:{id:t,type:n}})}function w(e){var t=e.itemId,n=e.itemType;return Object(m.d)({url:"/interact_api/v1/follow/undo",method:"post",showError:!1,body:{id:t,type:n}})}},881:function(e,t,n){"use strict";var r=n(9),o=n(926),c=n.n(o),l=n(927),d=n.n(l),h=n(928),f=n.n(h),m=n(929),v=n.n(m),y=n(930),_=n.n(y),C=Object(r.d)({props:{type:{type:String,default:"primary"},attention:Boolean,customAttentionText:String,cancelAttentionText:String,size:{type:String,default:"medium"},status:{type:String,default:"default"},disabled:Boolean,loading:Boolean,cancel:Boolean,text:String,icon:String,showIcon:{type:Boolean,default:!0}},setup:function(e,t){var n=Object(r.a)((function(){return e.attention}));return{handleClick:function(n){e.disabled||e.loading||t.emit("click",n)},isAttentionType:n,attentionText:Object(r.a)((function(){return"mini"===e.size&&e.loading?"":e.cancel?e.loading?"取消":e.cancelAttentionText||"已关注":e.customAttentionText||"关注"})),iconSrc:Object(r.a)((function(){return e.loading?e.cancel||n.value&&"primary"!==e.type?v.a:_.a:n.value&&e.showIcon?"mini"===e.size?"":e.icon||e.cancel?f.a:"primary"===e.type?c.a:d.a:""}))}}}),w=(n(931),n(29)),component=Object(w.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"ui-btn",class:[e.type,e.size,e.status,e.cancel?"cancel":"",e.attention?"attention":""],attrs:{disabled:e.disabled||e.loading},on:{click:e.handleClick}},[e.iconSrc?n("img",{staticClass:"img",class:e.loading?"loading":"",attrs:{src:e.iconSrc}}):e._e(),e._v(" "),e.isAttentionType?[e._v(e._s(e.attentionText))]:e._t("default",[e._v(e._s(e.text))])],2)}),[],!1,null,"e1243e7c",null);t.a=component.exports},882:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return v}));n(19),n(17),n(14),n(7),n(16),n(22),n(0);var r=n(4),o=n(13),c=n(1);function l(e){var t=e.comment_id;return Object(c.d)({url:"/interact_api/v1/comment/delete",method:"post",body:{comment_id:String(t)}}).then((function(e){return e.data}))}function d(e){var t=e.comment_id,n=e.reply_id;return Object(c.d)({url:"/interact_api/v1/reply/delete",method:"post",body:{comment_id:t,reply_id:n}}).then((function(e){return e.data}))}function h(e){var t=e.comment_id,n=e.item_id,r=e.item_type,cursor=e.cursor,l=e.limit;return Object(c.d)({url:"/interact_api/v1/reply/list",method:"post",body:{comment_id:t,item_id:n,item_type:r,cursor:cursor,limit:l,client_type:o.e}})}function f(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.d)({url:"/interact_api/v1/comment/hots",method:"post",body:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return Object(c.d)({url:"/interact_api/v1/comment/detail",method:"post",body:{comment_id:e,clent_type:o.e},showError:!1})}},886:function(e,t,n){},888:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n(22);var r=n(4),o=n(5);function c(){var e=Object(o.c)();return{openReportModal:function(t,n){if(e){var r=e.proxy.$getBean("eventBus");r.emit(r.eventType.REPORT_CONTENT,t,n)}}}}function l(e){var t=Object(o.m)({visible:!1,show:!1});function n(){return(n=Object(r.a)(regeneratorRuntime.mark((function n(r,o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.$validLogin()){n.next=2;break}return n.abrupt("return");case 2:t.show||(t.show=!0),t.visible=!0,t.itemId=r,t.idType=o;case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{reportModalData:t,showReportModal:function(e,t){return n.apply(this,arguments)}}}},889:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n(75),n(43),n(20),n(15);var r=function(text){try{var textarea=document.createElement("textarea");document.body.appendChild(textarea),textarea.value=text,textarea.select(),document.execCommand("copy"),document.body.removeChild(textarea)}catch(e){throw"copy link error"}};function o(content){if(!(content=(null==content?void 0:content.trim())||""))return"";var e=((null==content?void 0:content.trim())||"").split("\n")[0];return e.length<=30?e:e.substring(0,30)}},890:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(921),o=n.n(r);function c(content){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:410,svg=new o.a({content:content,color:e,padding:0,width:t,height:t,background:"#ffffff",ecl:"L"}).svg();return"data:image/svg+xml;utf8,".concat(encodeURIComponent(svg))}},895:function(e,t,n){"use strict";n(127);var r=n(44);n(7);function o(e){return new Promise((function(t,n){var img=new window.Image;img.onload=function(){return t({width:img.naturalWidth,height:img.naturalHeight,url:e})},img.onerror=function(){return n()},img.src=e}))}var c=function(){return{loading:!1,loaded:!1,error:!1,src:null,imageStyle:{top:"",left:"",width:"",height:"",transform:""},token:Date.now()}},l={props:["backgroundColor","margin","full"],data:c,methods:{show:function(e){var t=e.thumbUrl,n=e.originalUrl,rect=e.rect;this.loadImage({originalUrl:n,rect:rect}),this.loadTumb({thumbUrl:t,rect:rect})},close:function(){Object.assign(this,c()),this.unlockScroll()},loadTumb:function(e){var t=this,n=e.thumbUrl,rect=e.rect,r=this.token;o(n).then((function(e){if(t.isInSameView(r)&&!t.loaded&&!t.error){var o=t.computeRenderedRect(e.width,e.height);t.applyRect(o),t.src=n,t.applyTransform(t.computeTransform(o,rect))}})).catch((function(e){t.isInSameView(r)&&console.error(e)}))},loadImage:function(e){var t=this,n=e.originalUrl,rect=e.rect,r=this.token;this.loading=!0,o(n).then((function(image){if(t.isInSameView(r)){var e=!!t.src,o=!t.full&&t.isLargeLongImage(image),c=t.computeRenderedRect(image.width,image.height,o);t.applyRect(c),t.src=n,t.loading=!1,t.loaded=!0,o&&t.lockScroll(),e||t.applyTransform(t.computeTransform(c,rect))}})).catch((function(e){t.isInSameView(r)&&(console.error(e),t.loading=!1,t.error=!0)}))},applyRect:function(rect){Object.assign(this.imageStyle,{top:rect.top+"px",left:rect.left+"px",width:rect.width+"px",height:rect.height+"px"})},applyTransform:function(e){var t=this;this.imageStyle.transform=e,this.$nextTick((function(){t.forceReflow(),t.imageStyle.transform=""}))},initScrollEventListener:function(){var e=this,t=this.$getBean("eventBus"),n=t.eventType.ROOT_CONTAINER_SCROLL;t.onVmLife(this,n,(function(){e.src&&e.close()}))},computeRenderedRect:function(e,t,n){var o=Object(r.h)(),c=this.getSafeAreaSize();if(n){var l=Math.min(o.width,e,960),d=l*t/e;return{top:0,left:(o.width-l)/2,width:l,height:d}}var h=e/c.width,f=t/c.height,m=Math.max(h,f,1),v=e/m,y=t/m;return{top:(o.height-y)/2,left:(o.width-v)/2,width:v,height:y}},computeTransform:function(e,rect){var t=rect.width/e.width,n=rect.height/e.height,r=rect.width-e.width,o=rect.height-e.height,c=rect.top-e.top+o/2,l=rect.left-e.left+r/2,d="translate3d(".concat(l,"px, ").concat(c,"px, 0)"),h="scale3d(".concat(t,", ").concat(n,", 1)");return"".concat(d," ").concat(h)},forceReflow:function(){document.body.clientWidth},isInSameView:function(e){return e===this.token},isLargeLongImage:function(image){var e=this.getSafeAreaSize(),t=e.width,n=e.height,r=n/t,o=image.height/image.width,c=o>1&&o>r;return(image.width>t||image.height>n)&&c},getSafeAreaSize:function(){var e=Object(r.h)(),t=e.width,n=e.height;return{width:Math.max(0,t-2*(+this.margin||0)),height:Math.max(0,n-2*(+this.margin||0))}},lockScroll:function(){var e=this.$getBean("eventBus");e.emit(e.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var e=this.$getBean("eventBus");e.emit(e.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)}},mounted:function(){this.initScrollEventListener()}},d=(n(952),n(29)),h=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[e.src?r("div",{staticClass:"image-viewer",class:{loading:e.loading},on:{click:e.close}},[r("div",{staticClass:"image-box",style:{backgroundColor:e.backgroundColor}},[e.error?r("img",{staticClass:"image error",attrs:{src:n(900)}}):r("img",{staticClass:"image",style:e.imageStyle,attrs:{src:e.src}})])]):e._e()])}),[],!1,null,"10b7b0e6",null).exports,f=n(1054),m=n.n(f),v=function(){return{isLargeLongMode:!1,isZoomMode:!1,loading:!1,loaded:!1,error:!1,src:null,offsetX:0,offsetY:0,canZoom:!1,token:Date.now()}},y={props:["backgroundColor","margin","full"],data:v,methods:{show:function(e){var t=e.thumbUrl,n=e.originalUrl,rect=e.rect;this.loadImage({originalUrl:n,rect:rect}),this.loadTumb({thumbUrl:t,rect:rect})},close:function(){this.destroyGesture(),Object.assign(this,v()),this.unlockScroll()},loadTumb:function(e){var t=this,n=e.thumbUrl,r=(e.rect,this.token);o(n).then((function(e){!t.isInSameView(r)||t.loaded||t.error||(t.src=n)})).catch((function(e){t.isInSameView(r)&&console.error(e)}))},loadImage:function(e){var t=this,n=e.originalUrl,r=(e.rect,this.token);this.loading=!0,o(n).then((function(image){if(t.isInSameView(r)){var e=!t.full&&t.isLargeLongImage(image);t.src=n,t.loading=!1,t.loaded=!0,t.isLargeLongMode=e,t.canZoom=t.isLargeImage(image),t.initGesture(),t.isLargeLongMode&&t.lockScroll()}})).catch((function(e){t.isInSameView(r)&&(console.error(e),t.loading=!1,t.error=!0)}))},isInSameView:function(e){return e===this.token},isLargeLongImage:function(image){var e=Object(r.h)(),t=e.width,n=e.height,o=n/t,c=image.height/image.width,l=c>1&&c>o;return(image.width>t||image.height>n)&&l},isLargeImage:function(image){var e=Object(r.h)(),t=e.width;return e.height<image.height||t<image.width},lockScroll:function(){var e=this.$getBean("eventBus");e.emit(e.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var e=this.$getBean("eventBus");e.emit(e.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)},initScrollEventListener:function(){var e=this,t=this.$getBean("eventBus"),n=t.eventType.ROOT_CONTAINER_SCROLL;t.onVmLife(this,n,(function(){e.src&&!e.isZoomMode&&e.close()}))},adjustOffset:function(){var e=Object(r.h)(),t=e.width,n=e.height,rect=this.$refs.image.getBoundingClientRect();rect.width<t?this.offsetX=0:rect.left>0?this.offsetX-=rect.left:rect.left+rect.width<t&&(this.offsetX+=t-rect.left-rect.width),rect.height<n?this.offsetY=0:rect.top>0?this.offsetY-=rect.top:rect.top+rect.height<n&&(this.offsetY+=n-rect.top-rect.height)},initGesture:function(){var e=this;this.$nextTick((function(){e.finger=new m.a(e.$refs.imageBox,{singleTap:function(t){e.isZoomMode?(e.isZoomMode=!1,e.offsetX=0,e.offsetY=0):e.close()},doubleTap:function(t){e.canZoom&&(e.isZoomMode=!e.isZoomMode,e.isZoomMode?e.lockScroll():(e.unlockScroll(),e.offsetX=0,e.offsetY=0))},pressMove:function(t){var n=t.deltaX,r=t.deltaY;e.isZoomMode&&(e.offsetX+=n,e.offsetY+=r)},touchEnd:function(){e.isZoomMode&&window.setTimeout((function(){e.adjustOffset()}),100)}})}))},destroyGesture:function(){this.finger&&this.finger.destroy()}},mounted:function(){this.initScrollEventListener()}};n(953);var _={components:{Desktop:h,Mobile:Object(d.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[e.src?r("div",{staticClass:"image-viewer mobile",class:{loading:e.loading}},[r("div",{ref:"imageBox",staticClass:"image-box",class:{"large-long":e.isLargeLongMode},style:{backgroundColor:e.backgroundColor}},[e.error?r("img",{staticClass:"image error",attrs:{src:n(900)}}):r("img",{ref:"image",staticClass:"image",class:{zoom:e.isZoomMode},style:{transform:"translate3d("+e.offsetX+"px, "+e.offsetY+"px, 0)"},attrs:{src:e.src}})])]):e._e()])}),[],!1,null,"93a27598",null).exports},props:["selector","backgroundColor","margin","full"],data:function(){return{component:null}},mounted:function(){this.component=this.$device.isMobile?"Mobile":"Desktop"},beforeDestroy:function(){this.removeEventListener()},methods:{attachContainer:function(e){this.container!==e&&(this.removeEventListener(),this.addEventListener(e),this.container=e)},onClick:function(e){var t,n=e.target;if(this.isMatched(n)){var r=(t=n).getAttribute("data-src")||t.getAttribute("src")||function(e){var t=(e.style.backgroundImage||"").match(/url\("?'?(.+?)"?'?\)/i);return t&&t[1]}(t);if(r){var o=this.$imgUrlTransform(r),rect=n.getBoundingClientRect();this.$refs.viewer.show({thumbUrl:r,originalUrl:o,rect:rect})}}},addEventListener:function(e){var t=this;e.__removeIamgeViewListener=Object(r.k)(e,"click",(function(e){t.onClick(e)}),!0)},removeEventListener:function(){this.container&&this.container.__removeIamgeViewListener()},isMatched:function(e){return!e.classList.contains("equation")&&!this.$el.contains(e)&&Object(r.j)(e,this.selector||"img")}}},C=(n(954),Object(d.a)(_,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"image-viewer-box"},[t(this.component,{ref:"viewer",tag:"component",attrs:{selector:this.selector,"background-color":this.backgroundColor,margin:this.margin,full:this.full}})],1)}),[],!1,null,"34cee571",null));t.a=C.exports},896:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return _})),n.d(t,"a",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"e",(function(){return O}));var r=n(1);function o(e,t,n){return Object(r.c)({url:"/tag_api/v1/query_category_list",method:"POST",showError:e,headers:t,jsonBody:n})}function c(data,e,t,n){return Object(r.c)({url:"/interact_api/v1/digg/cancel",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function l(data,e,t,n){return Object(r.c)({url:"/interact_api/v1/digg/save",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function d(data,e,t,n){return Object(r.c)({url:"/content_api/v1/column/articles_cursor",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function h(data,e,t,n){return Object(r.c)({url:"/tag_api/v1/theme/list_by_hot",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function f(data,e,t,n){return Object(r.c)({url:"/recommend_api/v1/short_msg/detail_rec",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function m(data,e,t,n){return Object(r.c)({url:"/interact_api/v1/message/set_all_read",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function v(data,e,t,n){return Object(r.c)({url:"/list_api/v1/annual/user_annual",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function y(data,e,t,n){return Object(r.c)({url:"/tag_api/v1/query_tag_list",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function _(data,e,t,n){return Object(r.c)({url:"/tag_api/v1/query_topic_detail",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function C(data,e,t,n){return Object(r.c)({url:"/booklet_api/v1/reading/submit_progress",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function w(data,e,t,n){return Object(r.c)({url:"/tag_api/v1/topic/list_by_search_cursor",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}function O(data,e,t,n){return Object(r.c)({url:"/interact_api/v1/digg/user_list",body:data,method:"POST",showError:e,headers:t,jsonBody:n})}},897:function(e,t,n){"use strict";n(22);var r=n(4),o=(n(39),n(46),n(65),n(5)),c=n(9),l=n(73),d=n(8),h=n(82),f=n(3),m=n(948),v=n(949),y=n(945),_=n.n(y),C=n(958),w=n.n(C),O=n(888),j=Object(c.d)({components:{BlockAuthorIcon:_.a,ReportIcon:w.a},props:{comment:{type:Object},disType:{type:Number,required:!0}},emits:["block"],setup:function(e,t){var n=t.emit,r=t.root,l=Object(O.a)().openReportModal,h=Object(o.x)(),m=Object(c.a)((function(){return h.getters[f.USER]}));return{handleBlock:function(){m.value?n("block"):r.$requestLogin()},handleReport:function(){var t,n,r,o=(null===(t=e.comment)||void 0===t?void 0:t.comment_id)||(null===(r=null===(n=e.comment)||void 0===n?void 0:n.reply_info)||void 0===r?void 0:r.reply_id)||"";l(o,d.IdType.CommentIdType)},commentUserName:Object(c.a)((function(){var t;return null===(t=e.comment)||void 0===t?void 0:t.user_info.user_name}))}}}),V=(n(959),n(29)),k=Object(V.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dislike-list"},[n("div",{staticClass:"dislike-menu"},[n("ul",[n("li",{staticClass:"dislike-li block-author",on:{click:function(t){return t.stopPropagation(),e.handleBlock(t)}}},[n("BlockAuthorIcon",{staticClass:"icon"}),e._v(" "),n("span",{staticClass:"text"},[e._v("屏蔽作者: "+e._s(e.commentUserName))])],1),e._v(" "),n("li",{staticClass:"dislike-li",on:{click:function(t){return t.stopPropagation(),e.handleReport(t)}}},[n("ReportIcon",{staticClass:"icon"}),e._v(" "),n("span",{staticClass:"text"},[e._v("举报")])],1)])])])}),[],!1,null,"1e60aa22",null).exports,x=Object(c.d)({components:{Menu:k,DislikeButton:m.a,Modal:v.a},props:{comment:{type:Object},disType:{type:Number,required:!0}},setup:function(e){var t=Object(o.x)(),n=Object(c.a)((function(){var n,r,o,c;return(null!==(o=null===(r=null===(n=null==t?void 0:t.state)||void 0===n?void 0:n.dislike)||void 0===r?void 0:r.whiteList)&&void 0!==o?o:[]).includes(null===(c=e.comment)||void 0===c?void 0:c.user_info.user_id)})),m=Object(c.a)((function(){return t.getters[f.USER]})),v=Object(c.r)(!1),y=Object(c.r)(!1);function _(){return(_=Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.MUpdateDislike({item_ids:[(null===(r=null===(n=e.comment)||void 0===n?void 0:n.user_info)||void 0===r?void 0:r.user_id)||""],item_type:d.IdType.UserIdType,action:1,dis_type:e.disType});case 3:l.Message.success({duration:2e3,closable:!1,isHtml:!0,content:'屏蔽成功，在<a target="_blank" href="/user/settings/block?type=author&pin=true">「屏蔽管理」</a>可取消屏蔽'}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),(null===t.t0||void 0===t.t0?void 0:t.t0.statusCode)===d.ERROR_NO.AUTHOR_DISLIKE_LIMIT?('<p class="block-failed-message">屏蔽沸点作者<span class="highlight">已达上限100</span>，</p><p class="block-failed-message">是否前往<a target="_blank" href="/user/settings/block?type=author&pin=true">「屏蔽管理」</a>清理屏蔽作者？</p>',l.Message.warning({duration:2e3,closable:!1,isHtml:!0,content:'<p class="block-failed-message">屏蔽沸点作者<span class="highlight">已达上限100</span>，</p><p class="block-failed-message">是否前往<a target="_blank" href="/user/settings/block?type=author&pin=true">「屏蔽管理」</a>清理屏蔽作者？</p>'})):l.Message.warning({duration:2e3,closable:!1,content:"屏蔽失败"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return{isWhiteList:n,userInfo:Object(c.a)((function(){var t;return null===(t=e.comment)||void 0===t?void 0:t.user_info})),isSelf:Object(c.a)((function(){var t,n,r;return(null===(n=null===(t=e.comment)||void 0===t?void 0:t.user_info)||void 0===n?void 0:n.user_id)===(null===(r=m.value)||void 0===r?void 0:r.user_id)})),isMenuShow:v,handleMouseEnter:function(){v.value=!0},handleMouseLeave:function(){v.value=!1},isModalShow:y,handleBlock:function(){y.value=!0},handleModalClose:function(){y.value=!1},handleModalOk:function(){y.value=!1,function(){_.apply(this,arguments)}()}}}}),T=Object(V.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSelf||e.isWhiteList?e._e():n("div",{staticClass:"dislike-container",on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave}},[n("DislikeButton",[n("Menu",{directives:[{name:"show",rawName:"v-show",value:e.isMenuShow,expression:"isMenuShow"}],attrs:{disType:e.disType,comment:e.comment},on:{block:e.handleBlock}})],1),e._v(" "),n("Modal",{attrs:{value:e.isModalShow,user:e.userInfo},on:{"on-close":e.handleModalClose,"on-ok":e.handleModalOk}})],1)}),[],!1,null,"2bcd6282",null);t.a=T.exports},900:function(e,t,n){e.exports=n.p+"img/image-error.3338abe.png"},901:function(e,t,n){},902:function(e,t,n){},903:function(e,t,n){},904:function(e,t,n){},905:function(e,t,n){},906:function(e,t,n){},918:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(14),n(48),n(7),n(22);var r=n(4),o=n(13),c=n(1);function l(e,t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark((function e(t,c){var l,d,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(38).then(n.t.bind(null,1048,7));case 3:return l=e.sent,d=l.default,e.next=7,h();case 7:return m=e.sent,v=function(e){return new Promise((function(n,r){try{var c=new d({userId:t,appId:o.e,imageConfig:{serviceId:"k3u1fbpfcp"}}),l=c.addFile({file:e,stsToken:m,type:"image"});c.on("complete",(function(e){n(e.uploadResult)})),c.on("error",(function(e){console.log(e.extra,"bytedUploader Error"),r(e.extra)})),c.start(l)}catch(e){r(e)}}))},e.next=11,Promise.all(c.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return n=e.sent,r=n.ImageHeight,o=n.ImageWidth,c=n.Uri,e.next=8,f(c);case 8:return l=e.sent,e.abrupt("return",{ImageHeight:r,ImageWidth:o,Uri:c,Url:l.data.main_url});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(0),new Error("上传图片失败");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function h(){return Object(c.d)({url:"/imagex/gen_token",query:{client:"web"}}).then((function(e){return e.data.token}))}function f(e){return Object(c.d)({url:"/imagex/get_img_url",query:{uri:e}})}},920:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=["jpg","jpeg","png","gif","webp"],o=5242880,c=9,l=1e3,d=["jpg","png","gif"]},921:function(e,t,n){function r(data){this.mode=c.MODE_8BIT_BYTE,this.data=data,this.parsedData=[];for(var i=0,e=this.data.length;i<e;i++){var t=[],code=this.data.charCodeAt(i);code>65536?(t[0]=240|(1835008&code)>>>18,t[1]=128|(258048&code)>>>12,t[2]=128|(4032&code)>>>6,t[3]=128|63&code):code>2048?(t[0]=224|(61440&code)>>>12,t[1]=128|(4032&code)>>>6,t[2]=128|63&code):code>128?(t[0]=192|(1984&code)>>>6,t[1]=128|63&code):t[0]=code,this.parsedData.push(t)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function o(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}r.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var i=0,t=this.parsedData.length;i<t;i++)e.put(this.parsedData[i],8)}},o.prototype={addData:function(data){var e=new r(data);this.dataList.push(e),this.dataCache=null},isDark:function(e,col){if(e<0||this.moduleCount<=e||col<0||this.moduleCount<=col)throw new Error(e+","+col);return this.modules[e][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++)this.modules[n][col]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,col){for(var t=-1;t<=7;t++)if(!(e+t<=-1||this.moduleCount<=e+t))for(var n=-1;n<=7;n++)col+n<=-1||this.moduleCount<=col+n||(this.modules[e+t][col+n]=0<=t&&t<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==t||6==t)||2<=t&&t<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,pattern=0,i=0;i<8;i++){this.makeImpl(!0,i);var t=V.getLostPoint(this);(0==i||e>t)&&(e=t,pattern=i)}return pattern},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n);this.make();for(var o=0;o<this.modules.length;o++)for(var c=1*o,col=0;col<this.modules[o].length;col++){var l=1*col;this.modules[o][col]&&(r.beginFill(0,100),r.moveTo(l,c),r.lineTo(l+1,c),r.lineTo(l+1,c+1),r.lineTo(l,c+1),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=V.getPatternPosition(this.typeNumber),i=0;i<e.length;i++)for(var t=0;t<e.length;t++){var n=e[i],col=e[t];if(null==this.modules[n][col])for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)this.modules[n+r][col+o]=-2==r||2==r||-2==o||2==o||0==r&&0==o}},setupTypeNumber:function(e){for(var t=V.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!e&&1==(t>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(e,t){for(var data=this.errorCorrectLevel<<3|t,n=V.getBCHTypeInfo(data),i=0;i<15;i++){var r=!e&&1==(n>>i&1);i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(i=0;i<15;i++){r=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!e},mapData:function(data,e){for(var t=-1,n=this.moduleCount-1,r=7,o=0,col=this.moduleCount-1;col>0;col-=2)for(6==col&&col--;;){for(var c=0;c<2;c++)if(null==this.modules[n][col-c]){var l=!1;o<data.length&&(l=1==(data[o]>>>r&1)),V.getMask(e,n,col-c)&&(l=!l),this.modules[n][col-c]=l,-1==--r&&(o++,r=7)}if((n+=t)<0||this.moduleCount<=n){n-=t,t=-t;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(e,t,n){for(var r=T.getRSBlocks(e,t),c=new L,i=0;i<n.length;i++){var data=n[i];c.put(data.mode,4),c.put(data.getLength(),V.getLengthInBits(data.mode,e)),data.write(c)}var l=0;for(i=0;i<r.length;i++)l+=r[i].dataCount;if(c.getLengthInBits()>8*l)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*l+")");for(c.getLengthInBits()+4<=8*l&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*l||(c.put(o.PAD0,8),c.getLengthInBits()>=8*l));)c.put(o.PAD1,8);return o.createBytes(c,r)},o.createBytes=function(e,t){for(var n=0,r=0,o=0,c=new Array(t.length),l=new Array(t.length),d=0;d<t.length;d++){var h=t[d].dataCount,f=t[d].totalCount-h;r=Math.max(r,h),o=Math.max(o,f),c[d]=new Array(h);for(var i=0;i<c[d].length;i++)c[d][i]=255&e.buffer[i+n];n+=h;var m=V.getErrorCorrectPolynomial(f),v=new x(c[d],m.getLength()-1).mod(m);l[d]=new Array(m.getLength()-1);for(i=0;i<l[d].length;i++){var y=i+v.getLength()-l[d].length;l[d][i]=y>=0?v.get(y):0}}var _=0;for(i=0;i<t.length;i++)_+=t[i].totalCount;var data=new Array(_),C=0;for(i=0;i<r;i++)for(d=0;d<t.length;d++)i<c[d].length&&(data[C++]=c[d][i]);for(i=0;i<o;i++)for(d=0;d<t.length;d++)i<l[d].length&&(data[C++]=l[d][i]);return data};for(var c={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l=1,d=0,h=3,f=2,m=0,v=1,y=2,_=3,C=4,w=5,O=6,j=7,V={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(data){for(var e=data<<10;V.getBCHDigit(e)-V.getBCHDigit(V.G15)>=0;)e^=V.G15<<V.getBCHDigit(e)-V.getBCHDigit(V.G15);return(data<<10|e)^V.G15_MASK},getBCHTypeNumber:function(data){for(var e=data<<12;V.getBCHDigit(e)-V.getBCHDigit(V.G18)>=0;)e^=V.G18<<V.getBCHDigit(e)-V.getBCHDigit(V.G18);return data<<12|e},getBCHDigit:function(data){for(var e=0;0!=data;)e++,data>>>=1;return e},getPatternPosition:function(e){return V.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,i,t){switch(e){case m:return(i+t)%2==0;case v:return i%2==0;case y:return t%3==0;case _:return(i+t)%3==0;case C:return(Math.floor(i/2)+Math.floor(t/3))%2==0;case w:return i*t%2+i*t%3==0;case O:return(i*t%2+i*t%3)%2==0;case j:return(i*t%3+(i+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var a=new x([1],0),i=0;i<e;i++)a=a.multiply(new x([1,k.gexp(i)],0));return a},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case c.MODE_NUMBER:return 10;case c.MODE_ALPHA_NUM:return 9;case c.MODE_8BIT_BYTE:case c.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case c.MODE_NUMBER:return 12;case c.MODE_ALPHA_NUM:return 11;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case c.MODE_NUMBER:return 14;case c.MODE_ALPHA_NUM:return 13;case c.MODE_8BIT_BYTE:return 16;case c.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var col=0;col<t;col++){for(var o=0,c=e.isDark(r,col),l=-1;l<=1;l++)if(!(r+l<0||t<=r+l))for(var d=-1;d<=1;d++)col+d<0||t<=col+d||0==l&&0==d||c==e.isDark(r+l,col+d)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<t-1;r++)for(col=0;col<t-1;col++){var h=0;e.isDark(r,col)&&h++,e.isDark(r+1,col)&&h++,e.isDark(r,col+1)&&h++,e.isDark(r+1,col+1)&&h++,0!=h&&4!=h||(n+=3)}for(r=0;r<t;r++)for(col=0;col<t-6;col++)e.isDark(r,col)&&!e.isDark(r,col+1)&&e.isDark(r,col+2)&&e.isDark(r,col+3)&&e.isDark(r,col+4)&&!e.isDark(r,col+5)&&e.isDark(r,col+6)&&(n+=40);for(col=0;col<t;col++)for(r=0;r<t-6;r++)e.isDark(r,col)&&!e.isDark(r+1,col)&&e.isDark(r+2,col)&&e.isDark(r+3,col)&&e.isDark(r+4,col)&&!e.isDark(r+5,col)&&e.isDark(r+6,col)&&(n+=40);var f=0;for(col=0;col<t;col++)for(r=0;r<t;r++)e.isDark(r,col)&&f++;return n+=10*(Math.abs(100*f/t/t-50)/5)}},k={glog:function(e){if(e<1)throw new Error("glog("+e+")");return k.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return k.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)k.EXP_TABLE[i]=1<<i;for(i=8;i<256;i++)k.EXP_TABLE[i]=k.EXP_TABLE[i-4]^k.EXP_TABLE[i-5]^k.EXP_TABLE[i-6]^k.EXP_TABLE[i-8];for(i=0;i<255;i++)k.LOG_TABLE[k.EXP_TABLE[i]]=i;function x(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function T(e,t){this.totalCount=e,this.dataCount=t}function L(){this.buffer=[],this.length=0}x.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<e.getLength();n++)t[i+n]^=k.gexp(k.glog(this.get(i))+k.glog(e.get(n)));return new x(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=k.glog(this.get(0))-k.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=k.gexp(k.glog(e.get(i))+t);return new x(n,0).mod(e)}},T.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],T.getRSBlocks=function(e,t){var n=T.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=[],i=0;i<r;i++)for(var c=n[3*i+0],l=n[3*i+1],d=n[3*i+2],h=0;h<c;h++)o.push(new T(l,d));return o},T.getRsBlockTable=function(e,t){switch(t){case l:return T.RS_BLOCK_TABLE[4*(e-1)+0];case d:return T.RS_BLOCK_TABLE[4*(e-1)+1];case h:return T.RS_BLOCK_TABLE[4*(e-1)+2];case f:return T.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},L.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var P=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function S(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof e&&(e={content:e}),e)for(var i in e)this.options[i]=e[i];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var content=this.options.content,t=function(content,e){for(var t=function(content){var e=encodeURI(content).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=content?3:0)}(content),n=1,r=0,i=0,o=P.length;i<=o;i++){var table=P[i];if(!table)throw new Error("Content too long: expected "+r+" but got "+t);switch(e){case"L":r=table[0];break;case"M":r=table[1];break;case"Q":r=table[2];break;case"H":r=table[3];break;default:throw new Error("Unknwon error correction level: "+e)}if(t<=r)break;n++}if(n>P.length)throw new Error("Content too long");return n}(content,this.options.ecl),n=function(e){switch(e){case"L":return l;case"M":return d;case"Q":return h;case"H":return f;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new o(t,n),this.qrcode.addData(content),this.qrcode.make()}S.prototype.svg=function(e){void 0===e&&(e={container:"svg"});for(var t=this.options,n=this.qrcode.modules,r=t.width,o=t.height,c=n.length,l=r/(c+2*t.padding),d=o/(c+2*t.padding),rect='<rect x="0" y="0" width="'+r+'" height="'+o+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>\r\n',h=0;h<c;h++)for(var f=0;f<c;f++){if(n[f][h])rect+='<rect x="'+(f*l+t.padding*l).toString()+'" y="'+(h*d+t.padding*d).toString()+'" width="'+l+'" height="'+d+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>\r\n'}var svg="";switch(e.container){case"svg":svg+='<?xml version="1.0" standalone="yes"?>\r\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+r+'" height="'+o+'">\r\n',svg+=rect,svg+="</svg>";break;case"g":svg+='<g width="'+r+'" height="'+o+'">\r\n',svg+=rect,svg+="</g>";break;default:svg+=rect}return svg},S.prototype.save=function(e,t){var data=this.svg();n(984).writeFile(e,data,t)},e.exports=S},923:function(e,t,n){},924:function(e,t,n){},925:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d}));n(38),n(26),n(27),n(442),n(7);var r=[{name:"jpg",regx:/^ffd8ff/},{name:"gif",regx:/^474946/},{name:"png",regx:/89504e47/},{name:"webp",regx:/57454250/},{name:"bmp",regx:/^424d/},{name:"any",regx:/./}];function o(e,t){return function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){return t(e.target.result)},r.onerror=function(e){return n(e)},r.readAsArrayBuffer(e.slice(0,64))}))}(e).then(c).then(l.bind(null,t))}function c(e){return Array.prototype.slice.call(new Uint8Array(e)).reduce((function(e,data){return e+data.toString(16)}),"")}function l(e,header){for(var i=0;i<r.length;i++)if(r[i].regx.test(header))return-1!==e.indexOf(r[i].name);return!1}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readAsText";return new Promise((function(n,r){var o=new FileReader;o.onerror=function(e){r(e)},o.onload=function(){n(o.result)},o[t](e)}))}},926:function(e,t,n){e.exports=n.p+"c5c64e06a56896da43c1d084d2482cf3.svg"},927:function(e,t,n){e.exports=n.p+"bd960fe696b2c2b82cea3c0e2e2f2aae.svg"},928:function(e,t,n){e.exports=n.p+"062856d97fc330530a3a64c01d915edc.svg"},929:function(e,t,n){e.exports=n.p+"img/loading.b144729.png"},930:function(e,t,n){e.exports=n.p+"img/loading-light.e96acb8.png"},931:function(e,t,n){"use strict";n(886)},933:function(e,t,n){},938:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n(39),n(46);var r=n(56),o={left:[{id:0,title:"综合"},{id:2,title:"文章"},{id:12,title:"课程"},{id:9,title:"标签"},{id:1,title:"用户"}],right:[{id:0,title:"时间不限"},{id:1,title:"最近一天"},{id:2,title:"最近一周"},{id:3,title:"最近三月"}]},c=function(){return document.referrer.includes("/search")},l=function(){if(!c())return{};try{var e=sessionStorage.getItem("SEARCH_PARAMS"),t=JSON.parse(e),n=t.query,o=t.search_attached_info,l=void 0===o?"":o,d=t.rank,h=t.display_search_type;return{query:n,detail_from:r.a.searchResult,search_attached_info:l,rank:d,display_search_type:h}}catch(e){return{}}}},941:function(e,t,n){"use strict";var r={props:["type"],computed:{title:function(){return"fail"===this.type?"审核未通过":"审核中"},classList:function(){return"fail"===this.type?" audit-fail":"audit-wait"}}},o=(n(1028),n(29)),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("a",{class:["audit-tag",this.classList],attrs:{href:"https://juejin.cn/book/6844733795329900551/section/6876001660431400967",target:"_blank"}},[this._v("\n  "+this._s(this.title)+"\n")])}),[],!1,null,"c1f3c8ba",null);t.a=component.exports},945:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.21356 7.13688C9.49486 7.13688 10.5336 6.09818 10.5336 4.81688C10.5336 3.53557 9.49486 2.49688 8.21356 2.49688C6.93225 2.49688 5.89356 3.53557 5.89356 4.81688C5.89356 6.09818 6.93225 7.13688 8.21356 7.13688ZM8.21356 8.33688C10.1576 8.33688 11.7336 6.76092 11.7336 4.81688C11.7336 2.87283 10.1576 1.29688 8.21356 1.29688C6.26951 1.29688 4.69355 2.87283 4.69355 4.81688C4.69355 6.76092 6.26951 8.33688 8.21356 8.33688ZM5.91749 10.5125C4.30178 10.5125 2.99199 11.8223 2.99199 13.438C2.99199 13.4706 3.01845 13.4971 3.05108 13.4971H7.53515C7.86652 13.4971 8.13515 13.7657 8.13515 14.0971C8.13515 14.4285 7.86652 14.6971 7.53515 14.6971H3.05108C2.35571 14.6971 1.79199 14.1334 1.79199 13.438C1.79199 11.1595 3.63904 9.3125 5.91749 9.3125H7.53515C7.86652 9.3125 8.13515 9.58113 8.13515 9.9125C8.13515 10.2439 7.86652 10.5125 7.53515 10.5125H5.91749ZM9.78025 10.1265C10.0146 9.8922 10.3945 9.8922 10.6288 10.1265L11.908 11.4057L13.1833 10.1304C13.4176 9.89611 13.7975 9.89611 14.0318 10.1304C14.2661 10.3647 14.2661 10.7446 14.0318 10.979L12.7565 12.2542L14.0229 13.5206C14.2572 13.7549 14.2572 14.1348 14.0229 14.3692C13.7886 14.6035 13.4087 14.6035 13.1744 14.3692L11.908 13.1028L10.6377 14.3731C10.4034 14.6074 10.0235 14.6074 9.78914 14.3731C9.55483 14.1388 9.55483 13.7589 9.78914 13.5245L11.0594 12.2542L9.78025 10.975C9.54594 10.7407 9.54594 10.3608 9.78025 10.1265Z",fill:"#4E5969"}})]))}}},948:function(e,t,n){"use strict";var r=n(9),o=n(955),c=n.n(o),l=Object(r.d)({components:{Icon:c.a},setup:function(){return{}}}),d=(n(956),n(29)),component=Object(d.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dislike-button"},[t("span",{staticClass:"icon"},[t("Icon")],1),this._v(" "),this._t("default")],2)}),[],!1,null,"a2716050",null);t.a=component.exports},949:function(e,t,n){"use strict";n(39),n(46);var r=n(5),o=n(9),c=n(73),l=Object(o.d)({components:{Modal:c.Modal,Button:c.Button},props:{value:{type:Boolean},user:{type:Object}},emits:["on-close","on-ok"],setup:function(e,t){var n=t.emit,c=Object(r.x)(),l=Object(o.a)((function(){var e,t,n;return null!==(n=null===(t=null===(e=null==c?void 0:c.state)||void 0===e?void 0:e.dislike)||void 0===t?void 0:t.officialList)&&void 0!==n?n:[]}));return{isOfficial:Object(o.a)((function(){var t,n,r;return null===(n=null===(t=l.value)||void 0===t?void 0:t.includes)||void 0===n?void 0:n.call(t,null===(r=e.user)||void 0===r?void 0:r.user_id)})),username:Object(o.a)((function(){var t;return null===(t=e.user)||void 0===t?void 0:t.user_name})),isModalShow:Object(o.a)((function(){return e.value})),handleModalOk:function(){return n("on-ok")},handleModalClose:function(){return n("on-close")}}}}),d=(n(957),n(29)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{staticClass:"dislike-modal",attrs:{value:e.isModalShow,"footer-hide":!0,closable:!1}},[n("div",{staticClass:"container"},[n("div",{staticClass:"title"},[e._v("确定屏蔽该用户")]),e._v(" "),n("div",{staticClass:"content"},[e.isOfficial?n("span",[e._v("\n        确定屏蔽官方账号\n        "),n("span",{staticClass:"username"},[e._v(e._s(e.username))]),e._v("\n        吗 ？屏蔽后可能错过丰富礼品和重要信息哦\n      ")]):n("span",[e._v("\n        屏蔽后，对方将不能关注你、与你产生任何互动，无法查看你的主页\n      ")])]),e._v(" "),n("div",{staticClass:"footer"},[n("Button",{staticClass:"btn-cancel",on:{click:e.handleModalClose}},[e._v("取消")]),e._v(" "),n("Button",{staticClass:"btn-confirm",attrs:{type:"primary"},on:{click:e.handleModalOk}},[e._v("\n        确定\n      ")])],1)])])}),[],!1,null,"50548bfc",null);t.a=component.exports},950:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return y}));n(43);var r=n(185);function o(e){e.preventDefault(),window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{var text=window.clipboardData.getData("Text");try{window.getSelection().createRange().pasteHTML(text)}catch(e){var t=document.createTextNode(text);window.getSelection().getRangeAt(0).insertNode(t)}}catch(t){var n=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n)}}function c(e){if(document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}function l(){return"function"==typeof document.createRange||"function"==typeof window.getSelection}function d(){var e=null,t=null;return l?(t=document.getSelection()).getRangeAt&&t.rangeCount&&(e=document.getSelection().getRangeAt(0)):e=document.selection.createRange(),e}function h(html){var text=html;return text=text.replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<!DOCTYPE.*?>/gi,"").replace(/<\/div>/gi,"").replace(/(<br><div>|<div>|<br>)/gi,"\n").replace(/&nbsp;/gi,"").replace(/<.*?>/gi,"").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/g,'"')}function f(e,t){var n="",r=e.clipboardData.items;if(r){for(var i=0;i<r.length;i++)-1!=r[i].type.indexOf("image")&&(n=r[i].getAsFile());"function"==typeof t&&n&&t(n)}}function m(e){window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{return window.clipboardData.getData("Text")}catch(t){return(e.originalEvent||e).clipboardData.getData("text/plain")}}function v(e,html){var t,n,r=d();if(r&&function e(t,n){return!(!n||!t)&&(t===n||e(t,n.parentElement))}(e,r.startContainer)||c(e),e.focus(),window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents(),(e=document.createElement("div")).innerHTML=html;for(var o,l,h=document.createDocumentFragment();o=e.firstChild;)l=h.appendChild(o);n.insertNode(h),l&&((n=n.cloneRange()).setStartAfter(l),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)}function y(e){var t=d(),n=t.startContainer;if(3===n.nodeType){for(var text=n.nodeValue,o=t.startOffset-1,c=t.endOffset-1,h=[];o>=0;){if("["===text[o]){h[0]=o;break}o--}for(;c<=text.length-1;){if("]"===text[c]){h[1]=c;break}c++}if(void 0!==h[0]&&void 0!==h[1]){var f=text.slice(h[0],h[1]+1),m=Object(r.c)(f);if(m){var y=document.createRange();y.setStart(n,h[0]),y.setEnd(n,h[1]+1),function(e){if(e){var t=null,n=null;l?((n=document.getSelection()).removeAllRanges(),n.addRange(e)):((t=document.selection.createRange()).setEndPoint("EndToEnd",e),0===e.text.length?t.collapse(!1):t.setEndPoint("StartToStart",e),t.select())}}(y),v(e,m)}}}}},952:function(e,t,n){"use strict";n(901)},953:function(e,t,n){"use strict";n(902)},954:function(e,t,n){"use strict";n(903)},955:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("circle",{attrs:{cx:"2.33301",cy:"8",r:"1.0625",fill:"#8A919F"}}),n("circle",{attrs:{cx:"8",cy:"8",r:"1.0625",fill:"#8A919F"}}),n("circle",{attrs:{cx:"13.667",cy:"8",r:"1.0625",fill:"#8A919F"}})]))}}},956:function(e,t,n){"use strict";n(904)},957:function(e,t,n){"use strict";n(905)},958:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.06904 2.67359L13.856 12.6969C13.8684 12.7183 13.8687 12.7297 13.8686 12.7359C13.8684 12.7457 13.8654 12.7606 13.856 12.7769C13.8466 12.7932 13.8352 12.8032 13.8268 12.8083C13.8215 12.8115 13.8114 12.8169 13.7867 12.8169H2.21282C2.18809 12.8169 2.17799 12.8115 2.17273 12.8083C2.16432 12.8032 2.15294 12.7932 2.14354 12.7769C2.13413 12.7606 2.13109 12.7457 2.13092 12.7359C2.13081 12.7297 2.13117 12.7183 2.14354 12.6969L7.93048 2.67359C7.94284 2.65218 7.95258 2.64614 7.95795 2.64316C7.96654 2.6384 7.98095 2.63359 7.99976 2.63359C8.01858 2.63359 8.03299 2.6384 8.04157 2.64316C8.04694 2.64614 8.05668 2.65218 8.06904 2.67359ZM6.89125 2.07359C7.38392 1.22026 8.6156 1.22026 9.10828 2.07359L14.8952 12.0969C15.3879 12.9502 14.7721 14.0169 13.7867 14.0169H2.21282C1.22747 14.0169 0.611633 12.9502 1.10431 12.0969L6.89125 2.07359ZM7.99976 5.29656C8.33113 5.29656 8.59976 5.56519 8.59976 5.89656L8.59976 9.56844C8.59976 9.89981 8.33113 10.1684 7.99976 10.1684C7.66839 10.1684 7.39976 9.89981 7.39976 9.56844V5.89656C7.39976 5.56519 7.66839 5.29656 7.99976 5.29656ZM8.59976 11.2872C8.59976 11.6186 8.33113 11.8872 7.99976 11.8872C7.66839 11.8872 7.39976 11.6186 7.39976 11.2872C7.39976 10.9558 7.66839 10.6872 7.99976 10.6872C8.33113 10.6872 8.59976 10.9558 8.59976 11.2872Z",fill:"#4E5969"}})]))}}},959:function(e,t,n){"use strict";n(906)},961:function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w}));var r=n(1183),o=n.n(r),c=n(1184),l=n.n(c),d=n(1185),h=n.n(d),f=n(1186),m=n.n(f),v=n(1187),y=n.n(v),_=function(s){return s.attributes["*"].push("data*"),s},C=["arduino","bash","c","cpp","csharp","css","diff","go","ini","java","javascript","json","kotlin","less","lua","makefile","markdown","objectivec","perl","php","phpTemplate","plaintext","python","pythonRepl","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","xml","yaml","html","dart","scala","vbscript","erlang","matlab"],w={vbscript:o.a,erlang:l.a,matlab:h.a,dart:m.a,scala:y.a}},963:function(e,t,n){},964:function(e,t,n){},965:function(e,t,n){},966:function(e,t,n){},967:function(e,t,n){},968:function(e,t,n){},974:function(e,t,n){n(19),n(17),n(14),n(7),n(16);var r=n(126),o=n(164);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}e.exports={functional:!0,render:function(e,t){var n=t._c,data=(t._v,t.data),l=t.children,d=void 0===l?[]:l,h=data.class,f=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){r(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({class:[h,f],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("circle",{attrs:{cx:"2.33301",cy:"8",r:"1.0625",fill:"#8A919F"}}),n("circle",{attrs:{cx:"8",cy:"8",r:"1.0625",fill:"#8A919F"}}),n("circle",{attrs:{cx:"13.667",cy:"8",r:"1.0625",fill:"#8A919F"}})]))}}},976:function(e,t,n){"use strict";function r(e,t){if((10==e.keyCode||13==e.keyCode)&&(e.ctrlKey||e.metaKey))return t()}n.d(t,"a",(function(){return r}))},984:function(e,t){}}]);
//# sourceMappingURL=4ef3db1.js.map